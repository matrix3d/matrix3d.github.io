'use strict';var aa='',ba=' out of bounds [0, ..., 3]',da='(a\x3d',ea='(redMultiplier\x3d',fa='(x\x3d',ha=')',ia=',',ja=', ',ka=', alphaMultiplier\x3d',la=', alphaOffset\x3d',ma=', b\x3d',na=', blueMultiplier\x3d',oa=', blueOffset\x3d',pa=', c\x3d',qa=', d\x3d',ra=', greenMultiplier\x3d',ta=', greenOffset\x3d',ua=', h\x3d',wa=', redOffset\x3d',xa=', tx\x3d',ya=', ty\x3d',za=', w\x3d',Aa=', y\x3d',Ba='.',Ca='2d',Da='AddPair',Ea='Box2D.Collision.ClipVertex',Fa='Box2D.Collision.Features',Ga='Box2D.Collision.Shapes.b2CircleShape',
Ja='Box2D.Collision.Shapes.b2EdgeShape',Ka='Box2D.Collision.Shapes.b2MassData',Ma='Box2D.Collision.Shapes.b2PolygonShape',Na='Box2D.Collision.Shapes.b2Shape',Oa='Box2D.Collision.Shapes.b2ShapeUtil',Pa='Box2D.Collision.b2AABB',Ra='Box2D.Collision.b2Collision',Sa='Box2D.Collision.b2ContactID',Ta='Box2D.Collision.b2ContactPoint',Ua='Box2D.Collision.b2Distance',Va='Box2D.Collision.b2DistanceInput',Wa='Box2D.Collision.b2DistanceOutput',Xa='Box2D.Collision.b2DistanceProxy',Ya='Box2D.Collision.b2DynamicTree',
Za='Box2D.Collision.b2DynamicTreeBroadPhase',$a='Box2D.Collision.b2DynamicTreeNode',ab='Box2D.Collision.b2DynamicTreePair',bb='Box2D.Collision.b2Manifold',cb='Box2D.Collision.b2ManifoldPoint',db='Box2D.Collision.b2RayCastInput',eb='Box2D.Collision.b2RayCastOutput',fb='Box2D.Collision.b2SeparationFunction',gb='Box2D.Collision.b2Simplex',hb='Box2D.Collision.b2SimplexCache',ib='Box2D.Collision.b2SimplexVertex',jb='Box2D.Collision.b2TOIInput',kb='Box2D.Collision.b2TimeOfImpact',lb='Box2D.Collision.b2WorldManifold',
mb='Box2D.Common.Math.b2Mat22',nb='Box2D.Common.Math.b2Mat33',ob='Box2D.Common.Math.b2Math',qb='Box2D.Common.Math.b2Sweep',rb='Box2D.Common.Math.b2Transform',sb='Box2D.Common.Math.b2Vec2',tb='Box2D.Common.Math.b2Vec3',ub='Box2D.Common.b2Color',vb='Box2D.Common.b2Settings',wb='Box2D.Dynamics.Contacts.b2CircleContact',xb='Box2D.Dynamics.Contacts.b2Contact',yb='Box2D.Dynamics.Contacts.b2ContactConstraint',zb='Box2D.Dynamics.Contacts.b2ContactConstraintPoint',Ab='Box2D.Dynamics.Contacts.b2ContactEdge',
Bb='Box2D.Dynamics.Contacts.b2ContactFactory',Cb='Box2D.Dynamics.Contacts.b2ContactRegister',Db='Box2D.Dynamics.Contacts.b2ContactSolver',Eb='Box2D.Dynamics.Contacts.b2EdgeAndCircleContact',Fb='Box2D.Dynamics.Contacts.b2PolyAndCircleContact',Gb='Box2D.Dynamics.Contacts.b2PolyAndEdgeContact',Hb='Box2D.Dynamics.Contacts.b2PolygonContact',Ib='Box2D.Dynamics.Contacts.b2PositionSolverManifold',Jb='Box2D.Dynamics.Joints.b2DistanceJoint',Kb='Box2D.Dynamics.Joints.b2DistanceJointDef',Lb='Box2D.Dynamics.Joints.b2FrictionJoint',
Mb='Box2D.Dynamics.Joints.b2FrictionJointDef',Nb='Box2D.Dynamics.Joints.b2GearJoint',Ob='Box2D.Dynamics.Joints.b2GearJointDef',Pb='Box2D.Dynamics.Joints.b2Jacobian',Qb='Box2D.Dynamics.Joints.b2Joint',Rb='Box2D.Dynamics.Joints.b2JointDef',Sb='Box2D.Dynamics.Joints.b2JointEdge',Tb='Box2D.Dynamics.Joints.b2JointUtil',Zb='Box2D.Dynamics.Joints.b2LineJoint',$b='Box2D.Dynamics.Joints.b2LineJointDef',ac='Box2D.Dynamics.Joints.b2MouseJoint',bc='Box2D.Dynamics.Joints.b2MouseJointDef',cc='Box2D.Dynamics.Joints.b2PrismaticJoint',
dc='Box2D.Dynamics.Joints.b2PrismaticJointDef',ec='Box2D.Dynamics.Joints.b2PulleyJoint',fc='Box2D.Dynamics.Joints.b2PulleyJointDef',gc='Box2D.Dynamics.Joints.b2RevoluteJoint',hc='Box2D.Dynamics.Joints.b2RevoluteJointDef',ic='Box2D.Dynamics.Joints.b2WeldJoint',jc='Box2D.Dynamics.Joints.b2WeldJointDef',kc='Box2D.Dynamics.b2Body',lc='Box2D.Dynamics.b2BodyDef',mc='Box2D.Dynamics.b2ContactFilter',nc='Box2D.Dynamics.b2ContactImpulse',oc='Box2D.Dynamics.b2ContactListener',pc='Box2D.Dynamics.b2ContactManager',
qc='Box2D.Dynamics.b2DebugDraw',rc='Box2D.Dynamics.b2FilterData',sc='Box2D.Dynamics.b2Fixture',tc='Box2D.Dynamics.b2FixtureDef',uc='Box2D.Dynamics.b2Island',vc='Box2D.Dynamics.b2TimeStep',wc='Box2D.Dynamics.b2World',xc='Error, Column ',yc='QueryCallback',zc='RayCastAllWrapper',Ac='RayCastOneWrapper',Bc='RayCastWrapper',Cc='SpriteFlexjs',Dc='TEXTURE',Ec='TestBox2D',Fc='Type Coercion failed',Gc='Update',Hc='Vector3D(',Ic='WorldQueryWrapper',Jc='__enterFrame',Kc='__mouseevent',Lc='__update',Mc='absolute',
Nc='addedToStage',Oc='always',Pc='attribute vec2 va0;attribute vec4 va1;attribute vec2 va2;varying vec4 vColor;varying vec2 vUV;uniform mat4 vc0;uniform mat4 vc4;void main(void) {vColor\x3dva1;vUV\x3d(vc4*vec4(va2,0.0,1.0)).xy;gl_Position \x3dvc0*vec4(va0, 0.0,1.0);}',Qc='attribute vec2 va0;attribute vec4 va1;varying vec4 vColor;uniform mat4 vc0;void main(void) {vColor\x3dva1;gl_Position \x3dvc0*vec4(va0, 0.0,1.0);}',Rc='axisAngle',Sc='back',Tc='bat new index',Uc='bat new pos',Vc='bgra',Wc='bigEndian',
Xc='boolean',Yc='canvas',Zc='canvas_mouseevent',$c='canvas_touchevent',ad='click',bd='color',cd='context3DCreate',dd='contextMenu',ed='contextmenu',fd='dblclick',gd='destinationAlpha',hd='destinationColor',id='doubleClick',jd='enterFrame',kd='equal',ld='eulerAngles',md='evenOdd',nd='experimental-webgl',od='fc',pd='flash.__native.BaseRenderer',qd='flash.__native.BitmapTexture',rd='flash.__native.GLCanvasPattern',sd='flash.__native.GLCanvasRenderingContext2D',td='flash.__native.GLCanvasState',ud='flash.__native.GLDrawable',
vd='flash.__native.GLGraphicsPath',wd='flash.__native.GLIndexBufferSet',xd='flash.__native.GLPath2D',yd='flash.__native.GLVertexBufferSet',zd='flash.__native.IRenderer',Ad='flash.__native.MemArray',Bd='flash.display.BitmapData',Cd='flash.display.DisplayObject',Dd='flash.display.DisplayObjectContainer',Ed='flash.display.GradientType',Fd='flash.display.Graphics',Gd='flash.display.GraphicsBitmapFill',Hd='flash.display.GraphicsEndFill',Id='flash.display.GraphicsGradientFill',Jd='flash.display.GraphicsPath',
Kd='flash.display.GraphicsPathCommand',Ld='flash.display.GraphicsSolidFill',Md='flash.display.GraphicsStroke',Nd='flash.display.GraphicsTrianglePath',Od='flash.display.InteractiveObject',Pd='flash.display.Sprite',Qd='flash.display.Stage',Rd='flash.display.Stage3D',Sd='flash.display3D.Context3D',Td='flash.display3D.Context3DBlendFactor',Ud='flash.display3D.Context3DCompareMode',Vd='flash.display3D.Context3DProgramType',Wd='flash.display3D.Context3DTextureFormat',Xd='flash.display3D.Context3DTriangleFace',
Yd='flash.display3D.Context3DVertexBufferFormat',Zd='flash.display3D.IndexBuffer3D',$d='flash.display3D.Program3D',ae='flash.display3D.VertexBuffer3D',be='flash.display3D.textures.CubeTexture',ce='flash.display3D.textures.RectangleTexture',de='flash.display3D.textures.Texture',ee='flash.display3D.textures.TextureBase',fe='flash.display3D.textures.VideoTexture',ge='flash.events.Event',he='flash.events.EventDispatcher',ie='flash.events.MouseEvent',je='flash.events.TouchEvent',ke='flash.geom.ColorTransform',
le='flash.geom.Matrix',me='flash.geom.Matrix3D',ne='flash.geom.Orientation3D',oe='flash.geom.Point',pe='flash.geom.Rectangle',qe='flash.geom.Transform',re='flash.geom.Vector3D',se='flash.utils.ByteArray',te='flash.utils.Endian',ue='float1',ve='float2',we='float3',xe='float4',ye='front',ze='frontAndBack',Ae='fs',Be='function',Ce='greater',De='greaterEqual',Ee='instance',Fe='less',Ge='lessEqual',He='linear',Ie='littleEndian',Je='m_angularDamping',Ke='m_length',Le='m_linearDamping',Me='m_next',Ne='m_userData',
Oe='mouseDown',Pe='mouseMove',Qe='mouseOut',Re='mouseOver',Se='mouseUp',Te='mouseWheel',Ue='mousedown',Ve='mouseenter',We='mouseleave',Xe='mousemove',Ye='mouseout',Ze='mouseover',$e='mouseup',af='mousewheel',bf='native code',cf='never',df='no-repeat',ef='none',ff='normal',gf='notEqual',hf='number',jf='one',kf='oneMinusDestinationAlpha',lf='oneMinusDestinationColor',mf='oneMinusSourceAlpha',nf='oneMinusSourceColor',of='org.apache.flex.utils.Language',pf='pad',qf='pos',rf='precision mediump float;varying vec4 vColor;varying vec2 vUV;uniform sampler2D fs0;void main(void) {gl_FragColor \x3d texture2D(fs0,vUV)*vColor;}',
sf='precision mediump float;varying vec4 vColor;void main(void) {gl_FragColor \x3d vColor;}',tf='quaternion',uf='removedFromStage',vf='repeat',wf='resize',xf='rgb',yf='rgba(',zf='rollOver',Af='round',Bf='sourceAlpha',Cf='sourceColor',Df='stage_enterFrame',Ef='stage_resize',Ff='string',Gf='top',Hf='touchBegin',If='touchEnd',Jf='touchMove',Kf='touchcancel',Lf='touchend',Mf='touchmove',Nf='touchstart',Of='tripath',Pf='utf-8',Qf='uv',Rf='va',Sf='var ',Tf='vc',Uf='vertex',Vf='webgl',Wf='window_resize',
Xf='zero';function m(){return function(){}}function q(a){return function(b){this[a]=b}}function t(a){return function(){return this[a]}}function w(a){return function(){return a}}var Yf,Zf=this;function $f(a,b,c){return a.call.apply(a.bind,arguments)}
function ag(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function bg(a,b,c){bg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(bf)?$f:ag;return bg.apply(null,arguments)}
function y(a,b){var c=a.split(Ba),d=Zf;c[0]in d||!d.execScript||d.execScript(Sf+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function cg(a,b){function c(){}c.prototype=b.prototype;a.Ja=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.qn=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function dg(){}var eg,fg,gg=[],hg=String.fromCharCode(0);function z(a,b,c){c='undefined'!==typeof c?c:null;b=ig(a,b);if(!b&&void 0!==c&&c)throw a=TypeError?new TypeError(Fc):Error(Fc),a;return b?a:null}y('org.apache.flex.utils.Language.as',z);y('org.apache.flex.utils.Language._int',function(a){return a>>0});
function ig(a,b){var c;if(null==a||null==b)return!1;if(a instanceof b||b===Object)return!0;if(typeof a===Ff)return b===String;if(typeof a===hf)return b===Number;if(typeof a===Xc)return b===Boolean;if(b===Array)return Array.isArray(a);if(void 0===a.i)return!1;if(a.i.Sa&&jg(a,b))return!0;c=a.constructor;if(c=c.Ja)for(;c&&c.i;){if(c.i.Sa&&jg(c,b))return!0;c=c.constructor;c=c.Ja}return!1}y('org.apache.flex.utils.Language.is',ig);
function jg(a,b){var c,d;d=a.i.Sa;for(c=d.length-1;-1<c;c--)if(d[c]===b||d[c].prototype.i.Sa&&jg(d[c].prototype,b))return!0;return!1}dg.prototype.th=function(a){return typeof a===Be&&a.prototype&&a.prototype.constructor===a};dg.prototype.isClass=dg.prototype.th;dg.prototype.Rk=function(a){return this.th(a)?a:null};dg.prototype.asClass=dg.prototype.Rk;y('org.apache.flex.utils.Language.postdecrement',function(a,b){var c=a[b];a[b]=c-1;return c});
y('org.apache.flex.utils.Language.postincrement',function(a,b){var c=a[b];a[b]=c+1;return c});y('org.apache.flex.utils.Language.predecrement',function(a,b){var c=a[b]-1;return a[b]=c});y('org.apache.flex.utils.Language.preincrement',function(a,b){var c=a[b]+1;return a[b]=c});y('org.apache.flex.utils.Language.superGetter',function(a,b,c){a=a.Ja;for(var d=Object.getOwnPropertyDescriptor(a,c);null==d;)a=a.constructor,a=a.Ja,d=Object.getOwnPropertyDescriptor(a,c);return d.get.call(b)});
y('org.apache.flex.utils.Language.superSetter',function(a,b,c,d){a=a.Ja;for(var e=Object.getOwnPropertyDescriptor(a,c);null==e;)a=a.constructor,a=a.Ja,e=Object.getOwnPropertyDescriptor(a,c);e.set.apply(b,[d])});function kg(a){a=Array.prototype.slice.call(arguments,0);var b;b=Zf.console;void 0===b&&('undefined'!==typeof window?b=window.console:'undefined'!==typeof console&&(b=console));try{b&&b.log&&b.log.apply(b,a)}catch(c){}}y('org.apache.flex.utils.Language.trace',kg);
y('org.apache.flex.utils.Language.uint',function(a){return a>>>0});function lg(a,b,c){if(b.hasOwnProperty(c))return b[c];a=bg(a,b);Object.defineProperty(b,c,{value:a});return a}y('org.apache.flex.utils.Language.closure',lg);y('org.apache.flex.utils.Language.sortOn',function(a,b,c){c='undefined'!==typeof c?c:0;ig(b,Array)?eg=z(b,Array):(gg[0]=b,eg=gg);if(ig(c,Array)){b=0;for(var d in c)b|=c[d]}else b=z(c,Number);fg=0<(2&b)?-1:1;b&16?a.sort(mg):b&1?a.sort(ng):a.sort(og)});
function ng(a,b){var c=eg,d;for(d in c){var e=c[d],e=(a[e]||hg).toString().toLowerCase().localeCompare((b[e]||hg).toString().toLowerCase());if(0!=e)return e*fg}return 0}function og(a,b){var c=eg,d;for(d in c){var e=c[d],e=(a[e]||hg).toString().localeCompare((b[e]||hg).toString());if(0!=e)return e*fg}return 0}function mg(a,b){var c=eg,d;for(d in c){var e=c[d];if(a[e]>b[e])return fg;if(a[e]<b[e])return-fg}return 0}dg.prototype.i={names:[{name:'Language',j:of}]};y(of,dg);function pg(){}y('Box2D.Common.b2Settings.VERSION','2.1alpha');y('Box2D.Common.b2Settings.USHRT_MAX',65535);var qg=Math.PI;y('Box2D.Common.b2Settings.b2_pi',qg);y('Box2D.Common.b2Settings.b2_maxManifoldPoints',2);y('Box2D.Common.b2Settings.b2_aabbExtension',.1);y('Box2D.Common.b2Settings.b2_aabbMultiplier',2);y('Box2D.Common.b2Settings.b2_polygonRadius',.01);y('Box2D.Common.b2Settings.b2_linearSlop',.005);var rg=2/180*qg;y('Box2D.Common.b2Settings.b2_angularSlop',rg);
y('Box2D.Common.b2Settings.b2_toiSlop',.04);y('Box2D.Common.b2Settings.b2_maxTOIContactsPerIsland',32);y('Box2D.Common.b2Settings.b2_maxTOIJointsPerIsland',32);y('Box2D.Common.b2Settings.b2_velocityThreshold',1);y('Box2D.Common.b2Settings.b2_maxLinearCorrection',.2);var sg=8/180*qg;y('Box2D.Common.b2Settings.b2_maxAngularCorrection',sg);y('Box2D.Common.b2Settings.b2_maxTranslation',2);y('Box2D.Common.b2Settings.b2_maxTranslationSquared',4);var tg=.5*qg;y('Box2D.Common.b2Settings.b2_maxRotation',tg);
var ug=tg*tg;y('Box2D.Common.b2Settings.b2_maxRotationSquared',ug);y('Box2D.Common.b2Settings.b2_contactBaumgarte',.2);function vg(a,b){return Math.sqrt(a*b)}y('Box2D.Common.b2Settings.b2MixFriction',vg);function wg(a,b){return a>b?a:b}y('Box2D.Common.b2Settings.b2MixRestitution',wg);y('Box2D.Common.b2Settings.b2_timeToSleep',.5);y('Box2D.Common.b2Settings.b2_linearSleepTolerance',.01);var xg=2/180*qg;y('Box2D.Common.b2Settings.b2_angularSleepTolerance',xg);
function yg(a){if(!a)throw'Assertion Failed';}y('Box2D.Common.b2Settings.b2Assert',yg);pg.prototype.i={names:[{name:'b2Settings',j:vb}]};y(vb,pg);function zg(){this.m_type=-1;this.m_radius=.005}zg.prototype.G=w(null);zg.prototype.Copy=zg.prototype.G;zg.prototype.Set=function(a){this.m_radius=a.m_radius};zg.prototype.Set=zg.prototype.Set;zg.prototype.D=t('m_type');zg.prototype.GetType=zg.prototype.D;zg.prototype.fb=w(!1);zg.prototype.TestPoint=zg.prototype.fb;zg.prototype.ba=w(!1);zg.prototype.RayCast=zg.prototype.ba;zg.prototype.Ya=m();zg.prototype.ComputeAABB=zg.prototype.Ya;zg.prototype.zb=m();zg.prototype.ComputeMass=zg.prototype.zb;
zg.prototype.Wb=w(0);zg.prototype.ComputeSubmergedArea=zg.prototype.Wb;y('Box2D.Collision.Shapes.b2Shape.e_unknownShape',-1);y('Box2D.Collision.Shapes.b2Shape.e_circleShape',0);y('Box2D.Collision.Shapes.b2Shape.e_polygonShape',1);y('Box2D.Collision.Shapes.b2Shape.e_edgeShape',2);y('Box2D.Collision.Shapes.b2Shape.e_shapeTypeCount',3);y('Box2D.Collision.Shapes.b2Shape.e_hitCollide',1);y('Box2D.Collision.Shapes.b2Shape.e_missCollide',0);y('Box2D.Collision.Shapes.b2Shape.e_startsInsideCollide',-1);
zg.prototype.i={names:[{name:'b2Shape',j:Na}]};y(Na,zg);function A(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0}A.prototype.o=function(){this.y=this.x=0};A.prototype.SetZero=A.prototype.o;A.prototype.Set=function(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0};A.prototype.Set=A.prototype.Set;A.prototype.l=function(a){this.x=a.x;this.y=a.y};A.prototype.SetV=A.prototype.l;A.prototype.Ab=function(){return new A(-this.x,-this.y)};A.prototype.GetNegative=A.prototype.Ab;
A.prototype.Yd=function(){this.x=-this.x;this.y=-this.y};A.prototype.NegativeSelf=A.prototype.Yd;function Ag(a,b){return new A(a,b)}y('Box2D.Common.Math.b2Vec2.Make',Ag);A.prototype.G=function(){return new A(this.x,this.y)};A.prototype.Copy=A.prototype.G;A.prototype.mb=function(a){this.x+=a.x;this.y+=a.y};A.prototype.Add=A.prototype.mb;A.prototype.Ye=function(a){this.x-=a.x;this.y-=a.y};A.prototype.Subtract=A.prototype.Ye;A.prototype.Ra=function(a){this.x*=a;this.y*=a};A.prototype.Multiply=A.prototype.Ra;
A.prototype.Gj=function(a){var b=this.x;this.x=a.col1.x*b+a.col2.x*this.y;this.y=a.col1.y*b+a.col2.y*this.y};A.prototype.MulM=A.prototype.Gj;A.prototype.Hj=function(a){var b=Bg(this,a.col1);this.y=Bg(this,a.col2);this.x=b};A.prototype.MulTM=A.prototype.Hj;A.prototype.ni=function(a){var b=this.x;this.x=a*this.y;this.y=-a*b};A.prototype.CrossVF=A.prototype.ni;A.prototype.mi=function(a){var b=this.x;this.x=-a*this.y;this.y=a*b};A.prototype.CrossFV=A.prototype.mi;
A.prototype.Fj=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};A.prototype.MinV=A.prototype.Fj;A.prototype.Dj=function(a){this.x=this.x>a.x?this.x:a.x;this.y=this.y>a.y?this.y:a.y};A.prototype.MaxV=A.prototype.Dj;A.prototype.Uc=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};A.prototype.Abs=A.prototype.Uc;A.prototype.pb=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};A.prototype.Length=A.prototype.pb;
A.prototype.ac=function(){return this.x*this.x+this.y*this.y};A.prototype.LengthSquared=A.prototype.ac;A.prototype.ra=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};A.prototype.Normalize=A.prototype.ra;A.prototype.rd=function(){return isFinite(this.x)&&isFinite(this.y)};A.prototype.IsValid=A.prototype.rd;function Bg(a,b){return a.x*b.x+a.y*b.y}y('Box2D.Common.Math.b2Vec2.Dot',Bg);
y('Box2D.Common.Math.b2Vec2.MathIsValid',function(a){return isFinite(a)});A.prototype.i={names:[{name:'b2Vec2',j:sb}]};y(sb,A);function C(){this.col1=new A;this.col2=new A;this.col1.x=this.col2.y=1}function Cg(a){var b=new C;b.Set(a);return b}y('Box2D.Common.Math.b2Mat22.FromAngle',Cg);function Dg(a,b){var c=new C;c.Ag(a,b);return c}y('Box2D.Common.Math.b2Mat22.FromVV',Dg);C.prototype.Set=function(a){var b=Math.cos(a);a=Math.sin(a);this.col1.x=b;this.col2.x=-a;this.col1.y=a;this.col2.y=b};C.prototype.Set=C.prototype.Set;C.prototype.Ag=function(a,b){this.col1.l(a);this.col2.l(b)};C.prototype.SetVV=C.prototype.Ag;
C.prototype.G=function(){var a=new C;a.Db(this);return a};C.prototype.Copy=C.prototype.G;C.prototype.Db=function(a){this.col1.l(a.col1);this.col2.l(a.col2)};C.prototype.SetM=C.prototype.Db;C.prototype.vc=function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y};C.prototype.AddM=C.prototype.vc;C.prototype.bc=function(){this.col1.x=1;this.col2.x=0;this.col1.y=0;this.col2.y=1};C.prototype.SetIdentity=C.prototype.bc;
C.prototype.o=function(){this.col1.x=0;this.col2.x=0;this.col1.y=0;this.col2.y=0};C.prototype.SetZero=C.prototype.o;C.prototype.La=function(){return Math.atan2(this.col1.y,this.col1.x)};C.prototype.GetAngle=C.prototype.La;C.prototype.Vd=function(a){var b=this.col1.x,c=this.col2.x,d=this.col1.y,e=this.col2.y,f=b*e-c*d;0!=f&&(f=1/f);a.col1.x=f*e;a.col2.x=-f*c;a.col1.y=-f*d;a.col2.y=f*b;return a};C.prototype.GetInverse=C.prototype.Vd;
C.prototype.qb=function(a,b,c){var d=this.col1.x,e=this.col2.x,f=this.col1.y,g=this.col2.y,h=d*g-e*f;0!=h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};C.prototype.Solve=C.prototype.qb;C.prototype.Uc=function(){this.col1.Uc();this.col2.Uc()};C.prototype.Abs=C.prototype.Uc;C.prototype.i={names:[{name:'b2Mat22',j:mb}]};y(mb,C);function Eg(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;this.position=new A;this.R=new C;a&&(this.position.l(a),this.R.Db(b))}Eg.prototype.H=function(a,b){this.position.l(a);this.R.Db(b)};Eg.prototype.Initialize=Eg.prototype.H;Eg.prototype.bc=function(){this.position.o();this.R.bc()};Eg.prototype.SetIdentity=Eg.prototype.bc;Eg.prototype.Set=function(a){this.position.l(a.position);this.R.Db(a.R)};Eg.prototype.Set=Eg.prototype.Set;
Eg.prototype.La=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)};Eg.prototype.GetAngle=Eg.prototype.La;Eg.prototype.i={names:[{name:'b2Transform',j:rb}]};y(rb,Eg);function Fg(){}y('Box2D.Common.Math.b2Math.IsValid',function(a){return isFinite(a)});function Gg(a,b){return a.x*b.x+a.y*b.y}y('Box2D.Common.Math.b2Math.Dot',Gg);function Hg(a,b){return a.x*b.y-a.y*b.x}y('Box2D.Common.Math.b2Math.CrossVV',Hg);function Ig(a,b){return new A(b*a.y,-b*a.x)}y('Box2D.Common.Math.b2Math.CrossVF',Ig);function Jg(a,b){return new A(-a*b.y,a*b.x)}y('Box2D.Common.Math.b2Math.CrossFV',Jg);function Kg(a,b){return new A(a.col1.x*b.x+a.col2.x*b.y,a.col1.y*b.x+a.col2.y*b.y)}
y('Box2D.Common.Math.b2Math.MulMV',Kg);function Lg(a,b){return new A(Gg(b,a.col1),Gg(b,a.col2))}y('Box2D.Common.Math.b2Math.MulTMV',Lg);function Mg(a,b){var c=Kg(a.R,b);c.x+=a.position.x;c.y+=a.position.y;return c}y('Box2D.Common.Math.b2Math.MulX',Mg);function Ng(a,b){var c=Og(b,a.position),d=c.x*a.R.col1.x+c.y*a.R.col1.y;c.y=c.x*a.R.col2.x+c.y*a.R.col2.y;c.x=d;return c}y('Box2D.Common.Math.b2Math.MulXT',Ng);function Pg(a,b){return new A(a.x+b.x,a.y+b.y)}y('Box2D.Common.Math.b2Math.AddVV',Pg);
function Og(a,b){return new A(a.x-b.x,a.y-b.y)}y('Box2D.Common.Math.b2Math.SubtractVV',Og);y('Box2D.Common.Math.b2Math.Distance',function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)});y('Box2D.Common.Math.b2Math.DistanceSquared',function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d});y('Box2D.Common.Math.b2Math.MulFV',function(a,b){return new A(a*b.x,a*b.y)});y('Box2D.Common.Math.b2Math.AddMM',function(a,b){return Dg(Pg(a.col1,b.col1),Pg(a.col2,b.col2))});
y('Box2D.Common.Math.b2Math.MulMM',function(a,b){return Dg(Kg(a,b.col1),Kg(a,b.col2))});y('Box2D.Common.Math.b2Math.MulTMM',function(a,b){return Dg(new A(Gg(a.col1,b.col1),Gg(a.col2,b.col1)),new A(Gg(a.col1,b.col2),Gg(a.col2,b.col2)))});function Qg(a){return 0<a?a:-a}y('Box2D.Common.Math.b2Math.Abs',Qg);function Rg(a){return new A(Qg(a.x),Qg(a.y))}y('Box2D.Common.Math.b2Math.AbsV',Rg);y('Box2D.Common.Math.b2Math.AbsM',function(a){return Dg(Rg(a.col1),Rg(a.col2))});
function Sg(a,b){return a<b?a:b}y('Box2D.Common.Math.b2Math.Min',Sg);function Tg(a,b){return new A(Sg(a.x,b.x),Sg(a.y,b.y))}y('Box2D.Common.Math.b2Math.MinV',Tg);function Ug(a,b){return a>b?a:b}y('Box2D.Common.Math.b2Math.Max',Ug);function Vg(a,b){return new A(Ug(a.x,b.x),Ug(a.y,b.y))}y('Box2D.Common.Math.b2Math.MaxV',Vg);function Wg(a,b,c){return a<b?b:a>c?c:a}y('Box2D.Common.Math.b2Math.Clamp',Wg);y('Box2D.Common.Math.b2Math.ClampV',function(a,b,c){return Vg(b,Tg(a,c))});
y('Box2D.Common.Math.b2Math.Swap',function(a,b){var c=a[0];a[0]=b[0];b[0]=c});y('Box2D.Common.Math.b2Math.Random',function(){return 2*Math.random()-1});y('Box2D.Common.Math.b2Math.RandomRange',function(a,b){var c=Math.random();return(b-a)*c+a});y('Box2D.Common.Math.b2Math.NextPowerOfTwo',function(a){a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1});y('Box2D.Common.Math.b2Math.IsPowerOfTwo',function(a){return 0<a&&0==(a&a-1)});var Xg=new A(0,0);
y('Box2D.Common.Math.b2Math.b2Vec2_zero',Xg);var Yg=Dg(new A(1,0),new A(0,1));y('Box2D.Common.Math.b2Math.b2Mat22_identity',Yg);var Zg=new Eg(Xg,Yg);y('Box2D.Common.Math.b2Math.b2Transform_identity',Zg);Fg.prototype.i={names:[{name:'b2Math',j:ob}]};y(ob,Fg);function $g(a){a='undefined'!==typeof a?a:0;this.m_p=new A;zg.call(this);this.m_type=0;this.m_radius=a}cg($g,zg);$g.prototype.G=function(){var a=new $g;a.Set(this);return a};$g.prototype.Copy=$g.prototype.G;$g.prototype.Set=function(a){$g.Ja.Set.call(this,a);ig(a,$g)&&(a=z(a,$g),this.m_p.l(a.m_p))};$g.prototype.Set=$g.prototype.Set;
$g.prototype.fb=function(a,b){var c=a.R,d=a.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y),c=a.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y),d=b.x-d,c=b.y-c;return d*d+c*c<=this.m_radius*this.m_radius};$g.prototype.TestPoint=$g.prototype.fb;
$g.prototype.ba=function(a,b,c){var d=c.R,e=b.p1.x-(c.position.x+(d.col1.x*this.m_p.x+d.col2.x*this.m_p.y));c=b.p1.y-(c.position.y+(d.col1.y*this.m_p.x+d.col2.y*this.m_p.y));var d=b.p2.x-b.p1.x,f=b.p2.y-b.p1.y,g=e*d+c*f,h=d*d+f*f,k=g*g-h*(e*e+c*c-this.m_radius*this.m_radius);if(0>k||h<Number.MIN_VALUE)return!1;g=-(g+Math.sqrt(k));return 0<=g&&g<=b.maxFraction*h?(g/=h,a.fraction=g,a.normal.x=e+g*d,a.normal.y=c+g*f,a.normal.ra(),!0):!1};$g.prototype.RayCast=$g.prototype.ba;
$g.prototype.Ya=function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y),c=b.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y);a.lowerBound.Set(d-this.m_radius,c-this.m_radius);a.upperBound.Set(d+this.m_radius,c+this.m_radius)};$g.prototype.ComputeAABB=$g.prototype.Ya;$g.prototype.zb=function(a,b){a.Xa=b*qg*this.m_radius*this.m_radius;a.center.l(this.m_p);a.Bb=a.Xa*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))};$g.prototype.ComputeMass=$g.prototype.zb;
$g.prototype.Wb=function(a,b,c,d){c=Mg(c,this.m_p);var e=-(Gg(a,c)-b);if(e<-this.m_radius+Number.MIN_VALUE)return 0;if(e>this.m_radius)return d.l(c),Math.PI*this.m_radius*this.m_radius;b=this.m_radius*this.m_radius;var f=e*e,e=b*(Math.asin(e/this.m_radius)+Math.PI/2)+e*Math.sqrt(b-f);b=-2/3*Math.pow(b-f,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};$g.prototype.ComputeSubmergedArea=$g.prototype.Wb;$g.prototype.ej=t('m_p');$g.prototype.GetLocalPosition=$g.prototype.ej;$g.prototype.ik=function(a){this.m_p.l(a)};
$g.prototype.SetLocalPosition=$g.prototype.ik;$g.prototype.pj=t('m_radius');$g.prototype.GetRadius=$g.prototype.pj;$g.prototype.qk=q('m_radius');$g.prototype.SetRadius=$g.prototype.qk;$g.prototype.i={names:[{name:'b2CircleShape',j:Ga}]};y(Ga,$g);function ah(){this.center=new A(0,0)}ah.prototype.Xa=0;ah.prototype.mass=ah.prototype.Xa;ah.prototype.Bb=0;ah.prototype.I=ah.prototype.Bb;ah.prototype.i={names:[{name:'b2MassData',j:Ka}]};y(Ka,ah);function D(){zg.call(this);this.m_type=1;this.m_centroid=new A;this.m_vertices=[];this.m_normals=[]}cg(D,zg);D.prototype.G=function(){var a=new D;a.Set(this);return a};D.prototype.Copy=D.prototype.G;D.prototype.Set=function(a){D.Ja.Set.call(this,a);if(ig(a,D)){a=z(a,D);this.m_centroid.l(a.m_centroid);this.m_vertexCount=a.m_vertexCount;bh(this,this.m_vertexCount);for(var b=0;b<this.m_vertexCount;b++)this.m_vertices[b].l(a.m_vertices[b]),this.m_normals[b].l(a.m_normals[b])}};D.prototype.Set=D.prototype.Set;
D.prototype.rg=function(a,b){b='undefined'!==typeof b?b:0;var c=[],d;for(d in a)c.push(a[d]);this.Re(c,b)};D.prototype.SetAsArray=D.prototype.rg;y('Box2D.Collision.Shapes.b2PolygonShape.AsArray',function(a,b){var c=new D;c.rg(a,b);return c});
D.prototype.Re=function(a,b){b='undefined'!==typeof b?b:0;0==b&&(b=a.length);yg(2<=b);this.m_vertexCount=b;bh(this,b);var c;for(c=0;c<this.m_vertexCount;c++)this.m_vertices[c].l(a[c]);for(c=0;c<this.m_vertexCount;++c){var d=Og(this.m_vertices[c+1<this.m_vertexCount?c+1:0],this.m_vertices[c]);yg(d.ac()>Number.MIN_VALUE);this.m_normals[c].l(Ig(d,1));this.m_normals[c].ra()}this.m_centroid=ch(this.m_vertices,this.m_vertexCount)};D.prototype.SetAsVector=D.prototype.Re;
y('Box2D.Collision.Shapes.b2PolygonShape.AsVector',function(a,b){var c=new D;c.Re(a,b);return c});D.prototype.Zd=function(a,b){this.m_vertexCount=4;bh(this,4);this.m_vertices[0].Set(-a,-b);this.m_vertices[1].Set(a,-b);this.m_vertices[2].Set(a,b);this.m_vertices[3].Set(-a,b);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid.o()};D.prototype.SetAsBox=D.prototype.Zd;
y('Box2D.Collision.Shapes.b2PolygonShape.AsBox',function(a,b){var c=new D;c.Zd(a,b);return c});new C;
D.prototype.tg=function(a,b,c,d){c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:0;this.m_vertexCount=4;bh(this,4);this.m_vertices[0].Set(-a,-b);this.m_vertices[1].Set(a,-b);this.m_vertices[2].Set(a,b);this.m_vertices[3].Set(-a,b);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid=c;a=new Eg;a.position=c;a.R.Set(d);for(c=0;c<this.m_vertexCount;++c)this.m_vertices[c]=Mg(a,this.m_vertices[c]),this.m_normals[c]=Kg(a.R,
this.m_normals[c])};D.prototype.SetAsOrientedBox=D.prototype.tg;y('Box2D.Collision.Shapes.b2PolygonShape.AsOrientedBox',function(a,b,c,d){var e=new D;e.tg(a,b,'undefined'!==typeof c?c:null,'undefined'!==typeof d?d:0);return e});
D.prototype.sg=function(a,b){this.m_vertexCount=2;bh(this,2);this.m_vertices[0].l(a);this.m_vertices[1].l(b);this.m_centroid.x=.5*(a.x+b.x);this.m_centroid.y=.5*(a.y+b.y);this.m_normals[0]=Ig(Og(b,a),1);this.m_normals[0].ra();this.m_normals[1].x=-this.m_normals[0].x;this.m_normals[1].y=-this.m_normals[0].y};D.prototype.SetAsEdge=D.prototype.sg;y('Box2D.Collision.Shapes.b2PolygonShape.AsEdge',function(a,b){var c=new D;c.sg(a,b);return c});
D.prototype.fb=function(a,b){var c;c=a.R;for(var d=b.x-a.position.x,e=b.y-a.position.y,f=d*c.col1.x+e*c.col1.y,g=d*c.col2.x+e*c.col2.y,h=0;h<this.m_vertexCount;++h)if(c=this.m_vertices[h],d=f-c.x,e=g-c.y,c=this.m_normals[h],0<c.x*d+c.y*e)return!1;return!0};D.prototype.TestPoint=D.prototype.fb;
D.prototype.ba=function(a,b,c){var d=0,e=b.maxFraction,f,g,h,k;f=b.p1.x-c.position.x;g=b.p1.y-c.position.y;h=c.R;var l=f*h.col1.x+g*h.col1.y,n=f*h.col2.x+g*h.col2.y;f=b.p2.x-c.position.x;g=b.p2.y-c.position.y;h=c.R;b=f*h.col1.x+g*h.col1.y-l;h=f*h.col2.x+g*h.col2.y-n;for(var p=-1,u=0;u<this.m_vertexCount;++u){k=this.m_vertices[u];f=k.x-l;g=k.y-n;k=this.m_normals[u];f=k.x*f+k.y*g;g=k.x*b+k.y*h;if(0==g){if(0>f)return!1}else 0>g&&f<d*g?(d=f/g,p=u):0<g&&f<e*g&&(e=f/g);if(e<d-Number.MIN_VALUE)return!1}return 0<=
p?(a.fraction=d,h=c.R,k=this.m_normals[p],a.normal.x=h.col1.x*k.x+h.col2.x*k.y,a.normal.y=h.col1.y*k.x+h.col2.y*k.y,!0):!1};D.prototype.RayCast=D.prototype.ba;
D.prototype.Ya=function(a,b){for(var c=b.R,d=this.m_vertices[0],e=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),f=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),g=e,h=f,k=1;k<this.m_vertexCount;++k)var d=this.m_vertices[k],l=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),d=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),e=e<l?e:l,f=f<d?f:d,g=g>l?g:l,h=h>d?h:d;a.lowerBound.x=e-this.m_radius;a.lowerBound.y=f-this.m_radius;a.upperBound.x=g+this.m_radius;a.upperBound.y=h+this.m_radius};D.prototype.ComputeAABB=D.prototype.Ya;
D.prototype.zb=function(a,b){if(2==this.m_vertexCount)a.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),a.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),a.Xa=0,a.Bb=0;else{for(var c=0,d=0,e=0,f=0,g=1/3,h=0;h<this.m_vertexCount;++h)var k=this.m_vertices[h],l=h+1<this.m_vertexCount?this.m_vertices[h+1>>0]:this.m_vertices[0],n=k.x-0,p=k.y-0,u=l.x-0,r=l.y-0,x=n*r-p*u,v=.5*x,e=e+v,c=c+v*g*(0+k.x+l.x),d=d+v*g*(0+k.y+l.y),k=n,f=f+x*(g*(.25*(k*k+u*k+u*u)+(0*k+0*u))+0+(g*(.25*(p*p+r*p+r*r)+
(0*p+0*r))+0));a.Xa=b*e;a.center.Set(1/e*c,1/e*d);a.Bb=b*f}};D.prototype.ComputeMass=D.prototype.zb;
D.prototype.Wb=function(a,b,c,d){var e=Lg(c.R,a),f=b-Gg(a,c.position),g=[],h=0,k=-1;b=-1;var l=!1;for(a=0;a<this.m_vertexCount;++a){g[a]=Gg(e,this.m_vertices[a])-f;var n=g[a]<-Number.MIN_VALUE;0<a&&(n?l||(k=a-1,h++):l&&(b=a-1,h++));l=n}switch(h){case 0:return l?(a=new ah,this.zb(a,1),d.l(Mg(c,a.center)),a.Xa):0;case 1:-1==k?k=this.m_vertexCount-1:b=this.m_vertexCount-1}a=(k+1)%this.m_vertexCount;e=(b+1)%this.m_vertexCount;f=(0-g[k])/(g[a]-g[k]);g=(0-g[b])/(g[e]-g[b]);k=new A(this.m_vertices[k].x*
(1-f)+this.m_vertices[a].x*f,this.m_vertices[k].y*(1-f)+this.m_vertices[a].y*f);b=new A(this.m_vertices[b].x*(1-g)+this.m_vertices[e].x*g,this.m_vertices[b].y*(1-g)+this.m_vertices[e].y*g);g=0;f=new A;for(h=this.m_vertices[a];a!=e;)a=(a+1)%this.m_vertexCount,l=a==e?b:this.m_vertices[a],n=.5*((h.x-k.x)*(l.y-k.y)-(h.y-k.y)*(l.x-k.x)),g+=n,f.x+=n*(k.x+h.x+l.x)/3,f.y+=n*(k.y+h.y+l.y)/3,h=l;f.Ra(1/g);d.l(Mg(c,f));return g};D.prototype.ComputeSubmergedArea=D.prototype.Wb;D.prototype.Xd=t('m_vertexCount');
D.prototype.GetVertexCount=D.prototype.Xd;D.prototype.wj=t('m_vertices');D.prototype.GetVertices=D.prototype.wj;D.prototype.mj=t('m_normals');D.prototype.GetNormals=D.prototype.mj;D.prototype.jd=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_vertexCount;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return b};D.prototype.GetSupport=D.prototype.jd;
D.prototype.Zb=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_vertexCount;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return this.m_vertices[b]};D.prototype.GetSupportVertex=D.prototype.Zb;D.prototype.Bc=w(!1);function bh(a,b){for(var c=a.m_vertices.length;c<b;c++)a.m_vertices[c]=new A,a.m_normals[c]=new A}
function ch(a,b){for(var c=new A,d=0,e=1/3,f=0;f<b;++f){var g=a[f],h=f+1<b?a[f+1>>0]:a[0],k=.5*((g.x-0)*(h.y-0)-(g.y-0)*(h.x-0)),d=d+k;c.x+=k*e*(0+g.x+h.x);c.y+=k*e*(0+g.y+h.y)}c.x*=1/d;c.y*=1/d;return c}y('Box2D.Collision.Shapes.b2PolygonShape.ComputeCentroid',ch);
y('Box2D.Collision.Shapes.b2PolygonShape.ComputeOBB',function(a,b,c){var d,e=Array(c+1);for(d=0;d<c;++d)e[d]=b[d];e[c]=e[0];b=Number.MAX_VALUE;for(d=1;d<=c;++d){for(var f=e[d-1>>0],g=e[d].x-f.x,h=e[d].y-f.y,k=Math.sqrt(g*g+h*h),g=g/k,h=h/k,l=-h,n=g,p=k=Number.MAX_VALUE,u=-Number.MAX_VALUE,r=-Number.MAX_VALUE,x=0;x<c;++x){var v=e[x].x-f.x,B=e[x].y-f.y,K=g*v+h*B,v=l*v+n*B;K<k&&(k=K);v<p&&(p=v);K>u&&(u=K);v>r&&(r=v)}x=(u-k)*(r-p);x<.95*b&&(b=x,a.R.col1.x=g,a.R.col1.y=h,a.R.col2.x=l,a.R.col2.y=n,g=.5*
(k+u),h=.5*(p+r),l=a.R,a.center.x=f.x+(l.col1.x*g+l.col2.x*h),a.center.y=f.y+(l.col1.y*g+l.col2.y*h),a.tl.x=.5*(u-k),a.tl.y=.5*(r-p))}});D.prototype.i={names:[{name:'b2PolygonShape',j:Ma}]};y(Ma,D);function dh(){this.localCenter=new A;this.c0=new A;this.c=new A}dh.prototype.Set=function(a){this.localCenter.l(a.localCenter);this.c0.l(a.c0);this.c.l(a.c);this.a0=a.a0;this.a=a.a;this.t0=a.t0};dh.prototype.Set=dh.prototype.Set;dh.prototype.G=function(){var a=new dh;a.localCenter.l(this.localCenter);a.c0.l(this.c0);a.c.l(this.c);a.a0=this.a0;a.a=this.a;a.t0=this.t0;return a};dh.prototype.Copy=dh.prototype.G;
dh.prototype.ia=function(a,b){a.position.x=(1-b)*this.c0.x+b*this.c.x;a.position.y=(1-b)*this.c0.y+b*this.c.y;a.R.Set((1-b)*this.a0+b*this.a);var c=a.R;a.position.x-=c.col1.x*this.localCenter.x+c.col2.x*this.localCenter.y;a.position.y-=c.col1.y*this.localCenter.x+c.col2.y*this.localCenter.y};dh.prototype.GetTransform=dh.prototype.ia;
dh.prototype.nb=function(a){if(this.t0<a&&1-this.t0>Number.MIN_VALUE){var b=(a-this.t0)/(1-this.t0);this.c0.x=(1-b)*this.c0.x+b*this.c.x;this.c0.y=(1-b)*this.c0.y+b*this.c.y;this.a0=(1-b)*this.a0+b*this.a;this.t0=a}};dh.prototype.Advance=dh.prototype.nb;dh.prototype.i={names:[{name:'b2Sweep',j:qb}]};y(qb,dh);function eh(){this.position=new A;this.linearVelocity=new A;this.userData=null;this.position.Set(0,0);this.angle=0;this.linearVelocity.Set(0,0);this.angularDamping=this.linearDamping=this.angularVelocity=0;this.awake=this.allowSleep=!0;this.bullet=this.fixedRotation=!1;this.type=fh;this.active=!0;this.inertiaScale=1}eh.prototype.i={names:[{name:'b2BodyDef',j:lc}]};y(lc,eh);function gh(){this.lowerBound=new A;this.upperBound=new A}gh.prototype.rd=function(){var a=this.upperBound.y-this.lowerBound.y;return a=(a=0<=this.upperBound.x-this.lowerBound.x&&0<=a)&&this.lowerBound.rd()&&this.upperBound.rd()};gh.prototype.IsValid=gh.prototype.rd;gh.prototype.cd=function(){return new A((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};gh.prototype.GetCenter=gh.prototype.cd;
gh.prototype.jg=function(){return new A((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)};gh.prototype.GetExtents=gh.prototype.jg;gh.prototype.Td=function(a){var b;return b=(b=(b=(b=this.lowerBound.x<=a.lowerBound.x)&&this.lowerBound.y<=a.lowerBound.y)&&a.upperBound.x<=this.upperBound.x)&&a.upperBound.y<=this.upperBound.y};gh.prototype.Contains=gh.prototype.Td;
gh.prototype.ba=function(a,b){var c=-Number.MAX_VALUE,d=Number.MAX_VALUE,e=b.p1.x,f=b.p1.y,g=b.p2.x-b.p1.x,h=b.p2.y-b.p1.y,k=Math.abs(h),l=a.normal,n;if(Math.abs(g)<Number.MIN_VALUE){if(e<this.lowerBound.x||this.upperBound.x<e)return!1}else if(n=1/g,g=(this.lowerBound.x-e)*n,e=(this.upperBound.x-e)*n,n=-1,g>e&&(n=g,g=e,e=n,n=1),g>c&&(l.x=n,l.y=0,c=g),d=Math.min(d,e),c>d)return!1;if(k<Number.MIN_VALUE){if(f<this.lowerBound.y||this.upperBound.y<f)return!1}else if(n=1/h,g=(this.lowerBound.y-f)*n,e=(this.upperBound.y-
f)*n,n=-1,g>e&&(n=g,g=e,e=n,n=1),g>c&&(l.y=n,l.x=0,c=g),d=Math.min(d,e),c>d)return!1;a.fraction=c;return!0};gh.prototype.RayCast=gh.prototype.ba;gh.prototype.Eb=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};gh.prototype.TestOverlap=gh.prototype.Eb;function hh(a,b){var c=new gh;c.Vc(a,b);return c}y('Box2D.Collision.b2AABB.Combine',hh);
gh.prototype.Vc=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,b.upperBound.y)};gh.prototype.Combine=gh.prototype.Vc;gh.prototype.i={names:[{name:'b2AABB',j:Pa}]};y(Pa,gh);function ih(){}ih.prototype.G=function(){var a=new ih;a.Ec=this.Ec;a.Qc=this.Qc;a.Tb=this.Tb;return a};ih.prototype.Copy=ih.prototype.G;ih.prototype.Ec=1;ih.prototype.categoryBits=ih.prototype.Ec;ih.prototype.Qc=65535;ih.prototype.maskBits=ih.prototype.Qc;ih.prototype.Tb=0;ih.prototype.groupIndex=ih.prototype.Tb;ih.prototype.i={names:[{name:'b2FilterData',j:rc}]};y(rc,ih);function E(){this.m_filter=new ih;this.m_aabb=new gh;this.m_shape=this.m_next=this.m_body=this.m_userData=null;this.m_restitution=this.m_friction=this.m_density=0}E.prototype.D=function(){return this.m_shape.D()};E.prototype.GetType=E.prototype.D;E.prototype.rj=t('m_shape');E.prototype.GetShape=E.prototype.rj;
E.prototype.ae=function(a){if(this.m_isSensor!=a&&(this.m_isSensor=a,null!=this.m_body))for(a=this.m_body.m_contactList;a;){var b=a.contact,c=b.m_fixtureA,d=b.m_fixtureB;c!=this&&d!=this||b.ae(c.bb()||d.bb());a=a.next}};E.prototype.SetSensor=E.prototype.ae;E.prototype.bb=t('m_isSensor');E.prototype.IsSensor=E.prototype.bb;E.prototype.ck=function(a){this.m_filter=a.G();if(!this.m_body)for(a=this.m_body.m_contactList;a;){var b=a.contact,c=b.m_fixtureB;b.m_fixtureA!=this&&c!=this||b.bd();a=a.next}};
E.prototype.SetFilterData=E.prototype.ck;E.prototype.Ge=function(){return this.m_filter.G()};E.prototype.GetFilterData=E.prototype.Ge;E.prototype.yi=t('m_body');E.prototype.GetBody=E.prototype.yi;E.prototype.Yb=t(Me);E.prototype.GetNext=E.prototype.Yb;E.prototype.qa=t(Ne);E.prototype.GetUserData=E.prototype.qa;E.prototype.wd=q(Ne);E.prototype.SetUserData=E.prototype.wd;E.prototype.fb=function(a){return this.m_shape.fb(this.m_body.ia(),a)};E.prototype.TestPoint=E.prototype.fb;
E.prototype.ba=function(a,b){return this.m_shape.ba(a,b,this.m_body.ia())};E.prototype.RayCast=E.prototype.ba;E.prototype.Wd=function(a){a='undefined'!==typeof a?a:null;null==a&&(a=new ah);this.m_shape.zb(a,this.m_density);return a};E.prototype.GetMassData=E.prototype.Wd;E.prototype.$j=q('m_density');E.prototype.SetDensity=E.prototype.$j;E.prototype.Ji=t('m_density');E.prototype.GetDensity=E.prototype.Ji;E.prototype.Si=t('m_friction');E.prototype.GetFriction=E.prototype.Si;E.prototype.ek=q('m_friction');
E.prototype.SetFriction=E.prototype.ek;E.prototype.qj=t('m_restitution');E.prototype.GetRestitution=E.prototype.qj;E.prototype.sk=q('m_restitution');E.prototype.SetRestitution=E.prototype.sk;E.prototype.ui=t('m_aabb');E.prototype.GetAABB=E.prototype.ui;E.prototype.Wc=function(a,b,c){this.m_userData=c.userData;this.m_friction=c.friction;this.m_restitution=c.restitution;this.m_body=a;this.m_next=null;this.m_filter=c.filter.G();this.m_isSensor=c.isSensor;this.m_shape=c.shape.G();this.m_density=c.density};
E.prototype.Create=E.prototype.Wc;E.prototype.Ka=function(){this.m_shape=null};E.prototype.Destroy=E.prototype.Ka;E.prototype.Za=function(a,b){this.m_shape.Ya(this.m_aabb,b);this.m_proxy=a.Za(this.m_aabb,this)};E.prototype.CreateProxy=E.prototype.Za;E.prototype.$a=function(a){null!=this.m_proxy&&(a.$a(this.m_proxy),this.m_proxy=null)};E.prototype.DestroyProxy=E.prototype.$a;
E.prototype.Ze=function(a,b,c){if(this.m_proxy){var d=new gh,e=new gh;this.m_shape.Ya(d,b);this.m_shape.Ya(e,c);this.m_aabb.Vc(d,e);a.xc(this.m_proxy,this.m_aabb,Og(c.position,b.position))}};E.prototype.Synchronize=E.prototype.Ze;E.prototype.i={names:[{name:'b2Fixture',j:sc}]};y(sc,E);function jh(){this.filter=new ih;this.userData=this.shape=null;this.friction=.2;this.density=this.restitution=0;this.filter.Ec=1;this.filter.Qc=65535;this.filter.Tb=0;this.isSensor=!1}jh.prototype.i={names:[{name:'b2FixtureDef',j:tc}]};y(tc,jh);function F(a,b){this.Qd=new A;this.m_v1=new A;this.m_v2=new A;this.m_coreV1=new A;this.m_coreV2=new A;this.m_normal=new A;this.m_direction=new A;this.m_cornerDir1=new A;this.m_cornerDir2=new A;zg.call(this);this.m_type=2;this.m_nextEdge=this.m_prevEdge=null;this.m_v1=a;this.m_v2=b;this.m_direction.Set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y);this.m_length=this.m_direction.ra();this.m_normal.Set(this.m_direction.y,-this.m_direction.x);this.m_coreV1.Set(-.04*(this.m_normal.x-this.m_direction.x)+
this.m_v1.x,-.04*(this.m_normal.y-this.m_direction.y)+this.m_v1.y);this.m_coreV2.Set(-.04*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-.04*(this.m_normal.y+this.m_direction.y)+this.m_v2.y);this.m_cornerDir1=this.m_normal;this.m_cornerDir2.Set(-this.m_normal.x,-this.m_normal.y)}cg(F,zg);F.prototype.fb=w(!1);F.prototype.TestPoint=F.prototype.fb;
F.prototype.ba=function(a,b,c){var d,e=b.p2.x-b.p1.x,f=b.p2.y-b.p1.y;d=c.R;var g=c.position.x+(d.col1.x*this.m_v1.x+d.col2.x*this.m_v1.y),h=c.position.y+(d.col1.y*this.m_v1.x+d.col2.y*this.m_v1.y),k=c.position.y+(d.col1.y*this.m_v2.x+d.col2.y*this.m_v2.y)-h;c=-(c.position.x+(d.col1.x*this.m_v2.x+d.col2.x*this.m_v2.y)-g);d=100*Number.MIN_VALUE;var l=-(e*k+f*c);if(l>d){var g=b.p1.x-g,n=b.p1.y-h,h=g*k+n*c;if(0<=h&&h<=b.maxFraction*l&&(b=-e*n+f*g,-d*l<=b&&b<=l*(1+d)))return a.fraction=h/l,b=Math.sqrt(k*
k+c*c),a.normal.x=k/b,a.normal.y=c/b,!0}return!1};F.prototype.RayCast=F.prototype.ba;
F.prototype.Ya=function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.m_v1.x+c.col2.x*this.m_v1.y),e=b.position.y+(c.col1.y*this.m_v1.x+c.col2.y*this.m_v1.y),f=b.position.x+(c.col1.x*this.m_v2.x+c.col2.x*this.m_v2.y),c=b.position.y+(c.col1.y*this.m_v2.x+c.col2.y*this.m_v2.y);d<f?(a.lowerBound.x=d,a.upperBound.x=f):(a.lowerBound.x=f,a.upperBound.x=d);e<c?(a.lowerBound.y=e,a.upperBound.y=c):(a.lowerBound.y=c,a.upperBound.y=e)};F.prototype.ComputeAABB=F.prototype.Ya;
F.prototype.zb=function(a){a.Xa=0;a.center.l(this.m_v1);a.Bb=0};F.prototype.ComputeMass=F.prototype.zb;F.prototype.Wb=function(a,b,c,d){var e=new A(a.x*b,a.y*b),f=Mg(c,this.m_v1);c=Mg(c,this.m_v2);var g=Gg(a,f)-b;a=Gg(a,c)-b;if(0<g){if(0<a)return 0;f.x=-a/(g-a)*f.x+g/(g-a)*c.x;f.y=-a/(g-a)*f.y+g/(g-a)*c.y}else 0<a&&(c.x=-a/(g-a)*f.x+g/(g-a)*c.x,c.y=-a/(g-a)*f.y+g/(g-a)*c.y);d.x=(e.x+f.x+c.x)/3;d.y=(e.y+f.y+c.y)/3;return.5*((f.x-e.x)*(c.y-e.y)-(f.y-e.y)*(c.x-e.x))};
F.prototype.ComputeSubmergedArea=F.prototype.Wb;F.prototype.Je=t(Ke);F.prototype.GetLength=F.prototype.Je;F.prototype.uj=t('m_v1');F.prototype.GetVertex1=F.prototype.uj;F.prototype.vj=t('m_v2');F.prototype.GetVertex2=F.prototype.vj;F.prototype.Fi=t('m_coreV1');F.prototype.GetCoreVertex1=F.prototype.Fi;F.prototype.Gi=t('m_coreV2');F.prototype.GetCoreVertex2=F.prototype.Gi;F.prototype.lj=t('m_normal');F.prototype.GetNormalVector=F.prototype.lj;F.prototype.Ki=t('m_direction');
F.prototype.GetDirectionVector=F.prototype.Ki;F.prototype.Hi=t('m_cornerDir1');F.prototype.GetCorner1Vector=F.prototype.Hi;F.prototype.Ii=t('m_cornerDir2');F.prototype.GetCorner2Vector=F.prototype.Ii;F.prototype.hi=t('m_cornerConvex1');F.prototype.Corner1IsConvex=F.prototype.hi;F.prototype.ii=t('m_cornerConvex2');F.prototype.Corner2IsConvex=F.prototype.ii;
F.prototype.Ni=function(a){var b=a.R;return new A(a.position.x+(b.col1.x*this.m_coreV1.x+b.col2.x*this.m_coreV1.y),a.position.y+(b.col1.y*this.m_coreV1.x+b.col2.y*this.m_coreV1.y))};F.prototype.GetFirstVertex=F.prototype.Ni;F.prototype.kj=t('m_nextEdge');F.prototype.GetNextEdge=F.prototype.kj;F.prototype.oj=t('m_prevEdge');F.prototype.GetPrevEdge=F.prototype.oj;
F.prototype.Bk=function(a,b,c){var d=a.R,e=a.position.x+(d.col1.x*this.m_coreV1.x+d.col2.x*this.m_coreV1.y),f=a.position.y+(d.col1.y*this.m_coreV1.x+d.col2.y*this.m_coreV1.y),g=a.position.x+(d.col1.x*this.m_coreV2.x+d.col2.x*this.m_coreV2.y);a=a.position.y+(d.col1.y*this.m_coreV2.x+d.col2.y*this.m_coreV2.y);e*b+f*c>g*b+a*c?(this.Qd.x=e,this.Qd.y=f):(this.Qd.x=g,this.Qd.y=a);return this.Qd};F.prototype.Support=F.prototype.Bk;
F.prototype.pk=function(a,b,c,d){this.m_prevEdge=a;this.m_coreV1=b;this.m_cornerDir1=c;this.m_cornerConvex1=d};F.prototype.SetPrevEdge=F.prototype.pk;F.prototype.mk=function(a,b,c,d){this.m_nextEdge=a;this.m_coreV2=b;this.m_cornerDir2=c;this.m_cornerConvex2=d};F.prototype.SetNextEdge=F.prototype.mk;F.prototype.i={names:[{name:'b2EdgeShape',j:Ja}]};y(Ja,F);function kh(){}kh.prototype.Set=function(a){this.wA.l(a.wA);this.wB.l(a.wB);this.w.l(a.w);this.a=a.a;this.indexA=a.indexA;this.indexB=a.indexB};kh.prototype.Set=kh.prototype.Set;kh.prototype.i={names:[{name:'b2SimplexVertex',j:ib}]};y(ib,kh);function lh(){this.m_v1=new kh;this.m_v2=new kh;this.m_v3=new kh;this.m_vertices=Array(3);this.m_vertices[0]=this.m_v1;this.m_vertices[1]=this.m_v2;this.m_vertices[2]=this.m_v3}
lh.prototype.qg=function(a,b,c,d,e){yg(0<=a.count&&3>=a.count);var f,g;this.m_count=a.count;for(var h=this.m_vertices,k=0;k<this.m_count;k++){var l=h[k];l.indexA=a.indexA[k];l.indexB=a.indexB[k];f=b.na(l.indexA);g=d.na(l.indexB);l.wA=Mg(c,f);l.wB=Mg(e,g);l.w=Og(l.wB,l.wA);l.a=0}1<this.m_count&&(a=a.metric,f=this.Me(),f<.5*a||2*a<f||f<Number.MIN_VALUE)&&(this.m_count=0);0==this.m_count&&(l=h[0],l.indexA=0,l.indexB=0,f=b.na(0),g=d.na(0),l.wA=Mg(c,f),l.wB=Mg(e,g),l.w=Og(l.wB,l.wA),this.m_count=1)};
lh.prototype.ReadCache=lh.prototype.qg;lh.prototype.Dg=function(a){a.metric=this.Me();a.count=this.m_count>>>0;for(var b=this.m_vertices,c=0;c<this.m_count;c++)a.indexA[c]=b[c].indexA>>>0,a.indexB[c]=b[c].indexB>>>0};lh.prototype.WriteCache=lh.prototype.Dg;lh.prototype.mg=function(){switch(this.m_count){case 1:return this.m_v1.w.Ab();case 2:var a=Og(this.m_v2.w,this.m_v1.w);return 0<Hg(a,this.m_v1.w.Ab())?Jg(1,a):Ig(a,1);default:return yg(!1),new A}};lh.prototype.GetSearchDirection=lh.prototype.mg;
lh.prototype.De=function(){switch(this.m_count){case 0:return yg(!1),new A;case 1:return this.m_v1.w;case 2:return new A(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return yg(!1),new A}};lh.prototype.GetClosestPoint=lh.prototype.De;
lh.prototype.ng=function(a,b){switch(this.m_count){case 0:yg(!1);break;case 1:a.l(this.m_v1.wA);b.l(this.m_v1.wB);break;case 2:a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x;a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y;b.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x;b.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:b.x=a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x;b.y=a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*
this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:yg(!1)}};lh.prototype.GetWitnessPoints=lh.prototype.ng;lh.prototype.Me=function(){switch(this.m_count){case 0:return yg(!1),0;case 1:return 0;case 2:return Og(this.m_v1.w,this.m_v2.w).pb();case 3:return Hg(Og(this.m_v2.w,this.m_v1.w),Og(this.m_v3.w,this.m_v1.w));default:return yg(!1),0}};lh.prototype.GetMetric=lh.prototype.Me;
lh.prototype.Bg=function(){var a=this.m_v1.w,b=this.m_v2.w,c=Og(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.m_count=this.m_v1.a=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):(c=1/(b+a),this.m_v1.a=b*c,this.m_v2.a=a*c,this.m_count=2))};lh.prototype.Solve2=lh.prototype.Bg;
lh.prototype.Cg=function(){var a=this.m_v1.w,b=this.m_v2.w,c=this.m_v3.w,d=Og(b,a),e=Gg(b,d),f=-Gg(a,d),g=Og(c,a),h=Gg(c,g),k=-Gg(a,g),l=Og(c,b),n=Gg(c,l),l=-Gg(b,l),g=Hg(d,g),d=g*Hg(b,c),c=g*Hg(c,a),a=g*Hg(a,b);0>=f&&0>=k?this.m_count=this.m_v1.a=1:0<e&&0<f&&0>=a?(h=1/(e+f),this.m_v1.a=e*h,this.m_v2.a=f*h,this.m_count=2):0<h&&0<k&&0>=c?(e=1/(h+k),this.m_v1.a=h*e,this.m_v3.a=k*e,this.m_count=2,this.m_v2.Set(this.m_v3)):0>=e&&0>=l?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):0>=h&&0>=n?(this.m_count=
this.m_v3.a=1,this.m_v1.Set(this.m_v3)):0<n&&0<l&&0>=d?(e=1/(n+l),this.m_v2.a=n*e,this.m_v3.a=l*e,this.m_count=2,this.m_v1.Set(this.m_v3)):(e=1/(d+c+a),this.m_v1.a=d*e,this.m_v2.a=c*e,this.m_v3.a=a*e,this.m_count=3)};lh.prototype.Solve3=lh.prototype.Cg;lh.prototype.i={names:[{name:'b2Simplex',j:gb}]};y(gb,lh);function mh(){}var nh,oh,ph=new lh,qh=Array(3),rh=Array(3);
function sh(a,b,c){++nh;var d=c.proxyA,e=c.proxyB,f=c.transformA,g=c.transformB;ph.qg(b,d,f,e,g);var h=ph.m_vertices,k=0;ph.De().ac();for(var l,n,p=0;20>p;){k=ph.m_count;for(l=0;l<k;l++)qh[l]=h[l].indexA,rh[l]=h[l].indexB;switch(ph.m_count){case 1:break;case 2:ph.Bg();break;case 3:ph.Cg();break;default:yg(!1)}if(3==ph.m_count)break;n=ph.De();n.ac();l=ph.mg();if(l.ac()<Number.MIN_VALUE*Number.MIN_VALUE)break;n=h[ph.m_count];n.indexA=d.jd(Lg(f.R,l.Ab()));n.wA=Mg(f,d.na(n.indexA));n.indexB=e.jd(Lg(g.R,
l));n.wB=Mg(g,e.na(n.indexB));n.w=Og(n.wB,n.wA);++p;++oh;var u=!1;for(l=0;l<k;l++)if(n.indexA==qh[l]&&n.indexB==rh[l]){u=!0;break}if(u)break;++ph.m_count}ph.ng(a.pointA,a.pointB);a.distance=Og(a.pointA,a.pointB).pb();a.iterations=p;ph.Dg(b);c.useRadii&&(b=d.m_radius,e=e.m_radius,a.distance>b+e&&a.distance>Number.MIN_VALUE?(a.distance-=b+e,c=Og(a.pointB,a.pointA),c.ra(),a.pointA.x+=b*c.x,a.pointA.y+=b*c.y,a.pointB.x-=e*c.x,a.pointB.y-=e*c.y):(n=new A,n.x=.5*(a.pointA.x+a.pointB.x),n.y=.5*(a.pointA.y+
a.pointB.y),a.pointA.x=a.pointB.x=n.x,a.pointA.y=a.pointB.y=n.y,a.distance=0))}y('Box2D.Collision.b2Distance.Distance',sh);mh.prototype.i={names:[{name:'b2Distance',j:Ua}]};y(Ua,mh);function th(){}th.prototype.i={names:[{name:'b2DistanceInput',j:Va}]};y(Va,th);function uh(){this.pointA=new A;this.pointB=new A}uh.prototype.i={names:[{name:'b2DistanceOutput',j:Wa}]};y(Wa,uh);function vh(){}vh.prototype.Set=function(a){switch(a.D()){case 0:a=z(a,$g);this.m_vertices=[1,!0];this.m_vertices[0]=a.m_p;this.m_count=1;this.m_radius=a.m_radius;break;case 1:a=z(a,D);this.m_vertices=a.m_vertices;this.m_count=a.m_vertexCount;this.m_radius=a.m_radius;break;default:yg(!1)}};vh.prototype.Set=vh.prototype.Set;
vh.prototype.jd=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_count;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return b};vh.prototype.GetSupport=vh.prototype.jd;vh.prototype.Zb=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_count;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return this.m_vertices[b]};vh.prototype.GetSupportVertex=vh.prototype.Zb;
vh.prototype.Xd=t('m_count');vh.prototype.GetVertexCount=vh.prototype.Xd;vh.prototype.na=function(a){yg(0<=a&&a<this.m_count);return this.m_vertices[a]};vh.prototype.GetVertex=vh.prototype.na;vh.prototype.i={names:[{name:'b2DistanceProxy',j:Xa}]};y(Xa,vh);function wh(){this.indexA=Array(3);this.indexB=Array(3)}wh.prototype.i={names:[{name:'b2SimplexCache',j:hb}]};y(hb,wh);function xh(){}function yh(a,b,c,d){var e=new th;e.proxyA=new vh;e.proxyA.Set(a);e.proxyB=new vh;e.proxyB.Set(c);e.transformA=b;e.transformB=d;e.useRadii=!0;a=new wh;a.count=0;b=new uh;sh(b,a,e);return b.distance<10*Number.MIN_VALUE}y('Box2D.Collision.Shapes.b2ShapeUtil.TestOverlap',yh);xh.prototype.i={names:[{name:'b2ShapeUtil',j:Oa}]};y(Oa,xh);function zh(a,b,c){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:1;this.p1=new A;this.p2=new A;a&&this.p1.l(a);b&&this.p2.l(b);this.maxFraction=c}zh.prototype.i={names:[{name:'b2RayCastInput',j:db}]};y(db,zh);function Ah(){this.normal=new A}Ah.prototype.i={names:[{name:'b2RayCastOutput',j:eb}]};y(eb,Ah);function Bh(a,b,c){this.fe=255*Wg(a,0,1)>>>0;this.de=255*Wg(b,0,1)>>>0;this.be=255*Wg(c,0,1)>>>0}Bh.prototype.Set=function(a,b,c){this.fe=255*Wg(a,0,1)>>>0;this.de=255*Wg(b,0,1)>>>0;this.be=255*Wg(c,0,1)>>>0};Bh.prototype.Set=Bh.prototype.Set;Bh.prototype.fe=0;Bh.prototype.de=0;Bh.prototype.be=0;
Object.defineProperties(Bh.prototype,{r:{set:function(a){this.fe=255*Wg(a,0,1)>>>0}},g:{set:function(a){this.de=255*Wg(a,0,1)>>>0}},b:{set:function(a){this.be=255*Wg(a,0,1)>>>0}},color:{get:function(){return this.fe<<16|this.de<<8|this.be}}});Bh.prototype.i={names:[{name:'b2Color',j:ub}]};y(ub,Bh);function Ch(){}
Object.defineProperties(Ch.prototype,{referenceEdge:{get:t('_referenceEdge'),set:function(a){this._referenceEdge=a;this._m_id._key=this._m_id._key&4294967040|this._referenceEdge&255}},incidentEdge:{get:t('_incidentEdge'),set:function(a){this._incidentEdge=a;this._m_id._key=this._m_id._key&4294902015|this._incidentEdge<<8&65280}},incidentVertex:{get:t('_incidentVertex'),set:function(a){this._incidentVertex=a;this._m_id._key=this._m_id._key&4278255615|this._incidentVertex<<16&16711680}},flip:{get:t('_flip'),
set:function(a){this._flip=a;this._m_id._key=this._m_id._key&16777215|this._flip<<24&4278190080}}});Ch.prototype.i={names:[{name:'Features',j:Fa}]};y(Fa,Ch);function Dh(){this.features=new Ch;this.features._m_id=this}Dh.prototype.Set=function(a){this.key=a._key};Dh.prototype.Set=Dh.prototype.Set;Dh.prototype.G=function(){var a=new Dh;a.key=this.key;return a};Dh.prototype.Copy=Dh.prototype.G;
Object.defineProperties(Dh.prototype,{key:{get:t('_key'),set:function(a){this._key=a;this.features._referenceEdge=this._key&255;this.features._incidentEdge=(this._key&65280)>>8&255;this.features._incidentVertex=(this._key&16711680)>>16&255;this.features._flip=(this._key&4278190080)>>24&255}}});Dh.prototype.i={names:[{name:'b2ContactID',j:Sa}]};y(Sa,Dh);function Eh(){this.m_localPoint=new A;this.m_id=new Dh;this.za()}Eh.prototype.za=function(){this.m_localPoint.o();this.m_tangentImpulse=this.m_normalImpulse=0;this.m_id.key=0};Eh.prototype.Reset=Eh.prototype.za;Eh.prototype.Set=function(a){this.m_localPoint.l(a.m_localPoint);this.m_normalImpulse=a.m_normalImpulse;this.m_tangentImpulse=a.m_tangentImpulse;this.m_id.Set(a.m_id)};Eh.prototype.Set=Eh.prototype.Set;Eh.prototype.i={names:[{name:'b2ManifoldPoint',j:cb}]};y(cb,Eh);function Fh(){this.m_points=Array(2);for(var a=0;2>a;a++)this.m_points[a]=new Eh;this.m_localPlaneNormal=new A;this.m_localPoint=new A}Fh.prototype.za=function(){for(var a=0;2>a;a++)z(this.m_points[a],Eh).za();this.m_localPlaneNormal.o();this.m_localPoint.o();this.Y=this.m_type=0};Fh.prototype.Reset=Fh.prototype.za;
Fh.prototype.Set=function(a){this.Y=a.Y;for(var b=0;2>b;b++)z(this.m_points[b],Eh).Set(a.m_points[b]);this.m_localPlaneNormal.l(a.m_localPlaneNormal);this.m_localPoint.l(a.m_localPoint);this.m_type=a.m_type};Fh.prototype.Set=Fh.prototype.Set;Fh.prototype.G=function(){var a=new Fh;a.Set(this);return a};Fh.prototype.Copy=Fh.prototype.G;Fh.prototype.Y=0;Fh.prototype.m_pointCount=Fh.prototype.Y;y('Box2D.Collision.b2Manifold.e_circles',1);y('Box2D.Collision.b2Manifold.e_faceA',2);
y('Box2D.Collision.b2Manifold.e_faceB',4);Fh.prototype.i={names:[{name:'b2Manifold',j:bb}]};y(bb,Fh);function Gh(){this.proxyA=new vh;this.proxyB=new vh;this.sweepA=new dh;this.sweepB=new dh}Gh.prototype.i={names:[{name:'b2TOIInput',j:jb}]};y(jb,Gh);function Hh(){this.m_localPoint=new A;this.m_axis=new A}y('Box2D.Collision.b2SeparationFunction.e_points',1);y('Box2D.Collision.b2SeparationFunction.e_faceA',2);y('Box2D.Collision.b2SeparationFunction.e_faceB',4);
Hh.prototype.H=function(a,b,c,d,e){this.m_proxyA=b;this.m_proxyB=d;b=a.count;yg(0<b&&3>b);var f,g,h,k;if(1==b)this.m_type=1,f=this.m_proxyA.na(a.indexA[0]),g=this.m_proxyB.na(a.indexB[0]),k=f,h=c.R,f=c.position.x+(h.col1.x*k.x+h.col2.x*k.y),c=c.position.y+(h.col1.y*k.x+h.col2.y*k.y),k=g,h=e.R,g=e.position.x+(h.col1.x*k.x+h.col2.x*k.y),e=e.position.y+(h.col1.y*k.x+h.col2.y*k.y),this.m_axis.x=g-f,this.m_axis.y=e-c,this.m_axis.ra();else{if(a.indexB[0]==a.indexB[1])this.m_type=2,b=this.m_proxyA.na(a.indexA[0]),
d=this.m_proxyA.na(a.indexA[1]),g=this.m_proxyB.na(a.indexB[0]),this.m_localPoint.x=.5*(b.x+d.x),this.m_localPoint.y=.5*(b.y+d.y),this.m_axis=Ig(Og(d,b),1),this.m_axis.ra(),k=this.m_axis,h=c.R,b=h.col1.x*k.x+h.col2.x*k.y,d=h.col1.y*k.x+h.col2.y*k.y,k=this.m_localPoint,h=c.R,f=c.position.x+(h.col1.x*k.x+h.col2.x*k.y),c=c.position.y+(h.col1.y*k.x+h.col2.y*k.y),k=g,h=e.R,g=e.position.x+(h.col1.x*k.x+h.col2.x*k.y),e=e.position.y+(h.col1.y*k.x+h.col2.y*k.y),a=(g-f)*b+(e-c)*d;else if(a.indexA[0]==a.indexA[0])this.m_type=
4,h=this.m_proxyB.na(a.indexB[0]),k=this.m_proxyB.na(a.indexB[1]),f=this.m_proxyA.na(a.indexA[0]),this.m_localPoint.x=.5*(h.x+k.x),this.m_localPoint.y=.5*(h.y+k.y),this.m_axis=Ig(Og(k,h),1),this.m_axis.ra(),k=this.m_axis,h=e.R,b=h.col1.x*k.x+h.col2.x*k.y,d=h.col1.y*k.x+h.col2.y*k.y,k=this.m_localPoint,h=e.R,g=e.position.x+(h.col1.x*k.x+h.col2.x*k.y),e=e.position.y+(h.col1.y*k.x+h.col2.y*k.y),k=f,h=c.R,f=c.position.x+(h.col1.x*k.x+h.col2.x*k.y),c=c.position.y+(h.col1.y*k.x+h.col2.y*k.y),a=(f-g)*b+
(c-e)*d;else{b=this.m_proxyA.na(a.indexA[0]);d=this.m_proxyA.na(a.indexA[1]);h=this.m_proxyB.na(a.indexB[0]);k=this.m_proxyB.na(a.indexB[1]);Mg(c,f);f=Kg(c.R,Og(d,b));Mg(e,g);a=Kg(e.R,Og(k,h));e=f.x*f.x+f.y*f.y;g=a.x*a.x+a.y*a.y;var l=Og(a,f);c=f.x*l.x+f.y*l.y;l=a.x*l.x+a.y*l.y;f=f.x*a.x+f.y*a.y;var n=e*g-f*f;a=0;0!=n&&(a=Wg((f*l-c*g)/n,0,1));0>(f*a+l)/g&&(a=Wg((f-c)/e,0,1));f=new A;f.x=b.x+a*(d.x-b.x);f.y=b.y+a*(d.y-b.y);g=new A;g.x=h.x+a*(k.x-h.x);g.y=h.y+a*(k.y-h.y);0==a||1==a?(this.m_type=4,this.m_axis=
Ig(Og(k,h),1),this.m_axis.ra(),this.m_localPoint=g):(this.m_type=2,this.m_axis=Ig(Og(d,b),1),this.m_localPoint=f)}0>a&&this.m_axis.Yd()}};Hh.prototype.Initialize=Hh.prototype.H;
Hh.prototype.ua=function(a,b){var c,d,e;switch(this.m_type){case 1:return c=Lg(a.R,this.m_axis),d=Lg(b.R,this.m_axis.Ab()),c=this.m_proxyA.Zb(c),d=this.m_proxyB.Zb(d),c=Mg(a,c),d=Mg(b,d),e=(d.x-c.x)*this.m_axis.x+(d.y-c.y)*this.m_axis.y;case 2:return e=Kg(a.R,this.m_axis),c=Mg(a,this.m_localPoint),d=Lg(b.R,e.Ab()),d=this.m_proxyB.Zb(d),d=Mg(b,d),e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;case 4:return e=Kg(b.R,this.m_axis),d=Mg(b,this.m_localPoint),c=Lg(a.R,e.Ab()),c=this.m_proxyA.Zb(c),c=Mg(a,c),e=(c.x-d.x)*
e.x+(c.y-d.y)*e.y;default:return yg(!1),0}};Hh.prototype.Evaluate=Hh.prototype.ua;Hh.prototype.i={names:[{name:'b2SeparationFunction',j:fb}]};y(fb,Hh);function Ih(){}var Jh=0,Kh=0,Lh=0,Mh=new wh,Nh=new th,Oh=new Eg,Ph=new Eg,Qh=new Hh,Rh=new uh;
function Sh(a){++Jh;var b=a.proxyA,c=a.proxyB,d=a.sweepA,e=a.sweepB;yg(d.t0==e.t0);yg(1-d.t0>Number.MIN_VALUE);var f=b.m_radius+c.m_radius;a=a.tolerance;var g=0,h=0,k=0;Mh.count=0;for(Nh.useRadii=!1;;){d.ia(Oh,g);e.ia(Ph,g);Nh.proxyA=b;Nh.proxyB=c;Nh.transformA=Oh;Nh.transformB=Ph;sh(Rh,Mh,Nh);if(0>=Rh.distance){g=1;break}Qh.H(Mh,b,Oh,c,Ph);var l=Qh.ua(Oh,Ph);if(0>=l){g=1;break}0==h&&(k=l>f?Ug(f-a,.75*f):Ug(l-a,.02*f));if(l-k<.5*a){if(0==h){g=1;break}break}var n=g,p=g,u=1;d.ia(Oh,u);e.ia(Ph,u);var r=
Qh.ua(Oh,Ph);if(r>=k){g=1;break}for(var x=0;;){var v;v=x&1?p+(k-l)*(u-p)/(r-l):.5*(p+u);d.ia(Oh,v);e.ia(Ph,v);var B=Qh.ua(Oh,Ph);if(Qg(B-k)<.025*a){n=v;break}B>k?(p=v,l=B):(u=v,r=B);++x;++Lh;if(50==x)break}if(n<(1+100*Number.MIN_VALUE)*g)break;g=n;h++;++Kh;if(1E3==h)break}return g}y('Box2D.Collision.b2TimeOfImpact.TimeOfImpact',Sh);Ih.prototype.i={names:[{name:'b2TimeOfImpact',j:kb}]};y(kb,Ih);function Th(){}Th.prototype.i={names:[{name:'b2ContactEdge',j:Ab}]};y(Ab,Th);function G(){this.m_nodeA=new Th;this.m_nodeB=new Th;this.m_manifold=new Fh;this.m_oldManifold=new Fh}G.prototype.fj=t('m_manifold');G.prototype.GetManifold=G.prototype.fj;G.prototype.zj=function(a){var b=this.m_fixtureB.m_body,c=this.m_fixtureA.m_shape,d=this.m_fixtureB.m_shape;a.H(this.m_manifold,this.m_fixtureA.m_body.ia(),c.m_radius,b.ia(),d.m_radius)};G.prototype.GetWorldManifold=G.prototype.zj;G.prototype.qd=function(){return(this.m_flags&Uh)==Uh};G.prototype.IsTouching=G.prototype.qd;
G.prototype.pg=function(){return(this.m_flags&Vh)==Vh};G.prototype.IsContinuous=G.prototype.pg;G.prototype.ae=function(a){this.m_flags=a?this.m_flags|Wh:this.m_flags&~Wh};G.prototype.SetSensor=G.prototype.ae;G.prototype.bb=function(){return(this.m_flags&Wh)==Wh};G.prototype.IsSensor=G.prototype.bb;G.prototype.bk=function(a){this.m_flags=a?this.m_flags|Xh:this.m_flags&~Xh};G.prototype.SetEnabled=G.prototype.bk;G.prototype.nd=function(){return(this.m_flags&Xh)==Xh};G.prototype.IsEnabled=G.prototype.nd;
G.prototype.Yb=t(Me);G.prototype.GetNext=G.prototype.Yb;G.prototype.Oi=t('m_fixtureA');G.prototype.GetFixtureA=G.prototype.Oi;G.prototype.Pi=t('m_fixtureB');G.prototype.GetFixtureB=G.prototype.Pi;G.prototype.bd=function(){this.m_flags|=Yh};G.prototype.FlagForFiltering=G.prototype.bd;var Wh=1;y('Box2D.Dynamics.Contacts.b2Contact.e_sensorFlag',Wh);var Vh=2;y('Box2D.Dynamics.Contacts.b2Contact.e_continuousFlag',Vh);y('Box2D.Dynamics.Contacts.b2Contact.e_islandFlag',4);
y('Box2D.Dynamics.Contacts.b2Contact.e_toiFlag',8);var Uh=16;y('Box2D.Dynamics.Contacts.b2Contact.e_touchingFlag',Uh);var Xh=32;y('Box2D.Dynamics.Contacts.b2Contact.e_enabledFlag',Xh);var Yh=64;y('Box2D.Dynamics.Contacts.b2Contact.e_filterFlag',Yh);
G.prototype.za=function(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;this.m_flags=Xh;if(a&&b){if(a.bb()||b.bb())this.m_flags|=Wh;var c=a.m_body,d=b.m_body;if(c.D()!=Zh||c.md()||d.D()!=Zh||d.md())this.m_flags|=Vh;this.m_fixtureA=a;this.m_fixtureB=b;this.m_manifold.Y=0;this.m_next=this.m_prev=null;this.m_nodeA.contact=null;this.m_nodeA.prev=null;this.m_nodeA.next=null;this.m_nodeA.other=null;this.m_nodeB.contact=null;this.m_nodeB.prev=null;this.m_nodeB.next=null;this.m_nodeB.other=
null}else this.m_fixtureB=this.m_fixtureA=null};G.prototype.Reset=G.prototype.za;
G.prototype.Ac=function(){var a=this.m_oldManifold;this.m_oldManifold=this.m_manifold;this.m_manifold=a;this.m_flags|=Xh;var b=!1,c=(this.m_flags&Uh)==Uh,d=this.m_fixtureA.m_body,a=this.m_fixtureB.m_body,e=this.m_fixtureA.m_aabb.Eb(this.m_fixtureB.m_aabb);if(this.m_flags&Wh)e&&(b=this.m_fixtureA.m_shape,c=this.m_fixtureB.m_shape,d=d.ia(),a=a.ia(),b=yh(b,d,c,a)),this.m_manifold.Y=0;else{d.D()!=Zh||d.md()||a.D()!=Zh||a.md()?this.m_flags|=Vh:this.m_flags&=~Vh;if(e)for(this.ua(),b=0<this.m_manifold.Y,
e=0;e<this.m_manifold.Y;++e){var f=this.m_manifold.m_points[e];f.m_normalImpulse=0;f.m_tangentImpulse=0;for(var g=f.m_id,h=0;h<this.m_oldManifold.Y;++h){var k=this.m_oldManifold.m_points[h];if(k.m_id.key==g.key){f.m_normalImpulse=k.m_normalImpulse;f.m_tangentImpulse=k.m_tangentImpulse;break}}}else this.m_manifold.Y=0;b!=c&&(d.A(!0),a.A(!0))}this.m_flags=b?this.m_flags|Uh:this.m_flags&~Uh};G.prototype.Update=G.prototype.Ac;G.prototype.ua=m();G.prototype.Evaluate=G.prototype.ua;var $h=new Gh;
G.prototype.ag=function(a,b){$h.proxyA.Set(this.m_fixtureA.m_shape);$h.proxyB.Set(this.m_fixtureB.m_shape);$h.sweepA=a;$h.sweepB=b;$h.tolerance=.005;return Sh($h)};G.prototype.ComputeTOI=G.prototype.ag;G.prototype.i={names:[{name:'b2Contact',j:xb}]};y(xb,G);function ai(){this.m_normal=new A;this.m_points=Array(2);for(var a=0;2>a;a++)this.m_points[a]=new A}
ai.prototype.H=function(a,b,c,d,e){if(0!=a.Y){var f,g,h,k,l,n,p,u;switch(a.m_type){case 1:h=b.R;g=a.m_localPoint;f=b.position.x+h.col1.x*g.x+h.col2.x*g.y;b=b.position.y+h.col1.y*g.x+h.col2.y*g.y;h=d.R;g=a.m_points[0].m_localPoint;a=d.position.x+h.col1.x*g.x+h.col2.x*g.y;d=d.position.y+h.col1.y*g.x+h.col2.y*g.y;g=a-f;h=d-b;k=g*g+h*h;k>Number.MIN_VALUE*Number.MIN_VALUE?(k=Math.sqrt(k),this.m_normal.x=g/k,this.m_normal.y=h/k):(this.m_normal.x=1,this.m_normal.y=0);g=b+c*this.m_normal.y;d-=e*this.m_normal.y;
this.m_points[0].x=.5*(f+c*this.m_normal.x+(a-e*this.m_normal.x));this.m_points[0].y=.5*(g+d);break;case 2:h=b.R;g=a.m_localPlaneNormal;k=h.col1.x*g.x+h.col2.x*g.y;l=h.col1.y*g.x+h.col2.y*g.y;h=b.R;g=a.m_localPoint;n=b.position.x+h.col1.x*g.x+h.col2.x*g.y;p=b.position.y+h.col1.y*g.x+h.col2.y*g.y;this.m_normal.x=k;this.m_normal.y=l;for(f=0;f<a.Y;f++)h=d.R,g=a.m_points[f].m_localPoint,u=d.position.x+h.col1.x*g.x+h.col2.x*g.y,g=d.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_points[f].x=u+.5*(c-(u-n)*
k-(g-p)*l-e)*k,this.m_points[f].y=g+.5*(c-(u-n)*k-(g-p)*l-e)*l;break;case 4:for(h=d.R,g=a.m_localPlaneNormal,k=h.col1.x*g.x+h.col2.x*g.y,l=h.col1.y*g.x+h.col2.y*g.y,h=d.R,g=a.m_localPoint,n=d.position.x+h.col1.x*g.x+h.col2.x*g.y,p=d.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_normal.x=-k,this.m_normal.y=-l,f=0;f<a.Y;f++)h=b.R,g=a.m_points[f].m_localPoint,u=b.position.x+h.col1.x*g.x+h.col2.x*g.y,g=b.position.y+h.col1.y*g.x+h.col2.y*g.y,this.m_points[f].x=u+.5*(e-(u-n)*k-(g-p)*l-c)*k,this.m_points[f].y=
g+.5*(e-(u-n)*k-(g-p)*l-c)*l}}};ai.prototype.Initialize=ai.prototype.H;ai.prototype.i={names:[{name:'b2WorldManifold',j:lb}]};y(lb,ai);function bi(){this.localPoint=new A;this.rA=new A;this.rB=new A}bi.prototype.i={names:[{name:'b2ContactConstraintPoint',j:zb}]};y(zb,bi);function ci(){this.localPlaneNormal=new A;this.localPoint=new A;this.normal=new A;this.normalMass=new C;this.K=new C;this.points=Array(2);for(var a=0;2>a;a++)this.points[a]=new bi}ci.prototype.i={names:[{name:'b2ContactConstraint',j:yb}]};y(yb,ci);function di(){this.m_normal=new A;this.m_separations=Array(2);this.m_points=Array(2);for(var a=0;2>a;a++)this.m_points[a]=new A}
di.prototype.H=function(a){yg(0<a.pointCount);var b,c,d,e,f,g;switch(a.type){case 1:e=a.bodyA.m_xf.R;d=a.localPoint;b=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);c=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyB.m_xf.R;d=a.points[0].localPoint;f=a.bodyB.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);e=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);d=f-b;g=e-c;var h=d*d+g*g;h>Number.MIN_VALUE*Number.MIN_VALUE?(h=Math.sqrt(h),this.m_normal.x=d/h,this.m_normal.y=g/h):(this.m_normal.x=
1,this.m_normal.y=0);this.m_points[0].x=.5*(b+f);this.m_points[0].y=.5*(c+e);this.m_separations[0]=d*this.m_normal.x+g*this.m_normal.y-a.radius;break;case 2:e=a.bodyA.m_xf.R;d=a.localPlaneNormal;this.m_normal.x=e.col1.x*d.x+e.col2.x*d.y;this.m_normal.y=e.col1.y*d.x+e.col2.y*d.y;e=a.bodyA.m_xf.R;d=a.localPoint;f=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);g=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyB.m_xf.R;for(b=0;b<a.pointCount;++b)d=a.points[b].localPoint,c=a.bodyB.m_xf.position.x+
(e.col1.x*d.x+e.col2.x*d.y),d=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y),this.m_separations[b]=(c-f)*this.m_normal.x+(d-g)*this.m_normal.y-a.radius,this.m_points[b].x=c,this.m_points[b].y=d;break;case 4:e=a.bodyB.m_xf.R;d=a.localPlaneNormal;this.m_normal.x=e.col1.x*d.x+e.col2.x*d.y;this.m_normal.y=e.col1.y*d.x+e.col2.y*d.y;e=a.bodyB.m_xf.R;d=a.localPoint;f=a.bodyB.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);g=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyA.m_xf.R;for(b=0;b<
a.pointCount;++b)d=a.points[b].localPoint,c=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y),d=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y),this.m_separations[b]=(c-f)*this.m_normal.x+(d-g)*this.m_normal.y-a.radius,this.m_points[b].Set(c,d);this.m_normal.x*=-1;this.m_normal.y*=-1}};di.prototype.Initialize=di.prototype.H;di.prototype.i={names:[{name:'b2PositionSolverManifold',j:Ib}]};y(Ib,di);function ei(){}ei.prototype.Set=function(a){this.dt=a.dt;this.inv_dt=a.inv_dt;this.positionIterations=a.positionIterations;this.velocityIterations=a.velocityIterations;this.warmStarting=a.warmStarting};ei.prototype.Set=ei.prototype.Set;ei.prototype.i={names:[{name:'b2TimeStep',j:vc}]};y(vc,ei);function fi(){this.Zl=new ei;this.m_constraints=[]}var gi=new ai;
fi.prototype.H=function(a,b,c,d){var e;this.Zl.Set(a);this.m_allocator=d;for(this.Gd=c;this.m_constraints.length<this.Gd;)this.m_constraints[this.m_constraints.length]=new ci;for(a=0;a<c;++a){e=b[a];d=e.m_fixtureA;var f=e.m_fixtureB,g=d.m_shape.m_radius,h=f.m_shape.m_radius,k=d.m_body,l=f.m_body,n=e.m_manifold,p=vg(d.m_friction,f.m_friction),u=wg(d.m_restitution,f.m_restitution),r=k.m_linearVelocity.x,x=k.m_linearVelocity.y,v=l.m_linearVelocity.x,B=l.m_linearVelocity.y,K=k.m_angularVelocity,La=l.m_angularVelocity;
yg(0<n.Y);gi.H(n,k.m_xf,g,l.m_xf,h);f=gi.m_normal.x;e=gi.m_normal.y;d=this.m_constraints[a];d.bodyA=k;d.bodyB=l;d.manifold=n;d.normal.x=f;d.normal.y=e;d.pointCount=n.Y;d.friction=p;d.restitution=u;d.localPlaneNormal.x=n.m_localPlaneNormal.x;d.localPlaneNormal.y=n.m_localPlaneNormal.y;d.localPoint.x=n.m_localPoint.x;d.localPoint.y=n.m_localPoint.y;d.radius=g+h;d.type=n.m_type;for(g=0;g<d.pointCount;++g){p=n.m_points[g];h=d.points[g];h.normalImpulse=p.m_normalImpulse;h.tangentImpulse=p.m_tangentImpulse;
h.localPoint.l(p.m_localPoint);var p=h.rA.x=gi.m_points[g].x-k.m_sweep.c.x,u=h.rA.y=gi.m_points[g].y-k.m_sweep.c.y,va=h.rB.x=gi.m_points[g].x-l.m_sweep.c.x,Ha=h.rB.y=gi.m_points[g].y-l.m_sweep.c.y,ga=p*e-u*f,sa=va*e-Ha*f,ga=ga*ga,sa=sa*sa;h.normalMass=1/(k.m_invMass+l.m_invMass+k.m_invI*ga+l.m_invI*sa);var ca=k.m_mass*k.m_invMass+l.m_mass*l.m_invMass,ca=ca+(k.m_mass*k.m_invI*ga+l.m_mass*l.m_invI*sa);h.equalizedMass=1/ca;sa=e;ca=-f;ga=p*ca-u*sa;sa=va*ca-Ha*sa;ga*=ga;sa*=sa;h.tangentMass=1/(k.m_invMass+
l.m_invMass+k.m_invI*ga+l.m_invI*sa);h.velocityBias=0;p=d.normal.x*(v+-La*Ha-r- -K*u)+d.normal.y*(B+La*va-x-K*p);-1>p&&(h.velocityBias+=-d.restitution*p)}2==d.pointCount&&(B=d.points[0],v=d.points[1],n=k.m_invMass,k=k.m_invI,r=l.m_invMass,l=l.m_invI,x=B.rA.x*e-B.rA.y*f,B=B.rB.x*e-B.rB.y*f,K=v.rA.x*e-v.rA.y*f,v=v.rB.x*e-v.rB.y*f,f=n+r+k*x*x+l*B*B,e=n+r+k*K*K+l*v*v,l=n+r+k*x*K+l*B*v,f*f<100*(f*e-l*l)?(d.K.col1.Set(f,l),d.K.col2.Set(l,e),d.K.Vd(d.normalMass)):d.pointCount=1)}};
fi.prototype.Initialize=fi.prototype.H;
fi.prototype.aa=function(a){for(var b=0;b<this.Gd;++b){var c=this.m_constraints[b],d=c.bodyA,e=c.bodyB,f=d.m_invMass,g=d.m_invI,h=e.m_invMass,k=e.m_invI,l=c.normal.x,n=c.normal.y,p=n,u=-l,r,x;if(a.warmStarting)for(x=c.pointCount,r=0;r<x;++r){var v=c.points[r];v.normalImpulse*=a.dtRatio;v.tangentImpulse*=a.dtRatio;var B=v.normalImpulse*l+v.tangentImpulse*p,K=v.normalImpulse*n+v.tangentImpulse*u;d.m_angularVelocity-=g*(v.rA.x*K-v.rA.y*B);d.m_linearVelocity.x-=f*B;d.m_linearVelocity.y-=f*K;e.m_angularVelocity+=
k*(v.rB.x*K-v.rB.y*B);e.m_linearVelocity.x+=h*B;e.m_linearVelocity.y+=h*K}else for(x=c.pointCount,r=0;r<x;++r)d=c.points[r],d.normalImpulse=0,d.tangentImpulse=0}};fi.prototype.InitVelocityConstraints=fi.prototype.aa;
fi.prototype.X=function(){for(var a,b,c,d,e,f,g,h,k,l,n=0;n<this.Gd;++n){e=this.m_constraints[n];var p=e.bodyA,u=e.bodyB,r=p.m_angularVelocity,x=u.m_angularVelocity,v=p.m_linearVelocity,B=u.m_linearVelocity,K=p.m_invMass,La=p.m_invI,va=u.m_invMass,Ha=u.m_invI;h=e.normal.x;var ga=k=e.normal.y;l=-h;g=e.friction;for(a=0;a<e.pointCount;a++)b=e.points[a],c=B.x-x*b.rB.y-v.x+r*b.rA.y,d=B.y+x*b.rB.x-v.y-r*b.rA.x,c=c*ga+d*l,c=b.tangentMass*-c,d=g*b.normalImpulse,d=Wg(b.tangentImpulse+c,-d,d),c=d-b.tangentImpulse,
f=c*ga,c*=l,v.x-=K*f,v.y-=K*c,r-=La*(b.rA.x*c-b.rA.y*f),B.x+=va*f,B.y+=va*c,x+=Ha*(b.rB.x*c-b.rB.y*f),b.tangentImpulse=d;if(1==e.pointCount)b=e.points[0],c=B.x+-x*b.rB.y-v.x- -r*b.rA.y,d=B.y+x*b.rB.x-v.y-r*b.rA.x,e=c*h+d*k,c=-b.normalMass*(e-b.velocityBias),d=b.normalImpulse+c,d=0<d?d:0,c=d-b.normalImpulse,f=c*h,c*=k,v.x-=K*f,v.y-=K*c,r-=La*(b.rA.x*c-b.rA.y*f),B.x+=va*f,B.y+=va*c,x+=Ha*(b.rB.x*c-b.rB.y*f),b.normalImpulse=d;else{b=e.points[0];a=e.points[1];c=b.normalImpulse;g=a.normalImpulse;var sa=
(B.x-x*b.rB.y-v.x+r*b.rA.y)*h+(B.y+x*b.rB.x-v.y-r*b.rA.x)*k,ca=(B.x-x*a.rB.y-v.x+r*a.rA.y)*h+(B.y+x*a.rB.x-v.y-r*a.rA.x)*k;d=sa-b.velocityBias;f=ca-a.velocityBias;l=e.K;d-=l.col1.x*c+l.col2.x*g;for(f-=l.col1.y*c+l.col2.y*g;;){l=e.normalMass;ga=-(l.col1.x*d+l.col2.x*f);l=-(l.col1.y*d+l.col2.y*f);if(0<=ga&&0<=l){c=ga-c;g=l-g;e=c*h;c*=k;h*=g;k*=g;v.x-=K*(e+h);v.y-=K*(c+k);r-=La*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);B.x+=va*(e+h);B.y+=va*(c+k);x+=Ha*(b.rB.x*c-b.rB.y*e+a.rB.x*k-a.rB.y*h);b.normalImpulse=
ga;a.normalImpulse=l;break}ga=-b.normalMass*d;l=0;ca=e.K.col1.y*ga+f;if(0<=ga&&0<=ca){c=ga-c;g=l-g;e=c*h;c*=k;h*=g;k*=g;v.x-=K*(e+h);v.y-=K*(c+k);r-=La*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);B.x+=va*(e+h);B.y+=va*(c+k);x+=Ha*(b.rB.x*c-b.rB.y*e+a.rB.x*k-a.rB.y*h);b.normalImpulse=ga;a.normalImpulse=l;break}ga=0;l=-a.normalMass*f;sa=e.K.col2.x*l+d;if(0<=l&&0<=sa){c=ga-c;g=l-g;e=c*h;c*=k;h*=g;k*=g;v.x-=K*(e+h);v.y-=K*(c+k);r-=La*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);B.x+=va*(e+h);B.y+=va*(c+k);x+=Ha*(b.rB.x*
c-b.rB.y*e+a.rB.x*k-a.rB.y*h);b.normalImpulse=ga;a.normalImpulse=l;break}l=ga=0;sa=d;ca=f;if(0<=sa&&0<=ca){c=ga-c;g=l-g;e=c*h;c*=k;h*=g;k*=g;v.x-=K*(e+h);v.y-=K*(c+k);r-=La*(b.rA.x*c-b.rA.y*e+a.rA.x*k-a.rA.y*h);B.x+=va*(e+h);B.y+=va*(c+k);x+=Ha*(b.rB.x*c-b.rB.y*e+a.rB.x*k-a.rB.y*h);b.normalImpulse=ga;a.normalImpulse=l;break}break}}p.m_angularVelocity=r;u.m_angularVelocity=x}};fi.prototype.SolveVelocityConstraints=fi.prototype.X;
fi.prototype.$c=function(){for(var a=0;a<this.Gd;++a)for(var b=this.m_constraints[a],c=b.manifold,d=0;d<b.pointCount;++d){var e=c.m_points[d],f=b.points[d];e.m_normalImpulse=f.normalImpulse;e.m_tangentImpulse=f.tangentImpulse}};fi.prototype.FinalizeVelocityConstraints=fi.prototype.$c;var hi=new di;
fi.prototype.W=function(a){for(var b=0,c=0;c<this.Gd;c++){var d=this.m_constraints[c],e=d.bodyA,f=d.bodyB,g=e.m_mass*e.m_invMass,h=e.m_mass*e.m_invI,k=f.m_mass*f.m_invMass,l=f.m_mass*f.m_invI;hi.H(d);for(var n=hi.m_normal,p=0;p<d.pointCount;p++){var u=d.points[p],r=hi.m_points[p],x=hi.m_separations[p],v=r.x-e.m_sweep.c.x,B=r.y-e.m_sweep.c.y,K=r.x-f.m_sweep.c.x,r=r.y-f.m_sweep.c.y,b=b<x?b:x,x=-u.equalizedMass*Wg(a*(x+.005),-.2,0),u=x*n.x,x=x*n.y;e.m_sweep.c.x-=g*u;e.m_sweep.c.y-=g*x;e.m_sweep.a-=h*
(v*x-B*u);e.V();f.m_sweep.c.x+=k*u;f.m_sweep.c.y+=k*x;f.m_sweep.a+=l*(K*x-r*u);f.V()}}return-.0075<b};fi.prototype.SolvePositionConstraints=fi.prototype.W;fi.prototype.i={names:[{name:'b2ContactSolver',j:Db}]};y(Db,fi);function ii(){}ii.prototype.i={names:[{name:'b2JointEdge',j:Sb}]};y(Sb,ii);function H(a){this.m_edgeA=new ii;this.m_edgeB=new ii;this.m_localCenterA=new A;this.m_localCenterB=new A;yg(a.bodyA!=a.bodyB);this.m_type=a.type;this.m_next=this.m_prev=null;this.m_bodyA=a.bodyA;this.m_bodyB=a.bodyB;this.m_collideConnected=a.collideConnected;this.m_islandFlag=!1;this.m_userData=a.userData}H.prototype.D=t('m_type');H.prototype.GetType=H.prototype.D;H.prototype.ga=w(null);H.prototype.GetAnchorA=H.prototype.ga;H.prototype.ha=w(null);H.prototype.GetAnchorB=H.prototype.ha;
H.prototype.la=w(null);H.prototype.GetReactionForce=H.prototype.la;H.prototype.ma=w(0);H.prototype.GetReactionTorque=H.prototype.ma;H.prototype.zi=t('m_bodyA');H.prototype.GetBodyA=H.prototype.zi;H.prototype.Ai=t('m_bodyB');H.prototype.GetBodyB=H.prototype.Ai;H.prototype.Yb=t(Me);H.prototype.GetNext=H.prototype.Yb;H.prototype.qa=t(Ne);H.prototype.GetUserData=H.prototype.qa;H.prototype.wd=q(Ne);H.prototype.SetUserData=H.prototype.wd;H.prototype.Qa=function(){return this.m_bodyA.Qa()&&this.m_bodyB.Qa()};
H.prototype.IsActive=H.prototype.Qa;y('Box2D.Dynamics.Joints.b2Joint.Destroy',m());H.prototype.aa=m();H.prototype.InitVelocityConstraints=H.prototype.aa;H.prototype.X=m();H.prototype.SolveVelocityConstraints=H.prototype.X;H.prototype.$c=m();H.prototype.FinalizeVelocityConstraints=H.prototype.$c;H.prototype.W=w(!1);H.prototype.SolvePositionConstraints=H.prototype.W;y('Box2D.Dynamics.Joints.b2Joint.e_unknownJoint',0);y('Box2D.Dynamics.Joints.b2Joint.e_revoluteJoint',1);
y('Box2D.Dynamics.Joints.b2Joint.e_prismaticJoint',2);y('Box2D.Dynamics.Joints.b2Joint.e_distanceJoint',3);y('Box2D.Dynamics.Joints.b2Joint.e_pulleyJoint',4);y('Box2D.Dynamics.Joints.b2Joint.e_mouseJoint',5);y('Box2D.Dynamics.Joints.b2Joint.e_gearJoint',6);y('Box2D.Dynamics.Joints.b2Joint.e_lineJoint',7);y('Box2D.Dynamics.Joints.b2Joint.e_weldJoint',8);y('Box2D.Dynamics.Joints.b2Joint.e_frictionJoint',9);y('Box2D.Dynamics.Joints.b2Joint.e_inactiveLimit',0);
y('Box2D.Dynamics.Joints.b2Joint.e_atLowerLimit',1);y('Box2D.Dynamics.Joints.b2Joint.e_atUpperLimit',2);y('Box2D.Dynamics.Joints.b2Joint.e_equalLimits',3);H.prototype.i={names:[{name:'b2Joint',j:Qb}]};y(Qb,H);function ji(a){this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.da=new A;H.call(this,a);this.m_localAnchor1.l(a.localAnchorA);this.m_localAnchor2.l(a.localAnchorB);this.m_length=a.length;this.Kb=a.frequencyHz;this.kc=a.dampingRatio;this.wh=this.wa=this.h=0}cg(ji,H);ji.prototype.ga=function(){return this.m_bodyA.$(this.m_localAnchor1)};ji.prototype.GetAnchorA=ji.prototype.ga;ji.prototype.ha=function(){return this.m_bodyB.$(this.m_localAnchor2)};ji.prototype.GetAnchorB=ji.prototype.ha;
ji.prototype.la=function(a){return new A(a*this.h*this.da.x,a*this.h*this.da.y)};ji.prototype.GetReactionForce=ji.prototype.la;ji.prototype.ma=w(0);ji.prototype.GetReactionTorque=ji.prototype.ma;ji.prototype.Je=t(Ke);ji.prototype.GetLength=ji.prototype.Je;ji.prototype.gk=q(Ke);ji.prototype.SetLength=ji.prototype.gk;ji.prototype.He=t('Kb');ji.prototype.GetFrequency=ji.prototype.He;ji.prototype.Te=q('Kb');ji.prototype.SetFrequency=ji.prototype.Te;ji.prototype.Fe=t('kc');
ji.prototype.GetDampingRatio=ji.prototype.Fe;ji.prototype.Se=q('kc');ji.prototype.SetDampingRatio=ji.prototype.Se;
ji.prototype.aa=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var f=this.m_localAnchor1.x-d.m_sweep.localCenter.x,g=this.m_localAnchor1.y-d.m_sweep.localCenter.y;c=b.col1.x*f+b.col2.x*g;g=b.col1.y*f+b.col2.y*g;f=c;b=e.m_xf.R;var h=this.m_localAnchor2.x-e.m_sweep.localCenter.x,k=this.m_localAnchor2.y-e.m_sweep.localCenter.y;c=b.col1.x*h+b.col2.x*k;k=b.col1.y*h+b.col2.y*k;h=c;this.da.x=e.m_sweep.c.x+h-d.m_sweep.c.x-f;this.da.y=e.m_sweep.c.y+k-d.m_sweep.c.y-g;c=Math.sqrt(this.da.x*this.da.x+
this.da.y*this.da.y);.005<c?this.da.Ra(1/c):this.da.o();b=f*this.da.y-g*this.da.x;var l=h*this.da.y-k*this.da.x;b=d.m_invMass+d.m_invI*b*b+e.m_invMass+e.m_invI*l*l;this.m_mass=0!=b?1/b:0;if(0<this.Kb){c-=this.m_length;var l=2*Math.PI*this.Kb,n=this.m_mass*l*l;this.wa=a.dt*(2*this.m_mass*this.kc*l+a.dt*n);this.wa=0!=this.wa?1/this.wa:0;this.wh=c*a.dt*n*this.wa;this.m_mass=b+this.wa;this.m_mass=0!=this.m_mass?1/this.m_mass:0}a.warmStarting?(this.h*=a.dtRatio,a=this.h*this.da.x,b=this.h*this.da.y,d.m_linearVelocity.x-=
d.m_invMass*a,d.m_linearVelocity.y-=d.m_invMass*b,d.m_angularVelocity-=d.m_invI*(f*b-g*a),e.m_linearVelocity.x+=e.m_invMass*a,e.m_linearVelocity.y+=e.m_invMass*b,e.m_angularVelocity+=e.m_invI*(h*b-k*a)):this.h=0};ji.prototype.InitVelocityConstraints=ji.prototype.aa;
ji.prototype.X=function(){var a,b=this.m_bodyA,c=this.m_bodyB;a=b.m_xf.R;var d=this.m_localAnchor1.x-b.m_sweep.localCenter.x,e=this.m_localAnchor1.y-b.m_sweep.localCenter.y,f=a.col1.x*d+a.col2.x*e,e=a.col1.y*d+a.col2.y*e,d=f;a=c.m_xf.R;var g=this.m_localAnchor2.x-c.m_sweep.localCenter.x,h=this.m_localAnchor2.y-c.m_sweep.localCenter.y,f=a.col1.x*g+a.col2.x*h,h=a.col1.y*g+a.col2.y*h,g=f,f=-this.m_mass*(this.da.x*(c.m_linearVelocity.x+-c.m_angularVelocity*h-(b.m_linearVelocity.x+-b.m_angularVelocity*
e))+this.da.y*(c.m_linearVelocity.y+c.m_angularVelocity*g-(b.m_linearVelocity.y+b.m_angularVelocity*d))+this.wh+this.wa*this.h);this.h+=f;a=f*this.da.x;f*=this.da.y;b.m_linearVelocity.x-=b.m_invMass*a;b.m_linearVelocity.y-=b.m_invMass*f;b.m_angularVelocity-=b.m_invI*(d*f-e*a);c.m_linearVelocity.x+=c.m_invMass*a;c.m_linearVelocity.y+=c.m_invMass*f;c.m_angularVelocity+=c.m_invI*(g*f-h*a)};ji.prototype.SolveVelocityConstraints=ji.prototype.X;
ji.prototype.W=function(){var a;if(0<this.Kb)return!0;var b=this.m_bodyA,c=this.m_bodyB;a=b.m_xf.R;var d=this.m_localAnchor1.x-b.m_sweep.localCenter.x,e=this.m_localAnchor1.y-b.m_sweep.localCenter.y,f=a.col1.x*d+a.col2.x*e,e=a.col1.y*d+a.col2.y*e,d=f;a=c.m_xf.R;var g=this.m_localAnchor2.x-c.m_sweep.localCenter.x,h=this.m_localAnchor2.y-c.m_sweep.localCenter.y,f=a.col1.x*g+a.col2.x*h,h=a.col1.y*g+a.col2.y*h,g=f,k=c.m_sweep.c.x+g-b.m_sweep.c.x-d,l=c.m_sweep.c.y+h-b.m_sweep.c.y-e,n=Math.sqrt(k*k+l*l);
a=n-this.m_length;a=Wg(a,-.2,.2);f=-this.m_mass*a;this.da.Set(k/n,l/n);k=f*this.da.x;f*=this.da.y;b.m_sweep.c.x-=b.m_invMass*k;b.m_sweep.c.y-=b.m_invMass*f;b.m_sweep.a-=b.m_invI*(d*f-e*k);c.m_sweep.c.x+=c.m_invMass*k;c.m_sweep.c.y+=c.m_invMass*f;c.m_sweep.a+=c.m_invI*(g*f-h*k);b.V();c.V();return.005>Qg(a)};ji.prototype.SolvePositionConstraints=ji.prototype.W;ji.prototype.i={names:[{name:'b2DistanceJoint',j:Jb}]};y(Jb,ji);function ki(){this.type=0;this.bodyB=this.bodyA=this.userData=null;this.collideConnected=!1}ki.prototype.i={names:[{name:'b2JointDef',j:Rb}]};y(Rb,ki);function li(){ki.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.type=3;this.length=1;this.dampingRatio=this.frequencyHz=0}cg(li,ki);li.prototype.H=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA.l(this.bodyA.Ca(c));this.localAnchorB.l(this.bodyB.Ca(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.dampingRatio=this.frequencyHz=0};li.prototype.Initialize=li.prototype.H;li.prototype.i={names:[{name:'b2DistanceJointDef',j:Kb}]};y(Kb,li);function mi(a){this.Ha=new A;this.Ia=new A;this.m_linearMass=new C;this.Ga=new A;H.call(this,a);this.Ha.l(a.localAnchorA);this.Ia.l(a.localAnchorB);this.m_linearMass.o();this.m_angularMass=0;this.Ga.o();this.tb=0;this.nc=a.maxForce;this.Af=a.maxTorque}cg(mi,H);mi.prototype.ga=function(){return this.m_bodyA.$(this.Ha)};mi.prototype.GetAnchorA=mi.prototype.ga;mi.prototype.ha=function(){return this.m_bodyB.$(this.Ia)};mi.prototype.GetAnchorB=mi.prototype.ha;
mi.prototype.la=function(a){return new A(a*this.Ga.x,a*this.Ga.y)};mi.prototype.GetReactionForce=mi.prototype.la;mi.prototype.ma=function(a){return a*this.tb};mi.prototype.GetReactionTorque=mi.prototype.ma;mi.prototype.Ve=q('nc');mi.prototype.SetMaxForce=mi.prototype.Ve;mi.prototype.Le=t('nc');mi.prototype.GetMaxForce=mi.prototype.Le;mi.prototype.lk=q('Af');mi.prototype.SetMaxTorque=mi.prototype.lk;mi.prototype.ij=t('Af');mi.prototype.GetMaxTorque=mi.prototype.ij;
mi.prototype.aa=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var f=this.Ha.x-d.m_sweep.localCenter.x,g=this.Ha.y-d.m_sweep.localCenter.y;c=b.col1.x*f+b.col2.x*g;g=b.col1.y*f+b.col2.y*g;f=c;b=e.m_xf.R;var h=this.Ia.x-e.m_sweep.localCenter.x,k=this.Ia.y-e.m_sweep.localCenter.y;c=b.col1.x*h+b.col2.x*k;k=b.col1.y*h+b.col2.y*k;h=c;b=d.m_invMass;c=e.m_invMass;var l=d.m_invI,n=e.m_invI,p=new C;p.col1.x=b+c;p.col2.x=0;p.col1.y=0;p.col2.y=b+c;p.col1.x+=l*g*g;p.col2.x+=-l*f*g;p.col1.y+=-l*f*
g;p.col2.y+=l*f*f;p.col1.x+=n*k*k;p.col2.x+=-n*h*k;p.col1.y+=-n*h*k;p.col2.y+=n*h*h;p.Vd(this.m_linearMass);this.m_angularMass=l+n;0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass);a.warmStarting?(this.Ga.x*=a.dtRatio,this.Ga.y*=a.dtRatio,this.tb*=a.dtRatio,a=this.Ga,d.m_linearVelocity.x-=b*a.x,d.m_linearVelocity.y-=b*a.y,d.m_angularVelocity-=l*(f*a.y-g*a.x+this.tb),e.m_linearVelocity.x+=c*a.x,e.m_linearVelocity.y+=c*a.y,e.m_angularVelocity+=n*(h*a.y-k*a.x+this.tb)):(this.Ga.o(),this.tb=
0)};mi.prototype.InitVelocityConstraints=mi.prototype.aa;
mi.prototype.X=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB,f=d.m_linearVelocity,g=d.m_angularVelocity,h=e.m_linearVelocity,k=e.m_angularVelocity,l=d.m_invMass,n=e.m_invMass,p=d.m_invI,u=e.m_invI;b=d.m_xf.R;var r=this.Ha.x-d.m_sweep.localCenter.x,x=this.Ha.y-d.m_sweep.localCenter.y;c=b.col1.x*r+b.col2.x*x;x=b.col1.y*r+b.col2.y*x;r=c;b=e.m_xf.R;var v=this.Ia.x-e.m_sweep.localCenter.x,B=this.Ia.y-e.m_sweep.localCenter.y;c=b.col1.x*v+b.col2.x*B;B=b.col1.y*v+b.col2.y*B;v=c;c=-this.m_angularMass*
(k-g);var K=this.tb;b=a.dt*this.Af;this.tb=Wg(this.tb+c,-b,b);c=this.tb-K;g-=p*c;k+=u*c;b=Kg(this.m_linearMass,new A(-(h.x-k*B-f.x+g*x),-(h.y+k*v-f.y-g*r)));c=this.Ga.G();this.Ga.mb(b);b=a.dt*this.nc;this.Ga.ac()>b*b&&(this.Ga.ra(),this.Ga.Ra(b));b=Og(this.Ga,c);f.x-=l*b.x;f.y-=l*b.y;g-=p*(r*b.y-x*b.x);h.x+=n*b.x;h.y+=n*b.y;k+=u*(v*b.y-B*b.x);d.m_angularVelocity=g;e.m_angularVelocity=k};mi.prototype.SolveVelocityConstraints=mi.prototype.X;mi.prototype.W=w(!0);
mi.prototype.SolvePositionConstraints=mi.prototype.W;mi.prototype.i={names:[{name:'b2FrictionJoint',j:Lb}]};y(Lb,mi);function ni(){ki.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.type=9;this.maxTorque=this.maxForce=0}cg(ni,ki);ni.prototype.H=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA.l(this.bodyA.Ca(c));this.localAnchorB.l(this.bodyB.Ca(c))};ni.prototype.Initialize=ni.prototype.H;ni.prototype.i={names:[{name:'b2FrictionJointDef',j:Mb}]};y(Mb,ni);function oi(){this.linearA=new A;this.linearB=new A}oi.prototype.o=function(){this.linearA.o();this.angularA=0;this.linearB.o();this.angularB=0};oi.prototype.SetZero=oi.prototype.o;oi.prototype.Set=function(a,b,c,d){this.linearA.l(a);this.angularA=b;this.linearB.l(c);this.angularB=d};oi.prototype.Set=oi.prototype.Set;oi.prototype.$f=function(a,b,c,d){return this.linearA.x*a.x+this.linearA.y*a.y+this.angularA*b+(this.linearB.x*c.x+this.linearB.y*c.y)+this.angularB*d};oi.prototype.Compute=oi.prototype.$f;
oi.prototype.i={names:[{name:'b2Jacobian',j:Pb}]};y(Pb,oi);function pi(a,b,c){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.z='undefined'!==typeof c?c:0}pi.prototype.o=function(){this.x=this.y=this.z=0};pi.prototype.SetZero=pi.prototype.o;pi.prototype.Set=function(a,b,c){this.x=a;this.y=b;this.z=c};pi.prototype.Set=pi.prototype.Set;pi.prototype.l=function(a){this.x=a.x;this.y=a.y;this.z=a.z};pi.prototype.SetV=pi.prototype.l;pi.prototype.Ab=function(){return new pi(-this.x,-this.y,-this.z)};pi.prototype.GetNegative=pi.prototype.Ab;
pi.prototype.Yd=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};pi.prototype.NegativeSelf=pi.prototype.Yd;pi.prototype.G=function(){return new pi(this.x,this.y,this.z)};pi.prototype.Copy=pi.prototype.G;pi.prototype.mb=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};pi.prototype.Add=pi.prototype.mb;pi.prototype.Ye=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};pi.prototype.Subtract=pi.prototype.Ye;pi.prototype.Ra=function(a){this.x*=a;this.y*=a;this.z*=a};pi.prototype.Multiply=pi.prototype.Ra;
pi.prototype.i={names:[{name:'b2Vec3',j:tb}]};y(tb,pi);function qi(a,b,c){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;this.col1=new pi;this.col2=new pi;this.col3=new pi;a||b||c?(this.col1.l(a),this.col2.l(b),this.col3.l(c)):(this.col1.o(),this.col2.o(),this.col3.o())}qi.prototype.xk=function(a,b,c){this.col1.l(a);this.col2.l(b);this.col3.l(c)};qi.prototype.SetVVV=qi.prototype.xk;qi.prototype.G=function(){return new qi(this.col1,this.col2,this.col3)};qi.prototype.Copy=qi.prototype.G;
qi.prototype.Db=function(a){this.col1.l(a.col1);this.col2.l(a.col2);this.col3.l(a.col3)};qi.prototype.SetM=qi.prototype.Db;qi.prototype.vc=function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col1.z+=a.col1.z;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y;this.col2.z+=a.col2.z;this.col3.x+=a.col3.x;this.col3.y+=a.col3.y;this.col3.z+=a.col3.z};qi.prototype.AddM=qi.prototype.vc;
qi.prototype.bc=function(){this.col1.x=1;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=1;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=1};qi.prototype.SetIdentity=qi.prototype.bc;qi.prototype.o=function(){this.col1.x=0;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=0;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=0};qi.prototype.SetZero=qi.prototype.o;
qi.prototype.cc=function(a,b,c){var d=this.col1.x,e=this.col2.x,f=this.col1.y,g=this.col2.y,h=d*g-e*f;0!=h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};qi.prototype.Solve22=qi.prototype.cc;
qi.prototype.yc=function(a,b,c,d){var e=this.col1.x,f=this.col1.y,g=this.col1.z,h=this.col2.x,k=this.col2.y,l=this.col2.z,n=this.col3.x,p=this.col3.y,u=this.col3.z,r=e*(k*u-l*p)+f*(l*n-h*u)+g*(h*p-k*n);0!=r&&(r=1/r);a.x=r*(b*(k*u-l*p)+c*(l*n-h*u)+d*(h*p-k*n));a.y=r*(e*(c*u-d*p)+f*(d*n-b*u)+g*(b*p-c*n));a.z=r*(e*(k*d-l*c)+f*(l*b-h*d)+g*(h*c-k*b));return a};qi.prototype.Solve33=qi.prototype.yc;qi.prototype.i={names:[{name:'b2Mat33',j:nb}]};y(nb,qi);function I(a){this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.m_localXAxis1=new A;this.Mb=new A;this.m_axis=new A;this.u=new A;this.s=new qi;this.h=new pi;H.call(this,a);this.m_localAnchor1.l(a.localAnchorA);this.m_localAnchor2.l(a.localAnchorB);this.m_localXAxis1.l(a.localAxisA);this.Mb.x=-this.m_localXAxis1.y;this.Mb.y=this.m_localXAxis1.x;this.Yl=a.referenceAngle;this.h.o();this.B=this.Aa=0;this.xa=a.lowerTranslation;this.ya=a.upperTranslation;this.Mc=a.maxMotorForce;this.lb=a.motorSpeed;
this.va=a.enableLimit;this.Ma=a.enableMotor;this.C=0;this.m_axis.o();this.u.o()}cg(I,H);I.prototype.ga=function(){return this.m_bodyA.$(this.m_localAnchor1)};I.prototype.GetAnchorA=I.prototype.ga;I.prototype.ha=function(){return this.m_bodyB.$(this.m_localAnchor2)};I.prototype.GetAnchorB=I.prototype.ha;I.prototype.la=function(a){return new A(a*(this.h.x*this.u.x+(this.B+this.h.z)*this.m_axis.x),a*(this.h.x*this.u.y+(this.B+this.h.z)*this.m_axis.y))};I.prototype.GetReactionForce=I.prototype.la;
I.prototype.ma=function(a){return a*this.h.y};I.prototype.GetReactionTorque=I.prototype.ma;I.prototype.Xb=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.$(this.m_localAnchor1),d=b.$(this.m_localAnchor2),b=d.x-c.x,c=d.y-c.y,a=a.ld(this.m_localXAxis1);return a.x*b+a.y*c};I.prototype.GetJointTranslation=I.prototype.Xb;
I.prototype.ed=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f;c=b.m_sweep.c.x+g-(a.m_sweep.c.x+d);var f=b.m_sweep.c.y+h-(a.m_sweep.c.y+e),k=a.ld(this.m_localXAxis1),l=a.m_linearVelocity,
n=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return c*-a*k.y+f*a*k.x+(k.x*(n.x+-b*h-l.x- -a*e)+k.y*(n.y+b*g-l.y-a*d))};I.prototype.GetJointSpeed=I.prototype.ed;I.prototype.od=t(Rf);I.prototype.IsLimitEnabled=I.prototype.od;I.prototype.Yc=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.va=a};I.prototype.EnableLimit=I.prototype.Yc;I.prototype.fd=t('xa');I.prototype.GetLowerLimit=I.prototype.fd;I.prototype.kd=t('ya');I.prototype.GetUpperLimit=I.prototype.kd;
I.prototype.ud=function(a,b){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.xa=a;this.ya=b};I.prototype.SetLimits=I.prototype.ud;I.prototype.pd=t('Ma');I.prototype.IsMotorEnabled=I.prototype.pd;I.prototype.Zc=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.Ma=a};I.prototype.EnableMotor=I.prototype.Zc;I.prototype.vd=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.lb=a};I.prototype.SetMotorSpeed=I.prototype.vd;I.prototype.gd=t('lb');I.prototype.GetMotorSpeed=I.prototype.gd;
I.prototype.We=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.Mc=a};I.prototype.SetMaxMotorForce=I.prototype.We;I.prototype.Ne=t('B');I.prototype.GetMotorForce=I.prototype.Ne;
I.prototype.aa=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;this.m_localCenterA.l(b.m_sweep.localCenter);this.m_localCenterB.l(c.m_sweep.localCenter);var f=b.ia();c.ia();d=b.m_xf.R;var g=this.m_localAnchor1.x-this.m_localCenterA.x,h=this.m_localAnchor1.y-this.m_localCenterA.y;e=d.col1.x*g+d.col2.x*h;h=d.col1.y*g+d.col2.y*h;g=e;d=c.m_xf.R;var k=this.m_localAnchor2.x-this.m_localCenterB.x,l=this.m_localAnchor2.y-this.m_localCenterB.y;e=d.col1.x*k+d.col2.x*l;l=d.col1.y*k+d.col2.y*l;k=e;d=c.m_sweep.c.x+
k-b.m_sweep.c.x-g;e=c.m_sweep.c.y+l-b.m_sweep.c.y-h;this.m_invMassA=b.m_invMass;this.m_invMassB=c.m_invMass;this.m_invIA=b.m_invI;this.m_invIB=c.m_invI;this.m_axis.l(Kg(f.R,this.m_localXAxis1));this.J=(d+g)*this.m_axis.y-(e+h)*this.m_axis.x;this.L=k*this.m_axis.y-l*this.m_axis.x;this.Aa=this.m_invMassA+this.m_invMassB+this.m_invIA*this.J*this.J+this.m_invIB*this.L*this.L;this.Aa>Number.MIN_VALUE&&(this.Aa=1/this.Aa);this.u.l(Kg(f.R,this.Mb));this.N=(d+g)*this.u.y-(e+h)*this.u.x;this.O=k*this.u.y-
l*this.u.x;f=this.m_invMassA;g=this.m_invMassB;h=this.m_invIA;k=this.m_invIB;this.s.col1.x=f+g+h*this.N*this.N+k*this.O*this.O;this.s.col1.y=h*this.N+k*this.O;this.s.col1.z=h*this.N*this.J+k*this.O*this.L;this.s.col2.x=this.s.col1.y;this.s.col2.y=h+k;this.s.col2.z=h*this.J+k*this.L;this.s.col3.x=this.s.col1.z;this.s.col3.y=this.s.col2.z;this.s.col3.z=f+g+h*this.J*this.J+k*this.L*this.L;this.va?(d=this.m_axis.x*d+this.m_axis.y*e,.01>Qg(this.ya-this.xa)?this.C=3:d<=this.xa?1!=this.C&&(this.C=1,this.h.z=
0):d>=this.ya?2!=this.C&&(this.C=2,this.h.z=0):(this.C=0,this.h.z=0)):this.C=0;0==this.Ma&&(this.B=0);a.warmStarting?(this.h.x*=a.dtRatio,this.h.y*=a.dtRatio,this.B*=a.dtRatio,a=this.h.x*this.u.x+(this.B+this.h.z)*this.m_axis.x,d=this.h.x*this.u.y+(this.B+this.h.z)*this.m_axis.y,e=this.h.x*this.N+this.h.y+(this.B+this.h.z)*this.J,f=this.h.x*this.O+this.h.y+(this.B+this.h.z)*this.L,b.m_linearVelocity.x-=this.m_invMassA*a,b.m_linearVelocity.y-=this.m_invMassA*d,b.m_angularVelocity-=this.m_invIA*e,c.m_linearVelocity.x+=
this.m_invMassB*a,c.m_linearVelocity.y+=this.m_invMassB*d,c.m_angularVelocity+=this.m_invIB*f):(this.h.o(),this.B=0)};I.prototype.InitVelocityConstraints=I.prototype.aa;
I.prototype.X=function(a){var b=this.m_bodyA,c=this.m_bodyB,d=b.m_linearVelocity,e=b.m_angularVelocity,f=c.m_linearVelocity,g=c.m_angularVelocity,h,k,l;this.Ma&&3!=this.C&&(l=this.Aa*(this.lb-(this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.L*g-this.J*e)),h=this.B,a=a.dt*this.Mc,this.B=Wg(this.B+l,-a,a),l=this.B-h,h=l*this.m_axis.x,a=l*this.m_axis.y,k=l*this.J,l*=this.L,d.x-=this.m_invMassA*h,d.y-=this.m_invMassA*a,e-=this.m_invIA*k,f.x+=this.m_invMassB*h,f.y+=this.m_invMassB*a,g+=this.m_invIB*
l);a=this.u.x*(f.x-d.x)+this.u.y*(f.y-d.y)+this.O*g-this.N*e;k=g-e;this.va&&0!=this.C?(l=this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.L*g-this.J*e,h=this.h.G(),l=this.s.yc(new pi,-a,-k,-l),this.h.mb(l),1==this.C?this.h.z=Ug(this.h.z,0):2==this.C&&(this.h.z=Sg(this.h.z,0)),a=this.s.cc(new A,-a-(this.h.z-h.z)*this.s.col3.x,-k-(this.h.z-h.z)*this.s.col3.y),a.x+=h.x,a.y+=h.y,this.h.x=a.x,this.h.y=a.y,l.x=this.h.x-h.x,l.y=this.h.y-h.y,l.z=this.h.z-h.z,h=l.x*this.u.x+l.z*this.m_axis.x,a=l.x*this.u.y+
l.z*this.m_axis.y,k=l.x*this.N+l.y+l.z*this.J,l=l.x*this.O+l.y+l.z*this.L):(l=this.s.cc(new A,-a,-k),this.h.x+=l.x,this.h.y+=l.y,h=l.x*this.u.x,a=l.x*this.u.y,k=l.x*this.N+l.y,l=l.x*this.O+l.y);d.x-=this.m_invMassA*h;d.y-=this.m_invMassA*a;e-=this.m_invIA*k;f.x+=this.m_invMassB*h;f.y+=this.m_invMassB*a;g+=this.m_invIB*l;b.m_linearVelocity.l(d);b.m_angularVelocity=e;c.m_linearVelocity.l(f);c.m_angularVelocity=g};I.prototype.SolveVelocityConstraints=I.prototype.X;
I.prototype.W=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.m_sweep.c,d=a.m_sweep.a,e=b.m_sweep.c,f=b.m_sweep.a,g,h,k,l,n=0,p=0;k=!1;var u=0,r=Cg(d),x=Cg(f);g=r;var p=this.m_localAnchor1.x-this.m_localCenterA.x,v=this.m_localAnchor1.y-this.m_localCenterA.y;h=g.col1.x*p+g.col2.x*v;v=g.col1.y*p+g.col2.y*v;p=h;g=x;x=this.m_localAnchor2.x-this.m_localCenterB.x;l=this.m_localAnchor2.y-this.m_localCenterB.y;h=g.col1.x*x+g.col2.x*l;l=g.col1.y*x+g.col2.y*l;x=h;g=e.x+x-c.x-p;h=e.y+l-c.y-v;if(this.va){this.m_axis=
Kg(r,this.m_localXAxis1);this.J=(g+p)*this.m_axis.y-(h+v)*this.m_axis.x;this.L=x*this.m_axis.y-l*this.m_axis.x;var B=this.m_axis.x*g+this.m_axis.y*h;.01>Qg(this.ya-this.xa)?(u=Wg(B,-.2,.2),n=Qg(B),k=!0):B<=this.xa?(u=Wg(B-this.xa+.005,-.2,0),n=this.xa-B,k=!0):B>=this.ya&&(u=Wg(B-this.ya+.005,0,.2),n=B-this.ya,k=!0)}this.u=Kg(r,this.Mb);this.N=(g+p)*this.u.y-(h+v)*this.u.x;this.O=x*this.u.y-l*this.u.x;r=new pi;v=this.u.x*g+this.u.y*h;x=f-d-this.Yl;n=Ug(n,Qg(v));p=Qg(x);k?(k=this.m_invMassA,l=this.m_invMassB,
g=this.m_invIA,h=this.m_invIB,this.s.col1.x=k+l+g*this.N*this.N+h*this.O*this.O,this.s.col1.y=g*this.N+h*this.O,this.s.col1.z=g*this.N*this.J+h*this.O*this.L,this.s.col2.x=this.s.col1.y,this.s.col2.y=g+h,this.s.col2.z=g*this.J+h*this.L,this.s.col3.x=this.s.col1.z,this.s.col3.y=this.s.col2.z,this.s.col3.z=k+l+g*this.J*this.J+h*this.L*this.L,this.s.yc(r,-v,-x,-u)):(k=this.m_invMassA,l=this.m_invMassB,g=this.m_invIA,h=this.m_invIB,u=g*this.N+h*this.O,B=g+h,this.s.col1.Set(k+l+g*this.N*this.N+h*this.O*
this.O,u,0),this.s.col2.Set(u,B,0),u=this.s.cc(new A,-v,-x),r.x=u.x,r.y=u.y,r.z=0);u=r.x*this.u.x+r.z*this.m_axis.x;k=r.x*this.u.y+r.z*this.m_axis.y;v=r.x*this.N+r.y+r.z*this.J;r=r.x*this.O+r.y+r.z*this.L;c.x-=this.m_invMassA*u;c.y-=this.m_invMassA*k;d-=this.m_invIA*v;e.x+=this.m_invMassB*u;e.y+=this.m_invMassB*k;f+=this.m_invIB*r;a.m_sweep.a=d;b.m_sweep.a=f;a.V();b.V();return.005>=n&&p<=rg};I.prototype.SolvePositionConstraints=I.prototype.W;I.prototype.i={names:[{name:'b2PrismaticJoint',j:cc}]};
y(cc,I);function J(a){this.K=new C;this.cb=new C;this.eb=new C;this.sd=new C;this.ka=new pi;this.kb=new A;this.yb=new A;this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.h=new pi;this.m_mass=new qi;H.call(this,a);this.m_localAnchor1.l(a.localAnchorA);this.m_localAnchor2.l(a.localAnchorB);this.Ld=a.referenceAngle;this.h.o();this.B=0;this.Lc=a.lowerAngle;this.Md=a.upperAngle;this.zf=a.maxMotorTorque;this.lb=a.motorSpeed;this.va=a.enableLimit;this.Ma=a.enableMotor;this.C=0}cg(J,H);J.prototype.ga=function(){return this.m_bodyA.$(this.m_localAnchor1)};
J.prototype.GetAnchorA=J.prototype.ga;J.prototype.ha=function(){return this.m_bodyB.$(this.m_localAnchor2)};J.prototype.GetAnchorB=J.prototype.ha;J.prototype.la=function(a){return new A(a*this.h.x,a*this.h.y)};J.prototype.GetReactionForce=J.prototype.la;J.prototype.ma=function(a){return a*this.h.z};J.prototype.GetReactionTorque=J.prototype.ma;J.prototype.dd=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.Ld};J.prototype.GetJointAngle=J.prototype.dd;
J.prototype.ed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity};J.prototype.GetJointSpeed=J.prototype.ed;J.prototype.od=t(Rf);J.prototype.IsLimitEnabled=J.prototype.od;J.prototype.Yc=q(Rf);J.prototype.EnableLimit=J.prototype.Yc;J.prototype.fd=t('Lc');J.prototype.GetLowerLimit=J.prototype.fd;J.prototype.kd=t('Md');J.prototype.GetUpperLimit=J.prototype.kd;J.prototype.ud=function(a,b){this.Lc=a;this.Md=b};J.prototype.SetLimits=J.prototype.ud;
J.prototype.pd=function(){this.m_bodyA.A(!0);this.m_bodyB.A(!0);return this.Ma};J.prototype.IsMotorEnabled=J.prototype.pd;J.prototype.Zc=q('Ma');J.prototype.EnableMotor=J.prototype.Zc;J.prototype.vd=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.lb=a};J.prototype.SetMotorSpeed=J.prototype.vd;J.prototype.gd=t('lb');J.prototype.GetMotorSpeed=J.prototype.gd;J.prototype.kk=q('zf');J.prototype.SetMaxMotorTorque=J.prototype.kk;J.prototype.jj=t('zf');J.prototype.GetMotorTorque=J.prototype.jj;
J.prototype.aa=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;d=b.m_xf.R;var f=this.m_localAnchor1.x-b.m_sweep.localCenter.x,g=this.m_localAnchor1.y-b.m_sweep.localCenter.y;e=d.col1.x*f+d.col2.x*g;g=d.col1.y*f+d.col2.y*g;f=e;d=c.m_xf.R;var h=this.m_localAnchor2.x-c.m_sweep.localCenter.x,k=this.m_localAnchor2.y-c.m_sweep.localCenter.y;e=d.col1.x*h+d.col2.x*k;k=d.col1.y*h+d.col2.y*k;h=e;d=b.m_invMass;e=c.m_invMass;var l=b.m_invI,n=c.m_invI;this.m_mass.col1.x=d+e+g*g*l+k*k*n;this.m_mass.col2.x=-g*
f*l-k*h*n;this.m_mass.col3.x=-g*l-k*n;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=d+e+f*f*l+h*h*n;this.m_mass.col3.y=f*l+h*n;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=l+n;this.Aa=1/(l+n);0==this.Ma&&(this.B=0);if(this.va){var p=c.m_sweep.a-b.m_sweep.a-this.Ld;Qg(this.Md-this.Lc)<2*rg?this.C=3:p<=this.Lc?(1!=this.C&&(this.h.z=0),this.C=1):p>=this.Md?(2!=this.C&&(this.h.z=0),this.C=2):(this.C=0,this.h.z=0)}else this.C=0;a.warmStarting?
(this.h.x*=a.dtRatio,this.h.y*=a.dtRatio,this.B*=a.dtRatio,a=this.h.x,p=this.h.y,b.m_linearVelocity.x-=d*a,b.m_linearVelocity.y-=d*p,b.m_angularVelocity-=l*(f*p-g*a+this.B+this.h.z),c.m_linearVelocity.x+=e*a,c.m_linearVelocity.y+=e*p,c.m_angularVelocity+=n*(h*p-k*a+this.B+this.h.z)):(this.h.o(),this.B=0)};J.prototype.InitVelocityConstraints=J.prototype.aa;
J.prototype.X=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e,f,g,h,k=b.m_linearVelocity,l=b.m_angularVelocity,n=c.m_linearVelocity,p=c.m_angularVelocity,u=b.m_invMass,r=c.m_invMass,x=b.m_invI,v=c.m_invI;this.Ma&&3!=this.C&&(f=this.Aa*-(p-l-this.lb),g=this.B,a=a.dt*this.zf,this.B=Wg(this.B+f,-a,a),f=this.B-g,l-=x*f,p+=v*f);if(this.va&&0!=this.C){d=b.m_xf.R;f=this.m_localAnchor1.x-b.m_sweep.localCenter.x;g=this.m_localAnchor1.y-b.m_sweep.localCenter.y;e=d.col1.x*f+d.col2.x*g;g=d.col1.y*f+d.col2.y*
g;f=e;d=c.m_xf.R;a=this.m_localAnchor2.x-c.m_sweep.localCenter.x;h=this.m_localAnchor2.y-c.m_sweep.localCenter.y;e=d.col1.x*a+d.col2.x*h;h=d.col1.y*a+d.col2.y*h;a=e;e=n.x+-p*h-k.x- -l*g;var B=n.y+p*a-k.y-l*f;this.m_mass.yc(this.ka,-e,-B,-(p-l));3==this.C?this.h.mb(this.ka):1==this.C?(d=this.h.z+this.ka.z,0>d&&(this.m_mass.cc(this.yb,-e,-B),this.ka.x=this.yb.x,this.ka.y=this.yb.y,this.ka.z=-this.h.z,this.h.x+=this.yb.x,this.h.y+=this.yb.y,this.h.z=0)):2==this.C&&(d=this.h.z+this.ka.z,0<d&&(this.m_mass.cc(this.yb,
-e,-B),this.ka.x=this.yb.x,this.ka.y=this.yb.y,this.ka.z=-this.h.z,this.h.x+=this.yb.x,this.h.y+=this.yb.y,this.h.z=0));k.x-=u*this.ka.x;k.y-=u*this.ka.y;l-=x*(f*this.ka.y-g*this.ka.x+this.ka.z);n.x+=r*this.ka.x;n.y+=r*this.ka.y;p+=v*(a*this.ka.y-h*this.ka.x+this.ka.z)}else d=b.m_xf.R,f=this.m_localAnchor1.x-b.m_sweep.localCenter.x,g=this.m_localAnchor1.y-b.m_sweep.localCenter.y,e=d.col1.x*f+d.col2.x*g,g=d.col1.y*f+d.col2.y*g,f=e,d=c.m_xf.R,a=this.m_localAnchor2.x-c.m_sweep.localCenter.x,h=this.m_localAnchor2.y-
c.m_sweep.localCenter.y,e=d.col1.x*a+d.col2.x*h,h=d.col1.y*a+d.col2.y*h,a=e,this.m_mass.cc(this.kb,-(n.x+-p*h-k.x- -l*g),-(n.y+p*a-k.y-l*f)),this.h.x+=this.kb.x,this.h.y+=this.kb.y,k.x-=u*this.kb.x,k.y-=u*this.kb.y,l-=x*(f*this.kb.y-g*this.kb.x),n.x+=r*this.kb.x,n.y+=r*this.kb.y,p+=v*(a*this.kb.y-h*this.kb.x);b.m_linearVelocity.l(k);b.m_angularVelocity=l;c.m_linearVelocity.l(n);c.m_angularVelocity=p};J.prototype.SolveVelocityConstraints=J.prototype.X;var ri=new A;
J.prototype.W=function(){var a,b,c=this.m_bodyA,d=this.m_bodyB,e=0;b=0;var f,g,h;if(this.va&&0!=this.C){a=d.m_sweep.a-c.m_sweep.a-this.Ld;var k=0;3==this.C?(a=Wg(a-this.Lc,-sg,sg),k=-this.Aa*a,e=Qg(a)):1==this.C?(a-=this.Lc,e=-a,a=Wg(a+rg,-sg,0),k=-this.Aa*a):2==this.C&&(e=a-=this.Md,a=Wg(a-rg,0,sg),k=-this.Aa*a);c.m_sweep.a-=c.m_invI*k;d.m_sweep.a+=d.m_invI*k;c.V();d.V()}b=c.m_xf.R;k=this.m_localAnchor1.x-c.m_sweep.localCenter.x;a=this.m_localAnchor1.y-c.m_sweep.localCenter.y;f=b.col1.x*k+b.col2.x*
a;a=b.col1.y*k+b.col2.y*a;k=f;b=d.m_xf.R;var l=this.m_localAnchor2.x-d.m_sweep.localCenter.x,n=this.m_localAnchor2.y-d.m_sweep.localCenter.y;f=b.col1.x*l+b.col2.x*n;n=b.col1.y*l+b.col2.y*n;l=f;g=d.m_sweep.c.x+l-c.m_sweep.c.x-k;h=d.m_sweep.c.y+n-c.m_sweep.c.y-a;var p=g*g+h*h;b=Math.sqrt(p);f=c.m_invMass;var u=d.m_invMass,r=c.m_invI,x=d.m_invI;p>.05*.05&&(p=1/(f+u),g=p*-g,h=p*-h,c.m_sweep.c.x-=.5*f*g,c.m_sweep.c.y-=.5*f*h,d.m_sweep.c.x+=.5*u*g,d.m_sweep.c.y+=.5*u*h,g=d.m_sweep.c.x+l-c.m_sweep.c.x-k,
h=d.m_sweep.c.y+n-c.m_sweep.c.y-a);this.cb.col1.x=f+u;this.cb.col2.x=0;this.cb.col1.y=0;this.cb.col2.y=f+u;this.eb.col1.x=r*a*a;this.eb.col2.x=-r*k*a;this.eb.col1.y=-r*k*a;this.eb.col2.y=r*k*k;this.sd.col1.x=x*n*n;this.sd.col2.x=-x*l*n;this.sd.col1.y=-x*l*n;this.sd.col2.y=x*l*l;this.K.Db(this.cb);this.K.vc(this.eb);this.K.vc(this.sd);this.K.qb(ri,-g,-h);g=ri.x;h=ri.y;c.m_sweep.c.x-=c.m_invMass*g;c.m_sweep.c.y-=c.m_invMass*h;c.m_sweep.a-=c.m_invI*(k*h-a*g);d.m_sweep.c.x+=d.m_invMass*g;d.m_sweep.c.y+=
d.m_invMass*h;d.m_sweep.a+=d.m_invI*(l*h-n*g);c.V();d.V();return.005>=b&&e<=rg};J.prototype.SolvePositionConstraints=J.prototype.W;J.prototype.i={names:[{name:'b2RevoluteJoint',j:gc}]};y(gc,J);function si(a){this.Va=new A;this.Wa=new A;this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.P=new oi;H.call(this,a);var b=a.joint1.m_type,c=a.joint2.m_type;this.Oc=this.rc=this.Nc=this.qc=null;this.Vl=a.joint1.m_bodyA;this.m_bodyA=a.joint1.m_bodyB;1==b?(this.qc=z(a.joint1,J),this.Va.l(this.qc.m_localAnchor1),this.m_localAnchor1.l(this.qc.m_localAnchor2),b=this.qc.dd()):(this.Nc=z(a.joint1,I),this.Va.l(this.Nc.m_localAnchor1),this.m_localAnchor1.l(this.Nc.m_localAnchor2),b=this.Nc.Xb());this.Wl=
a.joint2.m_bodyA;this.m_bodyB=a.joint2.m_bodyB;1==c?(this.rc=z(a.joint2,J),this.Wa.l(this.rc.m_localAnchor1),this.m_localAnchor2.l(this.rc.m_localAnchor2),c=this.rc.dd()):(this.Oc=z(a.joint2,I),this.Wa.l(this.Oc.m_localAnchor1),this.m_localAnchor2.l(this.Oc.m_localAnchor2),c=this.Oc.Xb());this.U=a.ratio;this.Kc=b+this.U*c;this.h=0}cg(si,H);si.prototype.ga=function(){return this.m_bodyA.$(this.m_localAnchor1)};si.prototype.GetAnchorA=si.prototype.ga;si.prototype.ha=function(){return this.m_bodyB.$(this.m_localAnchor2)};
si.prototype.GetAnchorB=si.prototype.ha;si.prototype.la=function(a){return new A(a*this.h*this.P.linearB.x,a*this.h*this.P.linearB.y)};si.prototype.GetReactionForce=si.prototype.la;si.prototype.ma=function(a){var b=this.m_bodyB.m_xf.R,c=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,d=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,e=b.col1.x*c+b.col2.x*d,d=b.col1.y*c+b.col2.y*d;return a*(this.h*this.P.angularB-e*this.h*this.P.linearB.y+d*this.h*this.P.linearB.x)};
si.prototype.GetReactionTorque=si.prototype.ma;si.prototype.Oe=t('U');si.prototype.GetRatio=si.prototype.Oe;si.prototype.rk=q('U');si.prototype.SetRatio=si.prototype.rk;
si.prototype.aa=function(a){var b=this.Vl,c=this.Wl,d=this.m_bodyA,e=this.m_bodyB,f,g,h,k,l,n=0;this.P.o();this.qc?(this.P.angularA=-1,n+=d.m_invI):(k=b.m_xf.R,f=this.Nc.m_localXAxis1,b=k.col1.x*f.x+k.col2.x*f.y,f=k.col1.y*f.x+k.col2.y*f.y,k=d.m_xf.R,g=this.m_localAnchor1.x-d.m_sweep.localCenter.x,h=this.m_localAnchor1.y-d.m_sweep.localCenter.y,l=k.col1.x*g+k.col2.x*h,h=k.col1.y*g+k.col2.y*h,k=l*f-h*b,this.P.linearA.Set(-b,-f),this.P.angularA=-k,n+=d.m_invMass+d.m_invI*k*k);this.rc?(this.P.angularB=
-this.U,n+=this.U*this.U*e.m_invI):(k=c.m_xf.R,f=this.Oc.m_localXAxis1,b=k.col1.x*f.x+k.col2.x*f.y,f=k.col1.y*f.x+k.col2.y*f.y,k=e.m_xf.R,g=this.m_localAnchor2.x-e.m_sweep.localCenter.x,h=this.m_localAnchor2.y-e.m_sweep.localCenter.y,l=k.col1.x*g+k.col2.x*h,h=k.col1.y*g+k.col2.y*h,k=l*f-h*b,this.P.linearB.Set(-this.U*b,-this.U*f),this.P.angularB=-this.U*k,n+=this.U*this.U*(e.m_invMass+e.m_invI*k*k));this.m_mass=0<n?1/n:0;a.warmStarting?(d.m_linearVelocity.x+=d.m_invMass*this.h*this.P.linearA.x,d.m_linearVelocity.y+=
d.m_invMass*this.h*this.P.linearA.y,d.m_angularVelocity+=d.m_invI*this.h*this.P.angularA,e.m_linearVelocity.x+=e.m_invMass*this.h*this.P.linearB.x,e.m_linearVelocity.y+=e.m_invMass*this.h*this.P.linearB.y,e.m_angularVelocity+=e.m_invI*this.h*this.P.angularB):this.h=0};si.prototype.InitVelocityConstraints=si.prototype.aa;
si.prototype.X=function(){var a=this.m_bodyA,b=this.m_bodyB,c=this.P.$f(a.m_linearVelocity,a.m_angularVelocity,b.m_linearVelocity,b.m_angularVelocity),c=-this.m_mass*c;this.h+=c;a.m_linearVelocity.x+=a.m_invMass*c*this.P.linearA.x;a.m_linearVelocity.y+=a.m_invMass*c*this.P.linearA.y;a.m_angularVelocity+=a.m_invI*c*this.P.angularA;b.m_linearVelocity.x+=b.m_invMass*c*this.P.linearB.x;b.m_linearVelocity.y+=b.m_invMass*c*this.P.linearB.y;b.m_angularVelocity+=b.m_invI*c*this.P.angularB};
si.prototype.SolveVelocityConstraints=si.prototype.X;
si.prototype.W=function(){var a=this.m_bodyA,b=this.m_bodyB,c,d;c=this.qc?this.qc.dd():this.Nc.Xb();d=this.rc?this.rc.dd():this.Oc.Xb();c=-this.m_mass*(this.Kc-(c+this.U*d));a.m_sweep.c.x+=a.m_invMass*c*this.P.linearA.x;a.m_sweep.c.y+=a.m_invMass*c*this.P.linearA.y;a.m_sweep.a+=a.m_invI*c*this.P.angularA;b.m_sweep.c.x+=b.m_invMass*c*this.P.linearB.x;b.m_sweep.c.y+=b.m_invMass*c*this.P.linearB.y;b.m_sweep.a+=b.m_invI*c*this.P.angularB;a.V();b.V();return!0};si.prototype.SolvePositionConstraints=si.prototype.W;
si.prototype.i={names:[{name:'b2GearJoint',j:Nb}]};y(Nb,si);function ti(){ki.call(this);this.type=6;this.joint2=this.joint1=null;this.ratio=1}cg(ti,ki);ti.prototype.i={names:[{name:'b2GearJointDef',j:Ob}]};y(Ob,ti);function L(a){this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.m_localXAxis1=new A;this.Mb=new A;this.m_axis=new A;this.u=new A;this.s=new C;this.h=new A;H.call(this,a);this.m_localAnchor1.l(a.localAnchorA);this.m_localAnchor2.l(a.localAnchorB);this.m_localXAxis1.l(a.localAxisA);this.Mb.x=-this.m_localXAxis1.y;this.Mb.y=this.m_localXAxis1.x;this.h.o();this.B=this.Aa=0;this.xa=a.lowerTranslation;this.ya=a.upperTranslation;this.Mc=a.maxMotorForce;this.lb=a.motorSpeed;this.va=a.enableLimit;this.Ma=
a.enableMotor;this.C=0;this.m_axis.o();this.u.o()}cg(L,H);L.prototype.ga=function(){return this.m_bodyA.$(this.m_localAnchor1)};L.prototype.GetAnchorA=L.prototype.ga;L.prototype.ha=function(){return this.m_bodyB.$(this.m_localAnchor2)};L.prototype.GetAnchorB=L.prototype.ha;L.prototype.la=function(a){return new A(a*(this.h.x*this.u.x+(this.B+this.h.y)*this.m_axis.x),a*(this.h.x*this.u.y+(this.B+this.h.y)*this.m_axis.y))};L.prototype.GetReactionForce=L.prototype.la;
L.prototype.ma=function(a){return a*this.h.y};L.prototype.GetReactionTorque=L.prototype.ma;L.prototype.Xb=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.$(this.m_localAnchor1),d=b.$(this.m_localAnchor2),b=d.x-c.x,c=d.y-c.y,a=a.ld(this.m_localXAxis1);return a.x*b+a.y*c};L.prototype.GetJointTranslation=L.prototype.Xb;
L.prototype.ed=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f;c=b.m_sweep.c.x+g-(a.m_sweep.c.x+d);var f=b.m_sweep.c.y+h-(a.m_sweep.c.y+e),k=a.ld(this.m_localXAxis1),l=a.m_linearVelocity,
n=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return c*-a*k.y+f*a*k.x+(k.x*(n.x+-b*h-l.x- -a*e)+k.y*(n.y+b*g-l.y-a*d))};L.prototype.GetJointSpeed=L.prototype.ed;L.prototype.od=t(Rf);L.prototype.IsLimitEnabled=L.prototype.od;L.prototype.Yc=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.va=a};L.prototype.EnableLimit=L.prototype.Yc;L.prototype.fd=t('xa');L.prototype.GetLowerLimit=L.prototype.fd;L.prototype.kd=t('ya');L.prototype.GetUpperLimit=L.prototype.kd;
L.prototype.ud=function(a,b){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.xa=a;this.ya=b};L.prototype.SetLimits=L.prototype.ud;L.prototype.pd=t('Ma');L.prototype.IsMotorEnabled=L.prototype.pd;L.prototype.Zc=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.Ma=a};L.prototype.EnableMotor=L.prototype.Zc;L.prototype.vd=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.lb=a};L.prototype.SetMotorSpeed=L.prototype.vd;L.prototype.gd=t('lb');L.prototype.GetMotorSpeed=L.prototype.gd;
L.prototype.We=function(a){this.m_bodyA.A(!0);this.m_bodyB.A(!0);this.Mc=a};L.prototype.SetMaxMotorForce=L.prototype.We;L.prototype.hj=t('Mc');L.prototype.GetMaxMotorForce=L.prototype.hj;L.prototype.Ne=t('B');L.prototype.GetMotorForce=L.prototype.Ne;
L.prototype.aa=function(a){var b=this.m_bodyA,c=this.m_bodyB,d,e;this.m_localCenterA.l(b.m_sweep.localCenter);this.m_localCenterB.l(c.m_sweep.localCenter);var f=b.ia();c.ia();d=b.m_xf.R;var g=this.m_localAnchor1.x-this.m_localCenterA.x,h=this.m_localAnchor1.y-this.m_localCenterA.y;e=d.col1.x*g+d.col2.x*h;h=d.col1.y*g+d.col2.y*h;g=e;d=c.m_xf.R;var k=this.m_localAnchor2.x-this.m_localCenterB.x,l=this.m_localAnchor2.y-this.m_localCenterB.y;e=d.col1.x*k+d.col2.x*l;l=d.col1.y*k+d.col2.y*l;k=e;d=c.m_sweep.c.x+
k-b.m_sweep.c.x-g;e=c.m_sweep.c.y+l-b.m_sweep.c.y-h;this.m_invMassA=b.m_invMass;this.m_invMassB=c.m_invMass;this.m_invIA=b.m_invI;this.m_invIB=c.m_invI;this.m_axis.l(Kg(f.R,this.m_localXAxis1));this.J=(d+g)*this.m_axis.y-(e+h)*this.m_axis.x;this.L=k*this.m_axis.y-l*this.m_axis.x;this.Aa=this.m_invMassA+this.m_invMassB+this.m_invIA*this.J*this.J+this.m_invIB*this.L*this.L;this.Aa=this.Aa>Number.MIN_VALUE?1/this.Aa:0;this.u.l(Kg(f.R,this.Mb));this.N=(d+g)*this.u.y-(e+h)*this.u.x;this.O=k*this.u.y-l*
this.u.x;f=this.m_invMassA;g=this.m_invMassB;h=this.m_invIA;k=this.m_invIB;this.s.col1.x=f+g+h*this.N*this.N+k*this.O*this.O;this.s.col1.y=h*this.N*this.J+k*this.O*this.L;this.s.col2.x=this.s.col1.y;this.s.col2.y=f+g+h*this.J*this.J+k*this.L*this.L;this.va?(d=this.m_axis.x*d+this.m_axis.y*e,.01>Qg(this.ya-this.xa)?this.C=3:d<=this.xa?1!=this.C&&(this.C=1,this.h.y=0):d>=this.ya?2!=this.C&&(this.C=2,this.h.y=0):(this.C=0,this.h.y=0)):this.C=0;0==this.Ma&&(this.B=0);a.warmStarting?(this.h.x*=a.dtRatio,
this.h.y*=a.dtRatio,this.B*=a.dtRatio,a=this.h.x*this.u.x+(this.B+this.h.y)*this.m_axis.x,d=this.h.x*this.u.y+(this.B+this.h.y)*this.m_axis.y,e=this.h.x*this.N+(this.B+this.h.y)*this.J,f=this.h.x*this.O+(this.B+this.h.y)*this.L,b.m_linearVelocity.x-=this.m_invMassA*a,b.m_linearVelocity.y-=this.m_invMassA*d,b.m_angularVelocity-=this.m_invIA*e,c.m_linearVelocity.x+=this.m_invMassB*a,c.m_linearVelocity.y+=this.m_invMassB*d,c.m_angularVelocity+=this.m_invIB*f):(this.h.o(),this.B=0)};
L.prototype.InitVelocityConstraints=L.prototype.aa;
L.prototype.X=function(a){var b=this.m_bodyA,c=this.m_bodyB,d=b.m_linearVelocity,e=b.m_angularVelocity,f=c.m_linearVelocity,g=c.m_angularVelocity,h,k,l;this.Ma&&3!=this.C&&(l=this.Aa*(this.lb-(this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.L*g-this.J*e)),h=this.B,a=a.dt*this.Mc,this.B=Wg(this.B+l,-a,a),l=this.B-h,h=l*this.m_axis.x,a=l*this.m_axis.y,k=l*this.J,l*=this.L,d.x-=this.m_invMassA*h,d.y-=this.m_invMassA*a,e-=this.m_invIA*k,f.x+=this.m_invMassB*h,f.y+=this.m_invMassB*a,g+=this.m_invIB*
l);a=this.u.x*(f.x-d.x)+this.u.y*(f.y-d.y)+this.O*g-this.N*e;this.va&&0!=this.C?(k=this.m_axis.x*(f.x-d.x)+this.m_axis.y*(f.y-d.y)+this.L*g-this.J*e,h=this.h.G(),l=this.s.qb(new A,-a,-k),this.h.mb(l),1==this.C?this.h.y=Ug(this.h.y,0):2==this.C&&(this.h.y=Sg(this.h.y,0)),a=-a-(this.h.y-h.y)*this.s.col2.x,this.h.x=0!=this.s.col1.x?a/this.s.col1.x+h.x:h.x,l.x=this.h.x-h.x,l.y=this.h.y-h.y,h=l.x*this.u.x+l.y*this.m_axis.x,a=l.x*this.u.y+l.y*this.m_axis.y,k=l.x*this.N+l.y*this.J,l=l.x*this.O+l.y*this.L):
(l=0!=this.s.col1.x?-a/this.s.col1.x:0,this.h.x+=l,h=l*this.u.x,a=l*this.u.y,k=l*this.N,l*=this.O);d.x-=this.m_invMassA*h;d.y-=this.m_invMassA*a;e-=this.m_invIA*k;f.x+=this.m_invMassB*h;f.y+=this.m_invMassB*a;g+=this.m_invIB*l;b.m_linearVelocity.l(d);b.m_angularVelocity=e;c.m_linearVelocity.l(f);c.m_angularVelocity=g};L.prototype.SolveVelocityConstraints=L.prototype.X;
L.prototype.W=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.m_sweep.c,d=a.m_sweep.a,e=b.m_sweep.c,f=b.m_sweep.a,g,h,k,l,n,p=0,u=0;k=!1;var r=0,x=Cg(d);l=Cg(f);g=x;var u=this.m_localAnchor1.x-this.m_localCenterA.x,v=this.m_localAnchor1.y-this.m_localCenterA.y;h=g.col1.x*u+g.col2.x*v;v=g.col1.y*u+g.col2.y*v;u=h;g=l;l=this.m_localAnchor2.x-this.m_localCenterB.x;n=this.m_localAnchor2.y-this.m_localCenterB.y;h=g.col1.x*l+g.col2.x*n;n=g.col1.y*l+g.col2.y*n;l=h;g=e.x+l-c.x-u;h=e.y+n-c.y-v;if(this.va){this.m_axis=
Kg(x,this.m_localXAxis1);this.J=(g+u)*this.m_axis.y-(h+v)*this.m_axis.x;this.L=l*this.m_axis.y-n*this.m_axis.x;var B=this.m_axis.x*g+this.m_axis.y*h;.01>Qg(this.ya-this.xa)?(r=Wg(B,-.2,.2),p=Qg(B),k=!0):B<=this.xa?(r=Wg(B-this.xa+.005,-.2,0),p=this.xa-B,k=!0):B>=this.ya&&(r=Wg(B-this.ya+.005,0,.2),p=B-this.ya,k=!0)}this.u=Kg(x,this.Mb);this.N=(g+u)*this.u.y-(h+v)*this.u.x;this.O=l*this.u.y-n*this.u.x;x=new A;v=this.u.x*g+this.u.y*h;p=Ug(p,Qg(v));u=0;k?(k=this.m_invMassA,l=this.m_invMassB,n=this.m_invIA,
g=this.m_invIB,this.s.col1.x=k+l+n*this.N*this.N+g*this.O*this.O,this.s.col1.y=n*this.N*this.J+g*this.O*this.L,this.s.col2.x=this.s.col1.y,this.s.col2.y=k+l+n*this.J*this.J+g*this.L*this.L,this.s.qb(x,-v,-r)):(k=this.m_invMassA,l=this.m_invMassB,n=this.m_invIA,g=this.m_invIB,r=k+l+n*this.N*this.N+g*this.O*this.O,x.x=0!=r?-v/r:0,x.y=0);r=x.x*this.u.x+x.y*this.m_axis.x;k=x.x*this.u.y+x.y*this.m_axis.y;v=x.x*this.N+x.y*this.J;x=x.x*this.O+x.y*this.L;c.x-=this.m_invMassA*r;c.y-=this.m_invMassA*k;d-=this.m_invIA*
v;e.x+=this.m_invMassB*r;e.y+=this.m_invMassB*k;f+=this.m_invIB*x;a.m_sweep.a=d;b.m_sweep.a=f;a.V();b.V();return.005>=p&&u<=rg};L.prototype.SolvePositionConstraints=L.prototype.W;L.prototype.i={names:[{name:'b2LineJoint',j:Zb}]};y(Zb,L);function ui(){ki.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.localAxisA=new A;this.type=7;this.localAxisA.Set(1,0);this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0}cg(ui,ki);ui.prototype.H=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.Ca(c);this.localAnchorB=this.bodyB.Ca(c);this.localAxisA=this.bodyA.Ke(d)};ui.prototype.Initialize=ui.prototype.H;
ui.prototype.i={names:[{name:'b2LineJointDef',j:$b}]};y($b,ui);function M(a){this.K=new C;this.cb=new C;this.eb=new C;this.mc=new A;this.Vb=new A;this.h=new A;this.m_mass=new C;this.qe=new A;H.call(this,a);this.Vb.l(a.target);var b=this.Vb.x-this.m_bodyB.m_xf.position.x,c=this.Vb.y-this.m_bodyB.m_xf.position.y,d=this.m_bodyB.m_xf.R;this.mc.x=b*d.col1.x+c*d.col1.y;this.mc.y=b*d.col2.x+c*d.col2.y;this.nc=a.maxForce;this.h.o();this.Kb=a.frequencyHz;this.kc=a.dampingRatio;this.wa=this.rf=0}cg(M,H);M.prototype.ga=t('Vb');M.prototype.GetAnchorA=M.prototype.ga;
M.prototype.ha=function(){return this.m_bodyB.$(this.mc)};M.prototype.GetAnchorB=M.prototype.ha;M.prototype.la=function(a){return new A(a*this.h.x,a*this.h.y)};M.prototype.GetReactionForce=M.prototype.la;M.prototype.ma=w(0);M.prototype.GetReactionTorque=M.prototype.ma;M.prototype.tj=t('Vb');M.prototype.GetTarget=M.prototype.tj;M.prototype.uk=function(a){0==this.m_bodyB.Da()&&this.m_bodyB.A(!0);this.Vb=a};M.prototype.SetTarget=M.prototype.uk;M.prototype.Le=t('nc');M.prototype.GetMaxForce=M.prototype.Le;
M.prototype.Ve=q('nc');M.prototype.SetMaxForce=M.prototype.Ve;M.prototype.He=t('Kb');M.prototype.GetFrequency=M.prototype.He;M.prototype.Te=q('Kb');M.prototype.SetFrequency=M.prototype.Te;M.prototype.Fe=t('kc');M.prototype.GetDampingRatio=M.prototype.Fe;M.prototype.Se=q('kc');M.prototype.SetDampingRatio=M.prototype.Se;
M.prototype.aa=function(a){var b=this.m_bodyB,c=b.m_mass,d=2*Math.PI*this.Kb,e=c*d*d;this.wa=a.dt*(2*c*this.kc*d+a.dt*e);this.wa=0!=this.wa?1/this.wa:0;this.rf=a.dt*e*this.wa;var e=b.m_xf.R,c=this.mc.x-b.m_sweep.localCenter.x,d=this.mc.y-b.m_sweep.localCenter.y,f=e.col1.x*c+e.col2.x*d,d=e.col1.y*c+e.col2.y*d,c=f,e=b.m_invMass,f=b.m_invI;this.cb.col1.x=e;this.cb.col2.x=0;this.cb.col1.y=0;this.cb.col2.y=e;this.eb.col1.x=f*d*d;this.eb.col2.x=-f*c*d;this.eb.col1.y=-f*c*d;this.eb.col2.y=f*c*c;this.K.Db(this.cb);
this.K.vc(this.eb);this.K.col1.x+=this.wa;this.K.col2.y+=this.wa;this.K.Vd(this.m_mass);this.qe.x=b.m_sweep.c.x+c-this.Vb.x;this.qe.y=b.m_sweep.c.y+d-this.Vb.y;b.m_angularVelocity*=.98;this.h.x*=a.dtRatio;this.h.y*=a.dtRatio;b.m_linearVelocity.x+=e*this.h.x;b.m_linearVelocity.y+=e*this.h.y;b.m_angularVelocity+=f*(c*this.h.y-d*this.h.x)};M.prototype.InitVelocityConstraints=M.prototype.aa;
M.prototype.X=function(a){var b=this.m_bodyB,c,d,e;c=b.m_xf.R;var f=this.mc.x-b.m_sweep.localCenter.x,g=this.mc.y-b.m_sweep.localCenter.y;d=c.col1.x*f+c.col2.x*g;g=c.col1.y*f+c.col2.y*g;f=d;d=b.m_linearVelocity.x+-b.m_angularVelocity*g;var h=b.m_linearVelocity.y+b.m_angularVelocity*f;c=this.m_mass;d=d+this.rf*this.qe.x+this.wa*this.h.x;e=h+this.rf*this.qe.y+this.wa*this.h.y;h=-(c.col1.x*d+c.col2.x*e);e=-(c.col1.y*d+c.col2.y*e);c=this.h.x;d=this.h.y;this.h.x+=h;this.h.y+=e;a=a.dt*this.nc;this.h.ac()>
a*a&&this.h.Ra(a/this.h.pb());h=this.h.x-c;e=this.h.y-d;b.m_linearVelocity.x+=b.m_invMass*h;b.m_linearVelocity.y+=b.m_invMass*e;b.m_angularVelocity+=b.m_invI*(f*e-g*h)};M.prototype.SolveVelocityConstraints=M.prototype.X;M.prototype.W=w(!0);M.prototype.SolvePositionConstraints=M.prototype.W;M.prototype.i={names:[{name:'b2MouseJoint',j:ac}]};y(ac,M);function vi(){ki.call(this);this.target=new A;this.type=5;this.maxForce=0;this.frequencyHz=5;this.dampingRatio=.7}cg(vi,ki);vi.prototype.i={names:[{name:'b2MouseJointDef',j:bc}]};y(bc,vi);function wi(){ki.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.localAxisA=new A;this.type=2;this.localAxisA.Set(1,0);this.referenceAngle=0;this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0}cg(wi,ki);wi.prototype.H=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.Ca(c);this.localAnchorB=this.bodyB.Ca(c);this.localAxisA=this.bodyA.Ke(d);this.referenceAngle=this.bodyB.La()-this.bodyA.La()};
wi.prototype.Initialize=wi.prototype.H;wi.prototype.i={names:[{name:'b2PrismaticJointDef',j:dc}]};y(dc,wi);function xi(a){this.Va=new A;this.Wa=new A;this.m_localAnchor1=new A;this.m_localAnchor2=new A;this.S=new A;this.M=new A;H.call(this,a);this.ta=this.m_bodyA.m_world.m_groundBody;this.Va.x=a.groundAnchorA.x-this.ta.m_xf.position.x;this.Va.y=a.groundAnchorA.y-this.ta.m_xf.position.y;this.Wa.x=a.groundAnchorB.x-this.ta.m_xf.position.x;this.Wa.y=a.groundAnchorB.y-this.ta.m_xf.position.y;this.m_localAnchor1.l(a.localAnchorA);this.m_localAnchor2.l(a.localAnchorB);this.U=a.ratio;this.Kc=a.lengthA+this.U*
a.lengthB;this.zh=Sg(a.maxLengthA,this.Kc-2*this.U);this.Ah=Sg(a.maxLengthB,(this.Kc-2)/this.U);this.vb=this.ub=this.h=0}cg(xi,H);xi.prototype.ga=function(){return this.m_bodyA.$(this.m_localAnchor1)};xi.prototype.GetAnchorA=xi.prototype.ga;xi.prototype.ha=function(){return this.m_bodyB.$(this.m_localAnchor2)};xi.prototype.GetAnchorB=xi.prototype.ha;xi.prototype.la=function(a){return new A(a*this.h*this.M.x,a*this.h*this.M.y)};xi.prototype.GetReactionForce=xi.prototype.la;xi.prototype.ma=w(0);
xi.prototype.GetReactionTorque=xi.prototype.ma;xi.prototype.kg=function(){var a=this.ta.m_xf.position.G();a.mb(this.Va);return a};xi.prototype.GetGroundAnchorA=xi.prototype.kg;xi.prototype.lg=function(){var a=this.ta.m_xf.position.G();a.mb(this.Wa);return a};xi.prototype.GetGroundAnchorB=xi.prototype.lg;xi.prototype.Xi=function(){var a=this.m_bodyA.$(this.m_localAnchor1),b=a.x-(this.ta.m_xf.position.x+this.Va.x),a=a.y-(this.ta.m_xf.position.y+this.Va.y);return Math.sqrt(b*b+a*a)};
xi.prototype.GetLength1=xi.prototype.Xi;xi.prototype.Yi=function(){var a=this.m_bodyB.$(this.m_localAnchor2),b=a.x-(this.ta.m_xf.position.x+this.Wa.x),a=a.y-(this.ta.m_xf.position.y+this.Wa.y);return Math.sqrt(b*b+a*a)};xi.prototype.GetLength2=xi.prototype.Yi;xi.prototype.Oe=t('U');xi.prototype.GetRatio=xi.prototype.Oe;
xi.prototype.aa=function(a){var b=this.m_bodyA,c=this.m_bodyB,d;d=b.m_xf.R;var e=this.m_localAnchor1.x-b.m_sweep.localCenter.x,f=this.m_localAnchor1.y-b.m_sweep.localCenter.y,g=d.col1.x*e+d.col2.x*f,f=d.col1.y*e+d.col2.y*f,e=g;d=c.m_xf.R;var h=this.m_localAnchor2.x-c.m_sweep.localCenter.x,k=this.m_localAnchor2.y-c.m_sweep.localCenter.y,g=d.col1.x*h+d.col2.x*k,k=d.col1.y*h+d.col2.y*k,h=g;d=c.m_sweep.c.x+h;var g=c.m_sweep.c.y+k,l=this.ta.m_xf.position.x+this.Wa.x,n=this.ta.m_xf.position.y+this.Wa.y;
this.S.Set(b.m_sweep.c.x+e-(this.ta.m_xf.position.x+this.Va.x),b.m_sweep.c.y+f-(this.ta.m_xf.position.y+this.Va.y));this.M.Set(d-l,g-n);d=this.S.pb();g=this.M.pb();.005<d?this.S.Ra(1/d):this.S.o();.005<g?this.M.Ra(1/g):this.M.o();0<this.Kc-d-this.U*g?this.h=this.Ef=0:this.Ef=2;d<this.zh?this.ub=this.xf=0:this.xf=2;g<this.Ah?this.vb=this.yf=0:this.yf=2;d=e*this.S.y-f*this.S.x;g=h*this.M.y-k*this.M.x;this.Id=b.m_invMass+b.m_invI*d*d;this.Jd=c.m_invMass+c.m_invI*g*g;this.se=this.Id+this.U*this.U*this.Jd;
this.Id=1/this.Id;this.Jd=1/this.Jd;this.se=1/this.se;a.warmStarting?(this.h*=a.dtRatio,this.ub*=a.dtRatio,this.vb*=a.dtRatio,a=(-this.h-this.ub)*this.S.x,d=(-this.h-this.ub)*this.S.y,g=(-this.U*this.h-this.vb)*this.M.x,l=(-this.U*this.h-this.vb)*this.M.y,b.m_linearVelocity.x+=b.m_invMass*a,b.m_linearVelocity.y+=b.m_invMass*d,b.m_angularVelocity+=b.m_invI*(e*d-f*a),c.m_linearVelocity.x+=c.m_invMass*g,c.m_linearVelocity.y+=c.m_invMass*l,c.m_angularVelocity+=c.m_invI*(h*l-k*g)):this.vb=this.ub=this.h=
0};xi.prototype.InitVelocityConstraints=xi.prototype.aa;
xi.prototype.X=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f,k,l;2==this.Ef&&(c=a.m_linearVelocity.x+-a.m_angularVelocity*e,f=a.m_linearVelocity.y+a.m_angularVelocity*d,k=b.m_linearVelocity.x+
-b.m_angularVelocity*h,l=b.m_linearVelocity.y+b.m_angularVelocity*g,c=-(this.S.x*c+this.S.y*f)-this.U*(this.M.x*k+this.M.y*l),l=this.se*-c,c=this.h,this.h=Ug(0,this.h+l),l=this.h-c,c=-l*this.S.x,f=-l*this.S.y,k=-this.U*l*this.M.x,l=-this.U*l*this.M.y,a.m_linearVelocity.x+=a.m_invMass*c,a.m_linearVelocity.y+=a.m_invMass*f,a.m_angularVelocity+=a.m_invI*(d*f-e*c),b.m_linearVelocity.x+=b.m_invMass*k,b.m_linearVelocity.y+=b.m_invMass*l,b.m_angularVelocity+=b.m_invI*(g*l-h*k));2==this.xf&&(c=a.m_linearVelocity.x+
-a.m_angularVelocity*e,f=a.m_linearVelocity.y+a.m_angularVelocity*d,c=-(this.S.x*c+this.S.y*f),l=-this.Id*c,c=this.ub,this.ub=Ug(0,this.ub+l),l=this.ub-c,c=-l*this.S.x,f=-l*this.S.y,a.m_linearVelocity.x+=a.m_invMass*c,a.m_linearVelocity.y+=a.m_invMass*f,a.m_angularVelocity+=a.m_invI*(d*f-e*c));2==this.yf&&(k=b.m_linearVelocity.x+-b.m_angularVelocity*h,l=b.m_linearVelocity.y+b.m_angularVelocity*g,c=-(this.M.x*k+this.M.y*l),l=-this.Jd*c,c=this.vb,this.vb=Ug(0,this.vb+l),l=this.vb-c,k=-l*this.M.x,l=
-l*this.M.y,b.m_linearVelocity.x+=b.m_invMass*k,b.m_linearVelocity.y+=b.m_invMass*l,b.m_angularVelocity+=b.m_invI*(g*l-h*k))};xi.prototype.SolveVelocityConstraints=xi.prototype.X;
xi.prototype.W=function(){var a=this.m_bodyA,b=this.m_bodyB,c,d=this.ta.m_xf.position.x+this.Va.x,e=this.ta.m_xf.position.y+this.Va.y,f=this.ta.m_xf.position.x+this.Wa.x,g=this.ta.m_xf.position.y+this.Wa.y,h,k,l,n,p,u,r,x=0;2==this.Ef&&(c=a.m_xf.R,h=this.m_localAnchor1.x-a.m_sweep.localCenter.x,k=this.m_localAnchor1.y-a.m_sweep.localCenter.y,p=c.col1.x*h+c.col2.x*k,k=c.col1.y*h+c.col2.y*k,h=p,c=b.m_xf.R,l=this.m_localAnchor2.x-b.m_sweep.localCenter.x,n=this.m_localAnchor2.y-b.m_sweep.localCenter.y,
p=c.col1.x*l+c.col2.x*n,n=c.col1.y*l+c.col2.y*n,l=p,c=a.m_sweep.c.x+h,p=a.m_sweep.c.y+k,u=b.m_sweep.c.x+l,r=b.m_sweep.c.y+n,this.S.Set(c-d,p-e),this.M.Set(u-f,r-g),c=this.S.pb(),p=this.M.pb(),.005<c?this.S.Ra(1/c):this.S.o(),.005<p?this.M.Ra(1/p):this.M.o(),c=this.Kc-c-this.U*p,x=Ug(x,-c),c=Wg(c+.005,-.2,0),r=-this.se*c,c=-r*this.S.x,p=-r*this.S.y,u=-this.U*r*this.M.x,r=-this.U*r*this.M.y,a.m_sweep.c.x+=a.m_invMass*c,a.m_sweep.c.y+=a.m_invMass*p,a.m_sweep.a+=a.m_invI*(h*p-k*c),b.m_sweep.c.x+=b.m_invMass*
u,b.m_sweep.c.y+=b.m_invMass*r,b.m_sweep.a+=b.m_invI*(l*r-n*u),a.V(),b.V());2==this.xf&&(c=a.m_xf.R,h=this.m_localAnchor1.x-a.m_sweep.localCenter.x,k=this.m_localAnchor1.y-a.m_sweep.localCenter.y,p=c.col1.x*h+c.col2.x*k,k=c.col1.y*h+c.col2.y*k,h=p,c=a.m_sweep.c.x+h,p=a.m_sweep.c.y+k,this.S.Set(c-d,p-e),c=this.S.pb(),.005<c?(this.S.x*=1/c,this.S.y*=1/c):this.S.o(),c=this.zh-c,x=Ug(x,-c),c=Wg(c+.005,-.2,0),r=-this.Id*c,c=-r*this.S.x,p=-r*this.S.y,a.m_sweep.c.x+=a.m_invMass*c,a.m_sweep.c.y+=a.m_invMass*
p,a.m_sweep.a+=a.m_invI*(h*p-k*c),a.V());2==this.yf&&(c=b.m_xf.R,l=this.m_localAnchor2.x-b.m_sweep.localCenter.x,n=this.m_localAnchor2.y-b.m_sweep.localCenter.y,p=c.col1.x*l+c.col2.x*n,n=c.col1.y*l+c.col2.y*n,l=p,u=b.m_sweep.c.x+l,r=b.m_sweep.c.y+n,this.M.Set(u-f,r-g),p=this.M.pb(),.005<p?(this.M.x*=1/p,this.M.y*=1/p):this.M.o(),c=this.Ah-p,x=Ug(x,-c),c=Wg(c+.005,-.2,0),r=-this.Jd*c,u=-r*this.M.x,r=-r*this.M.y,b.m_sweep.c.x+=b.m_invMass*u,b.m_sweep.c.y+=b.m_invMass*r,b.m_sweep.a+=b.m_invI*(l*r-n*
u),b.V());return.005>x};xi.prototype.SolvePositionConstraints=xi.prototype.W;y('Box2D.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength',2);xi.prototype.i={names:[{name:'b2PulleyJoint',j:ec}]};y(ec,xi);function yi(){ki.call(this);this.groundAnchorA=new A;this.groundAnchorB=new A;this.localAnchorA=new A;this.localAnchorB=new A;this.type=4;this.groundAnchorA.Set(-1,1);this.groundAnchorB.Set(1,1);this.localAnchorA.Set(-1,0);this.localAnchorB.Set(1,0);this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0;this.ratio=1;this.collideConnected=!0}cg(yi,ki);
yi.prototype.H=function(a,b,c,d,e,f,g){this.bodyA=a;this.bodyB=b;this.groundAnchorA.l(c);this.groundAnchorB.l(d);this.localAnchorA=this.bodyA.Ca(e);this.localAnchorB=this.bodyB.Ca(f);a=e.x-c.x;c=e.y-c.y;this.lengthA=Math.sqrt(a*a+c*c);c=f.x-d.x;d=f.y-d.y;this.lengthB=Math.sqrt(c*c+d*d);this.ratio=g;g=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=g-2*this.ratio;this.maxLengthB=(g-2)/this.ratio};yi.prototype.Initialize=yi.prototype.H;yi.prototype.i={names:[{name:'b2PulleyJointDef',j:fc}]};
y(fc,yi);function zi(){ki.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.type=1;this.localAnchorA.Set(0,0);this.localAnchorB.Set(0,0);this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0;this.enableMotor=this.enableLimit=!1}cg(zi,ki);zi.prototype.H=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.Ca(c);this.localAnchorB=this.bodyB.Ca(c);this.referenceAngle=this.bodyB.La()-this.bodyA.La()};zi.prototype.Initialize=zi.prototype.H;
zi.prototype.i={names:[{name:'b2RevoluteJointDef',j:hc}]};y(hc,zi);function Ai(a){this.Ha=new A;this.Ia=new A;this.h=new pi;this.m_mass=new qi;H.call(this,a);this.Ha.l(a.localAnchorA);this.Ia.l(a.localAnchorB);this.Ld=a.referenceAngle;this.h.o();this.m_mass=new qi}cg(Ai,H);Ai.prototype.ga=function(){return this.m_bodyA.$(this.Ha)};Ai.prototype.GetAnchorA=Ai.prototype.ga;Ai.prototype.ha=function(){return this.m_bodyB.$(this.Ia)};Ai.prototype.GetAnchorB=Ai.prototype.ha;Ai.prototype.la=function(a){return new A(a*this.h.x,a*this.h.y)};Ai.prototype.GetReactionForce=Ai.prototype.la;
Ai.prototype.ma=function(a){return a*this.h.z};Ai.prototype.GetReactionTorque=Ai.prototype.ma;
Ai.prototype.aa=function(a){var b,c,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var f=this.Ha.x-d.m_sweep.localCenter.x,g=this.Ha.y-d.m_sweep.localCenter.y;c=b.col1.x*f+b.col2.x*g;g=b.col1.y*f+b.col2.y*g;f=c;b=e.m_xf.R;var h=this.Ia.x-e.m_sweep.localCenter.x,k=this.Ia.y-e.m_sweep.localCenter.y;c=b.col1.x*h+b.col2.x*k;k=b.col1.y*h+b.col2.y*k;h=c;b=d.m_invMass;c=e.m_invMass;var l=d.m_invI,n=e.m_invI;this.m_mass.col1.x=b+c+g*g*l+k*k*n;this.m_mass.col2.x=-g*f*l-k*h*n;this.m_mass.col3.x=-g*l-k*n;this.m_mass.col1.y=
this.m_mass.col2.x;this.m_mass.col2.y=b+c+f*f*l+h*h*n;this.m_mass.col3.y=f*l+h*n;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=l+n;a.warmStarting?(this.h.x*=a.dtRatio,this.h.y*=a.dtRatio,this.h.z*=a.dtRatio,d.m_linearVelocity.x-=b*this.h.x,d.m_linearVelocity.y-=b*this.h.y,d.m_angularVelocity-=l*(f*this.h.y-g*this.h.x+this.h.z),e.m_linearVelocity.x+=c*this.h.x,e.m_linearVelocity.y+=c*this.h.y,e.m_angularVelocity+=n*(h*this.h.y-k*this.h.x+this.h.z)):
this.h.o()};Ai.prototype.InitVelocityConstraints=Ai.prototype.aa;
Ai.prototype.X=function(){var a,b,c=this.m_bodyA,d=this.m_bodyB,e=c.m_linearVelocity,f=c.m_angularVelocity,g=d.m_linearVelocity,h=d.m_angularVelocity,k=c.m_invMass,l=d.m_invMass,n=c.m_invI,p=d.m_invI;a=c.m_xf.R;var u=this.Ha.x-c.m_sweep.localCenter.x,r=this.Ha.y-c.m_sweep.localCenter.y;b=a.col1.x*u+a.col2.x*r;r=a.col1.y*u+a.col2.y*r;u=b;a=d.m_xf.R;var x=this.Ia.x-d.m_sweep.localCenter.x,v=this.Ia.y-d.m_sweep.localCenter.y;b=a.col1.x*x+a.col2.x*v;v=a.col1.y*x+a.col2.y*v;x=b;a=new pi;this.m_mass.yc(a,
-(g.x-h*v-e.x+f*r),-(g.y+h*x-e.y-f*u),-(h-f));this.h.mb(a);e.x-=k*a.x;e.y-=k*a.y;f-=n*(u*a.y-r*a.x+a.z);g.x+=l*a.x;g.y+=l*a.y;h+=p*(x*a.y-v*a.x+a.z);c.m_angularVelocity=f;d.m_angularVelocity=h};Ai.prototype.SolveVelocityConstraints=Ai.prototype.X;
Ai.prototype.W=function(){var a,b,c=this.m_bodyA,d=this.m_bodyB;a=c.m_xf.R;var e=this.Ha.x-c.m_sweep.localCenter.x,f=this.Ha.y-c.m_sweep.localCenter.y;b=a.col1.x*e+a.col2.x*f;f=a.col1.y*e+a.col2.y*f;e=b;a=d.m_xf.R;var g=this.Ia.x-d.m_sweep.localCenter.x,h=this.Ia.y-d.m_sweep.localCenter.y;b=a.col1.x*g+a.col2.x*h;h=a.col1.y*g+a.col2.y*h;g=b;a=c.m_invMass;b=d.m_invMass;var k=c.m_invI,l=d.m_invI,n=d.m_sweep.c.x+g-c.m_sweep.c.x-e,p=d.m_sweep.c.y+h-c.m_sweep.c.y-f,u=d.m_sweep.a-c.m_sweep.a-this.Ld,r=Math.sqrt(n*
n+p*p),x=Qg(u);.05<r&&(k*=1,l*=1);this.m_mass.col1.x=a+b+f*f*k+h*h*l;this.m_mass.col2.x=-f*e*k-h*g*l;this.m_mass.col3.x=-f*k-h*l;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=a+b+e*e*k+g*g*l;this.m_mass.col3.y=e*k+g*l;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=k+l;var v=new pi;this.m_mass.yc(v,-n,-p,-u);c.m_sweep.c.x-=a*v.x;c.m_sweep.c.y-=a*v.y;c.m_sweep.a-=k*(e*v.y-f*v.x+v.z);d.m_sweep.c.x+=b*v.x;d.m_sweep.c.y+=b*v.y;d.m_sweep.a+=l*(g*
v.y-h*v.x+v.z);c.V();d.V();return.005>=r&&x<=rg};Ai.prototype.SolvePositionConstraints=Ai.prototype.W;Ai.prototype.i={names:[{name:'b2WeldJoint',j:ic}]};y(ic,Ai);function Bi(){ki.call(this);this.localAnchorA=new A;this.localAnchorB=new A;this.type=8;this.referenceAngle=0}cg(Bi,ki);Bi.prototype.H=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA.l(this.bodyA.Ca(c));this.localAnchorB.l(this.bodyB.Ca(c));this.referenceAngle=this.bodyB.La()-this.bodyA.La()};Bi.prototype.Initialize=Bi.prototype.H;Bi.prototype.i={names:[{name:'b2WeldJointDef',j:jc}]};y(jc,Bi);function Ci(){}y('Box2D.Dynamics.Joints.b2JointUtil.e_unknownJoint',0);y('Box2D.Dynamics.Joints.b2JointUtil.e_revoluteJoint',1);y('Box2D.Dynamics.Joints.b2JointUtil.e_prismaticJoint',2);y('Box2D.Dynamics.Joints.b2JointUtil.e_distanceJoint',3);y('Box2D.Dynamics.Joints.b2JointUtil.e_pulleyJoint',4);y('Box2D.Dynamics.Joints.b2JointUtil.e_mouseJoint',5);y('Box2D.Dynamics.Joints.b2JointUtil.e_gearJoint',6);y('Box2D.Dynamics.Joints.b2JointUtil.e_lineJoint',7);
y('Box2D.Dynamics.Joints.b2JointUtil.e_weldJoint',8);y('Box2D.Dynamics.Joints.b2JointUtil.e_frictionJoint',9);function Di(a){var b=null;switch(a.type){case 3:b=new ji(z(a,li));break;case 5:b=new M(z(a,vi));break;case 2:b=new I(z(a,wi));break;case 1:b=new J(z(a,zi));break;case 4:b=new xi(z(a,yi));break;case 6:b=new si(z(a,ti));break;case 7:b=new L(z(a,ui));break;case 8:b=new Ai(z(a,Bi));break;case 9:b=new mi(z(a,ni))}return b}y('Box2D.Dynamics.Joints.b2JointUtil.Create',Di);
Ci.prototype.i={names:[{name:'b2JointUtil',j:Tb}]};y(Tb,Ci);function Ei(){this.position=new A;this.velocity=new A;this.normal=new A;this.id=new Dh}Ei.prototype.i={names:[{name:'b2ContactPoint',j:Ta}]};y(Ta,Ei);function Fi(){this.aabb=new gh}Fi.prototype.$b=function(){return null==this.child1};Fi.prototype.IsLeaf=Fi.prototype.$b;Fi.prototype.i={names:[{name:'b2DynamicTreeNode',j:$a}]};y($a,Fi);function Gi(){this.Jb=this.Na=null;this.Bh=0}Gi.prototype.Za=function(a,b){var c=Hi(this);c.aabb.lowerBound.x=a.lowerBound.x-.1;c.aabb.lowerBound.y=a.lowerBound.y-.1;c.aabb.upperBound.x=a.upperBound.x+.1;c.aabb.upperBound.y=a.upperBound.y+.1;c.userData=b;Ii(this,c);return c};Gi.prototype.CreateProxy=Gi.prototype.Za;Gi.prototype.$a=function(a){Ji(this,a);a.parent=this.Jb;this.Jb=a};Gi.prototype.DestroyProxy=Gi.prototype.$a;
Gi.prototype.xc=function(a,b,c){yg(a.$b());if(a.aabb.Td(b))return!1;Ji(this,a);var d=.1+2*(0<c.x?c.x:-c.x);c=.1+2*(0<c.y?c.y:-c.y);a.aabb.lowerBound.x=b.lowerBound.x-d;a.aabb.lowerBound.y=b.lowerBound.y-c;a.aabb.upperBound.x=b.upperBound.x+d;a.aabb.upperBound.y=b.upperBound.y+c;Ii(this,a);return!0};Gi.prototype.MoveProxy=Gi.prototype.xc;
Gi.prototype.td=function(a){if(null!=this.Na)for(var b=0;b<a;b++){for(var c=this.Na,d=0;0==c.$b();)c=this.Bh>>d&1?c.child2:c.child1,d=d+1&31;++this.Bh;Ji(this,c);Ii(this,c)}};Gi.prototype.Rebalance=Gi.prototype.td;Gi.prototype.ob=function(a){return a.aabb};Gi.prototype.GetFatAABB=Gi.prototype.ob;Gi.prototype.qa=function(a){return a.userData};Gi.prototype.GetUserData=Gi.prototype.qa;
Gi.prototype.Cb=function(a,b){if(null!=this.Na){var c=[],d=0;for(c[d++]=this.Na;0<d;){var e=c[--d];if(e.aabb.Eb(b))if(e.$b()){if(!a(e))break}else c[d++]=e.child1,c[d++]=e.child2}}};Gi.prototype.Query=Gi.prototype.Cb;
Gi.prototype.ba=function(a,b){if(null!=this.Na){var c=b.p1,d=b.p2,e=Og(c,d);e.ra();var e=Jg(1,e),f=Rg(e),g=b.maxFraction,h=new gh,k;k=c.x+g*(d.x-c.x);g=c.y+g*(d.y-c.y);h.lowerBound.x=Math.min(c.x,k);h.lowerBound.y=Math.min(c.y,g);h.upperBound.x=Math.max(c.x,k);h.upperBound.y=Math.max(c.y,g);var l=[],n=0;for(l[n++]=this.Na;0<n;)if(k=l[--n],0!=k.aabb.Eb(h)){var g=k.aabb.cd(),p=k.aabb.jg();if(!(0<Math.abs(e.x*(c.x-g.x)+e.y*(c.y-g.y))-f.x*p.x-f.y*p.y))if(k.$b()){g=new zh;g.p1=b.p1;g.p2=b.p2;g.maxFraction=
b.maxFraction;g=a(g,k);if(0==g)break;k=c.x+g*(d.x-c.x);g=c.y+g*(d.y-c.y);h.lowerBound.x=Math.min(c.x,k);h.lowerBound.y=Math.min(c.y,g);h.upperBound.x=Math.max(c.x,k);h.upperBound.y=Math.max(c.y,g)}else l[n++]=k.child1,l[n++]=k.child2}}};Gi.prototype.RayCast=Gi.prototype.ba;function Hi(a){if(a.Jb){var b=a.Jb;a.Jb=b.parent;b.parent=null;b.child1=null;b.child2=null;return b}return new Fi}
function Ii(a,b){if(null==a.Na)a.Na=b,a.Na.parent=null;else{var c=b.aabb.cd(),d=a.Na;if(0==d.$b()){do var e=d.child1,d=d.child2,d=Math.abs((e.aabb.lowerBound.x+e.aabb.upperBound.x)/2-c.x)+Math.abs((e.aabb.lowerBound.y+e.aabb.upperBound.y)/2-c.y)<Math.abs((d.aabb.lowerBound.x+d.aabb.upperBound.x)/2-c.x)+Math.abs((d.aabb.lowerBound.y+d.aabb.upperBound.y)/2-c.y)?e:d;while(0==d.$b())}c=d.parent;e=Hi(a);e.parent=c;e.userData=null;e.aabb.Vc(b.aabb,d.aabb);if(c){d.parent.child1==d?c.child1=e:c.child2=e;
e.child1=d;e.child2=b;d.parent=e;b.parent=e;do{if(c.aabb.Td(e.aabb))break;c.aabb.Vc(c.child1.aabb,c.child2.aabb);e=c;c=c.parent}while(c)}else e.child1=d,e.child2=b,d.parent=e,b.parent=e,a.Na=e}}
function Ji(a,b){if(b==a.Na)a.Na=null;else{var c=b.parent,d=c.parent,e;e=c.child1==b?c.child2:c.child1;if(d)for(d.child1==c?d.child1=e:d.child2=e,e.parent=d,c.parent=a.Jb,a.Jb=c;d;){c=d.aabb;d.aabb=hh(d.child1.aabb,d.child2.aabb);if(c.Td(d.aabb))break;d=d.parent}else a.Na=e,e.parent=null,c.parent=a.Jb,a.Jb=c}}Gi.prototype.i={names:[{name:'b2DynamicTree',j:Ya}]};y(Ya,Gi);function Ki(){}Ki.prototype.i={names:[{name:'b2DynamicTreePair',j:ab}]};y(ab,Ki);function Li(){}Yf=Li.prototype;Yf.Za=m();Yf.$a=m();Yf.xc=m();Yf.Eb=m();Yf.qa=m();Yf.ob=m();Yf.hd=m();Yf.$e=m();Yf.Cb=m();Yf.ba=m();Yf.Bc=m();Yf.td=m();Yf.i={names:[{name:'IBroadPhase',j:'Box2D.Collision.IBroadPhase'}]};function Mi(){this.Oa=new Gi;this.Ub=[];this.Kd=[]}Mi.prototype.Za=function(a,b){var c=this.Oa.Za(a,b);++this.Dh;return this.Ub[this.Ub.length]=c};Mi.prototype.CreateProxy=Mi.prototype.Za;Mi.prototype.$a=function(a){this.Ub.splice(this.Ub.indexOf(a),1);--this.Dh;this.Oa.$a(a)};Mi.prototype.DestroyProxy=Mi.prototype.$a;Mi.prototype.xc=function(a,b,c){this.Oa.xc(a,b,c)&&(this.Ub[this.Ub.length]=a)};Mi.prototype.MoveProxy=Mi.prototype.xc;
Mi.prototype.Eb=function(a,b){var c=this.Oa.ob(a),d=this.Oa.ob(b);return c.Eb(d)};Mi.prototype.TestOverlap=Mi.prototype.Eb;Mi.prototype.qa=function(a){return this.Oa.qa(a)};Mi.prototype.GetUserData=Mi.prototype.qa;Mi.prototype.ob=function(a){return this.Oa.ob(a)};Mi.prototype.GetFatAABB=Mi.prototype.ob;Mi.prototype.hd=t('Dh');Mi.prototype.GetProxyCount=Mi.prototype.hd;
Mi.prototype.$e=function(a){function b(a){if(a==e)return!0;this.oc==this.Kd.length&&(this.Kd[this.oc]=new Ki);var b=this.Kd[this.oc];b.proxyA=a<e?a:e;b.proxyB=a>=e?a:e;++this.oc;return!0}this.oc=0;var c=this.Ub,d;for(d in c){var e=c[d],f=this.Oa.ob(e);this.Oa.Cb(lg(b,this,yc),f)}for(c=this.Ub.length=0;c<this.oc;){d=this.Kd[c];var f=this.Oa.qa(d.proxyA),g=this.Oa.qa(d.proxyB);a(f,g);for(++c;c<this.oc;){f=this.Kd[c];if(f.proxyA!=d.proxyA||f.proxyB!=d.proxyB)break;++c}}};Mi.prototype.UpdatePairs=Mi.prototype.$e;
Mi.prototype.Cb=function(a,b){this.Oa.Cb(a,b)};Mi.prototype.Query=Mi.prototype.Cb;Mi.prototype.ba=function(a,b){this.Oa.ba(a,b)};Mi.prototype.RayCast=Mi.prototype.ba;Mi.prototype.Bc=m();Mi.prototype.Validate=Mi.prototype.Bc;Mi.prototype.td=function(a){this.Oa.td(a)};Mi.prototype.Rebalance=Mi.prototype.td;Mi.prototype.oc=0;Mi.prototype.i={names:[{name:'b2DynamicTreeBroadPhase',j:Za}],Sa:[Li]};y(Za,Mi);function Ni(){this.v=new A;this.id=new Dh}Ni.prototype.Set=function(a){this.v.l(a.v);this.id.Set(a.id)};Ni.prototype.Set=Ni.prototype.Set;Ni.prototype.i={names:[{name:'ClipVertex',j:Ea}]};y(Ea,Ni);function Oi(){}y('Box2D.Collision.b2Collision.b2_nullFeature',255);function Pi(a,b,c,d){var e,f=0;e=b[0];var g=e.v;e=b[1];var h=e.v,k=c.x*g.x+c.y*g.y-d;e=c.x*h.x+c.y*h.y-d;0>=k&&a[f++].Set(b[0]);0>=e&&a[f++].Set(b[1]);0>k*e&&(c=k/(k-e),e=a[f],e=e.v,e.x=g.x+c*(h.x-g.x),e.y=g.y+c*(h.y-g.y),e=a[f],e.id=(0<k?b[0]:b[1]).id,++f);return f}y('Box2D.Collision.b2Collision.ClipSegmentToLine',Pi);
function Qi(a,b,c,d,e){var f=a.m_vertices;a=a.m_normals;var g=d.m_vertexCount,h=d.m_vertices,k,l;k=b.R;l=a[c];a=k.col1.x*l.x+k.col2.x*l.y;d=k.col1.y*l.x+k.col2.y*l.y;k=e.R;var n=k.col1.x*a+k.col1.y*d;k=k.col2.x*a+k.col2.y*d;for(var p=0,u=Number.MAX_VALUE,r=0;r<g;++r)l=h[r],l=l.x*n+l.y*k,l<u&&(u=l,p=r);l=f[c];k=b.R;c=b.position.x+(k.col1.x*l.x+k.col2.x*l.y);b=b.position.y+(k.col1.y*l.x+k.col2.y*l.y);l=h[p];k=e.R;f=e.position.x+(k.col1.x*l.x+k.col2.x*l.y);e=e.position.y+(k.col1.y*l.x+k.col2.y*l.y);
return(f-c)*a+(e-b)*d}y('Box2D.Collision.b2Collision.EdgeSeparation',Qi);
function Ri(a,b,c,d,e){var f=b.m_vertexCount,g=b.m_normals,h,k;k=e.R;h=d.m_centroid;var l=e.position.x+(k.col1.x*h.x+k.col2.x*h.y),n=e.position.y+(k.col1.y*h.x+k.col2.y*h.y);k=c.R;h=b.m_centroid;l-=c.position.x+(k.col1.x*h.x+k.col2.x*h.y);n-=c.position.y+(k.col1.y*h.x+k.col2.y*h.y);k=l*c.R.col1.x+n*c.R.col1.y;for(var n=l*c.R.col2.x+n*c.R.col2.y,l=0,p=-Number.MAX_VALUE,u=0;u<f;++u)h=g[u],h=h.x*k+h.y*n,h>p&&(p=h,l=u);g=Qi(b,c,l,d,e);p=0<=l-1?l-1:f-1;k=Qi(b,c,p,d,e);u=l+1<f?l+1:0;n=Qi(b,c,u,d,e);if(k>
g&&k>n)h=-1;else if(n>g)h=1,p=u,k=n;else return a[0]=l,g;for(;;)if(l=-1==h?0<=p-1?p-1:f-1:p+1<f?p+1:0,g=Qi(b,c,l,d,e),g>k)p=l,k=g;else break;a[0]=p;return k}y('Box2D.Collision.b2Collision.FindMaxSeparation',Ri);
function Si(a,b,c,d,e,f){var g=b.m_normals,h=e.m_vertexCount;b=e.m_vertices;e=e.m_normals;var k;k=c.R;c=g[d];var g=k.col1.x*c.x+k.col2.x*c.y,l=k.col1.y*c.x+k.col2.y*c.y;k=f.R;c=k.col1.x*g+k.col1.y*l;l=k.col2.x*g+k.col2.y*l;g=c;k=0;for(var n=Number.MAX_VALUE,p=0;p<h;++p)c=e[p],c=g*c.x+l*c.y,c<n&&(n=c,k=p);e=k;g=e+1<h?e+1:0;h=a[0];c=b[e];k=f.R;h.v.x=f.position.x+(k.col1.x*c.x+k.col2.x*c.y);h.v.y=f.position.y+(k.col1.y*c.x+k.col2.y*c.y);h.id.features.referenceEdge=d;h.id.features.incidentEdge=e;h.id.features.incidentVertex=
0;h=a[1];c=b[g];k=f.R;h.v.x=f.position.x+(k.col1.x*c.x+k.col2.x*c.y);h.v.y=f.position.y+(k.col1.y*c.x+k.col2.y*c.y);h.id.features.referenceEdge=d;h.id.features.incidentEdge=g;h.id.features.incidentVertex=1}y('Box2D.Collision.b2Collision.FindIncidentEdge',Si);function Ti(){var a=Array(2);a[0]=new Ni;a[1]=new Ni;return a}var Ui=Ti(),Vi=Ti(),Wi=Ti(),Xi=Array(1),Yi=Array(1),Zi=new A,$i=new A,aj=new A,bj=new A,cj=new A,dj=new A,ej=new A,fj=new A;
function gj(a,b,c,d,e){var f;a.Y=0;var g=b.m_radius+d.m_radius,h;Xi[0]=0;var k=Ri(Xi,b,c,d,e);h=Xi[0];if(!(k>g)){Yi[0]=0;var l=Ri(Yi,d,e,b,c);f=Yi[0];if(!(l>g||(l>.98*k+.001?(k=d,d=b,b=e,e=f,a.m_type=4,h=1):(k=b,b=c,c=e,e=h,a.m_type=2,h=0),Si(Ui,k,b,e,d,c),d=k.m_vertices,f=d[e],e=e+1<k.m_vertexCount?d[e+1>>0]:d[0],Zi.Set(e.x-f.x,e.y-f.y),Zi.ra(),$i.x=Zi.y,$i.y=-Zi.x,aj.Set(.5*(f.x+e.x),.5*(f.y+e.y)),k=b.R,cj.x=k.col1.x*Zi.x+k.col2.x*Zi.y,cj.y=k.col1.y*Zi.x+k.col2.y*Zi.y,dj.x=-cj.x,dj.y=-cj.y,bj.x=
cj.y,bj.y=-cj.x,ej.x=b.position.x+(k.col1.x*f.x+k.col2.x*f.y),ej.y=b.position.y+(k.col1.y*f.x+k.col2.y*f.y),fj.x=b.position.x+(k.col1.x*e.x+k.col2.x*e.y),fj.y=b.position.y+(k.col1.y*e.x+k.col2.y*e.y),b=bj.x*ej.x+bj.y*ej.y,k=cj.x*fj.x+cj.y*fj.y+g,f=Pi(Vi,Ui,dj,-cj.x*ej.x-cj.y*ej.y+g),2>f||(f=Pi(Wi,Vi,cj,k),2>f)))){a.m_localPlaneNormal.l($i);a.m_localPoint.l(aj);for(d=e=0;2>d;++d)if(f=Wi[d],bj.x*f.v.x+bj.y*f.v.y-b<=g){var l=a.m_points[e],k=c.R,n=f.v.x-c.position.x,p=f.v.y-c.position.y;l.m_localPoint.x=
n*k.col1.x+p*k.col1.y;l.m_localPoint.y=n*k.col2.x+p*k.col2.y;l.m_id.Set(f.id);l.m_id.features.flip=h;++e}a.Y=e}}}y('Box2D.Collision.b2Collision.CollidePolygons',gj);
function hj(a,b,c,d,e){a.Y=0;var f,g;f=c.R;g=b.m_p;var h=c.position.x+(f.col1.x*g.x+f.col2.x*g.y);c=c.position.y+(f.col1.y*g.x+f.col2.y*g.y);f=e.R;g=d.m_p;h=e.position.x+(f.col1.x*g.x+f.col2.x*g.y)-h;e=e.position.y+(f.col1.y*g.x+f.col2.y*g.y)-c;f=b.m_radius+d.m_radius;h*h+e*e>f*f||(a.m_type=1,a.m_localPoint.l(b.m_p),a.m_localPlaneNormal.o(),a.Y=1,a.m_points[0].m_localPoint.l(d.m_p),a.m_points[0].m_id.key=0)}y('Box2D.Collision.b2Collision.CollideCircles',hj);
function ij(a,b,c,d,e){a.Y=0;var f,g,h,k;k=e.R;h=d.m_p;var l=e.position.y+(k.col1.y*h.x+k.col2.y*h.y);f=e.position.x+(k.col1.x*h.x+k.col2.x*h.y)-c.position.x;g=l-c.position.y;k=c.R;c=f*k.col1.x+g*k.col1.y;k=f*k.col2.x+g*k.col2.y;var n=0;e=-Number.MAX_VALUE;var l=b.m_radius+d.m_radius,p=b.m_vertexCount,u=b.m_vertices;b=b.m_normals;for(var r=0;r<p;++r){h=u[r];f=c-h.x;g=k-h.y;h=b[r];h=h.x*f+h.y*g;if(h>l)return;h>e&&(e=h,n=r)}h=n;f=u[h];p=u[h+1<p?h+1:0];e<Number.MIN_VALUE?(a.Y=1,a.m_type=2,a.m_localPlaneNormal.l(b[n]),
a.m_localPoint.x=.5*(f.x+p.x),a.m_localPoint.y=.5*(f.y+p.y),a.m_points[0].m_localPoint.l(d.m_p),a.m_points[0].m_id.key=0):(e=(c-p.x)*(f.x-p.x)+(k-p.y)*(f.y-p.y),0>=(c-f.x)*(p.x-f.x)+(k-f.y)*(p.y-f.y)?(c-f.x)*(c-f.x)+(k-f.y)*(k-f.y)>l*l||(a.Y=1,a.m_type=2,a.m_localPlaneNormal.x=c-f.x,a.m_localPlaneNormal.y=k-f.y,a.m_localPlaneNormal.ra(),a.m_localPoint.l(f),a.m_points[0].m_localPoint.l(d.m_p),a.m_points[0].m_id.key=0):0>=e?(c-p.x)*(c-p.x)+(k-p.y)*(k-p.y)>l*l||(a.Y=1,a.m_type=2,a.m_localPlaneNormal.x=
c-p.x,a.m_localPlaneNormal.y=k-p.y,a.m_localPlaneNormal.ra(),a.m_localPoint.l(p),a.m_points[0].m_localPoint.l(d.m_p),a.m_points[0].m_id.key=0):(n=.5*(f.x+p.x),f=.5*(f.y+p.y),e=(c-n)*b[h].x+(k-f)*b[h].y,e>l||(a.Y=1,a.m_type=2,a.m_localPlaneNormal.x=b[h].x,a.m_localPlaneNormal.y=b[h].y,a.m_localPlaneNormal.ra(),a.m_localPoint.Set(n,f),a.m_points[0].m_localPoint.l(d.m_p),a.m_points[0].m_id.key=0)))}y('Box2D.Collision.b2Collision.CollidePolygonAndCircle',ij);
y('Box2D.Collision.b2Collision.TestOverlap',function(a,b){var c=b.lowerBound,d=a.upperBound,e=c.x-d.x,f=c.y-d.y,c=a.lowerBound,d=b.upperBound,g=c.y-d.y;return 0<e||0<f||0<c.x-d.x||0<g?!1:!0});Oi.prototype.i={names:[{name:'b2Collision',j:Ra}]};y(Ra,Oi);function jj(){G.call(this)}cg(jj,G);function kj(){return new jj}y('Box2D.Dynamics.Contacts.b2CircleContact.Create',kj);function lj(){}y('Box2D.Dynamics.Contacts.b2CircleContact.Destroy',lj);jj.prototype.ua=function(){var a=this.m_fixtureA.m_body,b=this.m_fixtureB.m_body;hj(this.m_manifold,z(this.m_fixtureA.m_shape,$g),a.m_xf,z(this.m_fixtureB.m_shape,$g),b.m_xf)};jj.prototype.Evaluate=jj.prototype.ua;jj.prototype.i={names:[{name:'b2CircleContact',j:wb}]};y(wb,jj);function mj(){}mj.prototype.i={names:[{name:'b2ContactRegister',j:Cb}]};y(Cb,mj);function nj(){G.call(this)}cg(nj,G);function oj(){return new nj}y('Box2D.Dynamics.Contacts.b2EdgeAndCircleContact.Create',oj);function pj(){}y('Box2D.Dynamics.Contacts.b2EdgeAndCircleContact.Destroy',pj);nj.prototype.ua=function(){z(this.m_fixtureA.m_shape,F);z(this.m_fixtureB.m_shape,$g)};nj.prototype.Evaluate=nj.prototype.ua;nj.prototype.i={names:[{name:'b2EdgeAndCircleContact',j:Eb}]};y(Eb,nj);function qj(){G.call(this)}cg(qj,G);function rj(){return new qj}y('Box2D.Dynamics.Contacts.b2PolyAndCircleContact.Create',rj);function sj(){}y('Box2D.Dynamics.Contacts.b2PolyAndCircleContact.Destroy',sj);qj.prototype.za=function(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;qj.Ja.za.call(this,a,b);yg(1==a.D());yg(0==b.D())};qj.prototype.Reset=qj.prototype.za;
qj.prototype.ua=function(){var a=this.m_fixtureA.m_body,b=this.m_fixtureB.m_body;ij(this.m_manifold,z(this.m_fixtureA.m_shape,D),a.m_xf,z(this.m_fixtureB.m_shape,$g),b.m_xf)};qj.prototype.Evaluate=qj.prototype.ua;qj.prototype.i={names:[{name:'b2PolyAndCircleContact',j:Fb}]};y(Fb,qj);function tj(){G.call(this)}cg(tj,G);function uj(){return new tj}y('Box2D.Dynamics.Contacts.b2PolyAndEdgeContact.Create',uj);function vj(){}y('Box2D.Dynamics.Contacts.b2PolyAndEdgeContact.Destroy',vj);tj.prototype.za=function(a,b){a='undefined'!==typeof a?a:null;b='undefined'!==typeof b?b:null;tj.Ja.za.call(this,a,b);yg(1==a.D());yg(2==b.D())};tj.prototype.Reset=tj.prototype.za;tj.prototype.ua=function(){z(this.m_fixtureA.m_shape,D);z(this.m_fixtureB.m_shape,F)};tj.prototype.Evaluate=tj.prototype.ua;
tj.prototype.i={names:[{name:'b2PolyAndEdgeContact',j:Gb}]};y(Gb,tj);function wj(){G.call(this)}cg(wj,G);function xj(){return new wj}y('Box2D.Dynamics.Contacts.b2PolygonContact.Create',xj);function yj(){}y('Box2D.Dynamics.Contacts.b2PolygonContact.Destroy',yj);wj.prototype.ua=function(){var a=this.m_fixtureA.m_body,b=this.m_fixtureB.m_body;gj(this.m_manifold,z(this.m_fixtureA.m_shape,D),a.m_xf,z(this.m_fixtureB.m_shape,D),b.m_xf)};wj.prototype.Evaluate=wj.prototype.ua;wj.prototype.i={names:[{name:'b2PolygonContact',j:Hb}]};y(Hb,wj);function zj(a){this.m_allocator=a;this.og()}zj.prototype.wc=function(a,b,c,d){this.wb[c][d].createFcn=a;this.wb[c][d].destroyFcn=b;this.wb[c][d].primary=!0;c!=d&&(this.wb[d][c].createFcn=a,this.wb[d][c].destroyFcn=b,this.wb[d][c].primary=!1)};zj.prototype.AddType=zj.prototype.wc;zj.prototype.og=function(){this.wb=Array(3);for(var a=0;3>a;a++){this.wb[a]=Array(3);for(var b=0;3>b;b++)this.wb[a][b]=new mj}this.wc(kj,lj,0,0);this.wc(rj,sj,1,0);this.wc(xj,yj,1,1);this.wc(oj,pj,2,0);this.wc(uj,vj,1,2)};
zj.prototype.InitializeRegisters=zj.prototype.og;zj.prototype.Wc=function(a,b){var c=a.D(),d=b.D(),c=this.wb[c][d];if(c.pool)return d=c.pool,c.pool=d.m_next,c.poolCount--,d.za(a,b),d;d=c.createFcn;return null!=d?(c.primary?(d=d(this.m_allocator),d.za(a,b)):(d=d(this.m_allocator),d.za(b,a)),d):null};zj.prototype.Create=zj.prototype.Wc;
zj.prototype.Ka=function(a){0<a.m_manifold.Y&&(a.m_fixtureA.m_body.A(!0),a.m_fixtureB.m_body.A(!0));var b=a.m_fixtureA.D(),c=a.m_fixtureB.D(),b=this.wb[b][c];b.poolCount++;a.m_next=b.pool;b.pool=a;b=b.destroyFcn;b(a,this.m_allocator)};zj.prototype.Destroy=zj.prototype.Ka;zj.prototype.i={names:[{name:'b2ContactFactory',j:Bb}]};y(Bb,zj);function Aj(){}Aj.prototype.Rb=function(a,b){var c=a.Ge(),d=b.Ge();return c.Tb==d.Tb&&0!=c.Tb?0<c.Tb:0!=(c.Qc&d.Ec)&&0!=(c.Ec&d.Qc)};Aj.prototype.ShouldCollide=Aj.prototype.Rb;Aj.prototype.Pj=function(a,b){return a?this.Rb(z(a,E),b):!0};Aj.prototype.RayCollide=Aj.prototype.Pj;var Bj=new Aj;y('Box2D.Dynamics.b2ContactFilter.b2_defaultFilter',Bj);Aj.prototype.i={names:[{name:'b2ContactFilter',j:mc}]};y(mc,Aj);function Cj(){}Cj.prototype.ei=m();Cj.prototype.BeginContact=Cj.prototype.ei;Cj.prototype.ti=m();Cj.prototype.EndContact=Cj.prototype.ti;Cj.prototype.Jj=m();Cj.prototype.PreSolve=Cj.prototype.Jj;Cj.prototype.Ij=m();Cj.prototype.PostSolve=Cj.prototype.Ij;var Dj=new Cj;y('Box2D.Dynamics.b2ContactListener.b2_defaultListener',Dj);Cj.prototype.i={names:[{name:'b2ContactListener',j:oc}]};y(oc,Cj);function Ej(){this.m_world=null;this.m_contactCount=0;this.m_contactFilter=Bj;this.m_contactListener=Dj;this.m_contactFactory=new zj(this.m_allocator);this.m_broadPhase=new Mi}
Ej.prototype.Yf=function(a,b){var c=z(a,E),d=z(b,E),e=c.m_body,f=d.m_body;if(e!=f){for(var g=f.m_contactList;g;){if(g.other==e){var h=g.contact.m_fixtureA,k=g.contact.m_fixtureB;if(h==c&&k==d||h==d&&k==c)return}g=g.next}0!=f.Rb(e)&&0!=this.m_contactFilter.Rb(c,d)&&(g=this.m_contactFactory.Wc(c,d),c=g.m_fixtureA,d=g.m_fixtureB,e=c.m_body,f=d.m_body,g.m_prev=null,g.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=g),this.m_world.m_contactList=g,
g.m_nodeA.contact=g,g.m_nodeA.other=f,g.m_nodeA.prev=null,g.m_nodeA.next=e.m_contactList,null!=e.m_contactList&&(e.m_contactList.prev=g.m_nodeA),e.m_contactList=g.m_nodeA,g.m_nodeB.contact=g,g.m_nodeB.other=e,g.m_nodeB.prev=null,g.m_nodeB.next=f.m_contactList,null!=f.m_contactList&&(f.m_contactList.prev=g.m_nodeB),f.m_contactList=g.m_nodeB,++this.m_world.m_contactCount)}};Ej.prototype.AddPair=Ej.prototype.Yf;Ej.prototype.ad=function(){this.m_broadPhase.$e(lg(this.Yf,this,Da))};
Ej.prototype.FindNewContacts=Ej.prototype.ad;new Ei;
Ej.prototype.Ka=function(a){var b=a.m_fixtureA.m_body,c=a.m_fixtureB.m_body;a.qd();a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_world.m_contactList&&(this.m_world.m_contactList=a.m_next);a.m_nodeA.prev&&(a.m_nodeA.prev.next=a.m_nodeA.next);a.m_nodeA.next&&(a.m_nodeA.next.prev=a.m_nodeA.prev);a.m_nodeA==b.m_contactList&&(b.m_contactList=a.m_nodeA.next);a.m_nodeB.prev&&(a.m_nodeB.prev.next=a.m_nodeB.next);a.m_nodeB.next&&(a.m_nodeB.next.prev=a.m_nodeB.prev);a.m_nodeB==
c.m_contactList&&(c.m_contactList=a.m_nodeB.next);this.m_contactFactory.Ka(a);--this.m_contactCount};Ej.prototype.Destroy=Ej.prototype.Ka;
Ej.prototype.Zf=function(){for(var a=this.m_world.m_contactList;a;){var b=a.m_fixtureA,c=a.m_fixtureB,d=b.m_body,e=c.m_body;if(0==d.Da()&&0==e.Da())a=a.m_next;else{if(a.m_flags&Yh){if(0==e.Rb(d)){b=a;a=b.m_next;this.Ka(b);continue}if(0==this.m_contactFilter.Rb(b,c)){b=a;a=b.m_next;this.Ka(b);continue}a.m_flags&=~Yh}0==this.m_broadPhase.Eb(b.m_proxy,c.m_proxy)?(b=a,a=b.m_next,this.Ka(b)):(a.Ac(this.m_contactListener),a=a.m_next)}}};Ej.prototype.Collide=Ej.prototype.Zf;
Ej.prototype.i={names:[{name:'b2ContactManager',j:pc}]};y(pc,Ej);function N(){this.lc=0}y('Box2D.Dynamics.b2DebugDraw.e_shapeBit',1);y('Box2D.Dynamics.b2DebugDraw.e_jointBit',2);y('Box2D.Dynamics.b2DebugDraw.e_aabbBit',4);y('Box2D.Dynamics.b2DebugDraw.e_pairBit',8);y('Box2D.Dynamics.b2DebugDraw.e_centerOfMassBit',16);y('Box2D.Dynamics.b2DebugDraw.e_controllerBit',32);N.prototype.xg=q('lc');N.prototype.SetFlags=N.prototype.xg;N.prototype.Ri=t('lc');N.prototype.GetFlags=N.prototype.Ri;N.prototype.ai=function(a){this.lc|=a};N.prototype.AppendFlags=N.prototype.ai;
N.prototype.fi=function(a){this.lc&=~a};N.prototype.ClearFlags=N.prototype.fi;N.prototype.zg=q('m_sprite');N.prototype.SetSprite=N.prototype.zg;N.prototype.sj=t('m_sprite');N.prototype.GetSprite=N.prototype.sj;N.prototype.vg=q('F');N.prototype.SetDrawScale=N.prototype.vg;N.prototype.Li=t('F');N.prototype.GetDrawScale=N.prototype.Li;N.prototype.yg=q('Lb');N.prototype.SetLineThickness=N.prototype.yg;N.prototype.Zi=t('Lb');N.prototype.GetLineThickness=N.prototype.Zi;N.prototype.Sj=q('Ib');
N.prototype.SetAlpha=N.prototype.Sj;N.prototype.vi=t('Ib');N.prototype.GetAlpha=N.prototype.vi;N.prototype.wg=q('re');N.prototype.SetFillAlpha=N.prototype.wg;N.prototype.Mi=t('re');N.prototype.GetFillAlpha=N.prototype.Mi;N.prototype.zk=q('Pc');N.prototype.SetXFormScale=N.prototype.zk;N.prototype.Aj=t('Pc');N.prototype.GetXFormScale=N.prototype.Aj;
N.prototype.dg=function(a,b,c){this.m_sprite.graphics.Ua(this.Lb,c.color,this.Ib);this.m_sprite.graphics.moveTo(a[0].x*this.F,a[0].y*this.F);for(c=1;c<b;c++)this.m_sprite.graphics.lineTo(a[c].x*this.F,a[c].y*this.F);this.m_sprite.graphics.lineTo(a[0].x*this.F,a[0].y*this.F)};N.prototype.DrawPolygon=N.prototype.dg;
N.prototype.gg=function(a,b,c){this.m_sprite.graphics.Ua(this.Lb,c.color,this.Ib);this.m_sprite.graphics.moveTo(a[0].x*this.F,a[0].y*this.F);this.m_sprite.graphics.he(c.color,this.re);for(c=1;c<b;c++)this.m_sprite.graphics.lineTo(a[c].x*this.F,a[c].y*this.F);this.m_sprite.graphics.lineTo(a[0].x*this.F,a[0].y*this.F);this.m_sprite.graphics.Cd()};N.prototype.DrawSolidPolygon=N.prototype.gg;
N.prototype.si=function(a,b,c){this.m_sprite.graphics.Ua(this.Lb,c.color,this.Ib);this.m_sprite.graphics.nf(a.x*this.F,a.y*this.F,b*this.F)};N.prototype.DrawCircle=N.prototype.si;
N.prototype.fg=function(a,b,c,d){this.m_sprite.graphics.Ua(this.Lb,d.color,this.Ib);this.m_sprite.graphics.moveTo(0,0);this.m_sprite.graphics.he(d.color,this.re);this.m_sprite.graphics.nf(a.x*this.F,a.y*this.F,b*this.F);this.m_sprite.graphics.Cd();this.m_sprite.graphics.moveTo(a.x*this.F,a.y*this.F);this.m_sprite.graphics.lineTo((a.x+c.x*b)*this.F,(a.y+c.y*b)*this.F)};N.prototype.DrawSolidCircle=N.prototype.fg;
N.prototype.ab=function(a,b,c){this.m_sprite.graphics.Ua(this.Lb,c.color,this.Ib);this.m_sprite.graphics.moveTo(a.x*this.F,a.y*this.F);this.m_sprite.graphics.lineTo(b.x*this.F,b.y*this.F)};N.prototype.DrawSegment=N.prototype.ab;
N.prototype.hg=function(a){this.m_sprite.graphics.Ua(this.Lb,16711680,this.Ib);this.m_sprite.graphics.moveTo(a.position.x*this.F,a.position.y*this.F);this.m_sprite.graphics.lineTo((a.position.x+this.Pc*a.R.col1.x)*this.F,(a.position.y+this.Pc*a.R.col1.y)*this.F);this.m_sprite.graphics.Ua(this.Lb,65280,this.Ib);this.m_sprite.graphics.moveTo(a.position.x*this.F,a.position.y*this.F);this.m_sprite.graphics.lineTo((a.position.x+this.Pc*a.R.col2.x)*this.F,(a.position.y+this.Pc*a.R.col2.y)*this.F)};
N.prototype.DrawTransform=N.prototype.hg;Yf=N.prototype;Yf.F=1;Yf.Lb=1;Yf.Ib=1;Yf.re=1;Yf.Pc=1;Yf.i={names:[{name:'b2DebugDraw',j:qc}]};y(qc,N);function Fj(){this.normalImpulses=Array(2);this.tangentImpulses=Array(2)}Fj.prototype.i={names:[{name:'b2ContactImpulse',j:nc}]};y(nc,Fj);function Gj(){this.m_bodies=[];this.m_contacts=[];this.m_joints=[]}Gj.prototype.H=function(a,b,c,d,e,f){this.m_contactCapacity=b;this.m_jointCapacity=c;this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;this.m_allocator=d;this.Xl=e;this.ic=f;for(d=this.m_bodies.length;d<a;d++)this.m_bodies[d]=null;for(d=this.m_contacts.length;d<b;d++)this.m_contacts[d]=null;for(d=this.m_joints.length;d<c;d++)this.m_joints[d]=null};Gj.prototype.Initialize=Gj.prototype.H;
Gj.prototype.Sd=function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0};Gj.prototype.Clear=Gj.prototype.Sd;
Gj.prototype.qb=function(a,b,c){var d,e,f;for(d=0;d<this.m_bodyCount;++d)e=this.m_bodies[d],e.D()==Zh&&(e.m_linearVelocity.x+=a.dt*(b.x+e.m_invMass*e.m_force.x),e.m_linearVelocity.y+=a.dt*(b.y+e.m_invMass*e.m_force.y),e.m_angularVelocity+=a.dt*e.m_invI*e.m_torque,e.m_linearVelocity.Ra(Wg(1-a.dt*e.m_linearDamping,0,1)),e.m_angularVelocity*=Wg(1-a.dt*e.m_angularDamping,0,1));this.ic.H(a,this.m_contacts,this.m_contactCount,this.m_allocator);b=this.ic;b.aa(a);for(d=0;d<this.m_jointCount;++d)f=this.m_joints[d],
f.aa(a);for(d=0;d<a.velocityIterations;++d){for(e=0;e<this.m_jointCount;++e)f=this.m_joints[e],f.X(a);b.X()}for(d=0;d<this.m_jointCount;++d)f=this.m_joints[d],f.$c();b.$c();for(d=0;d<this.m_bodyCount;++d)if(e=this.m_bodies[d],e.D()!=fh){var g=a.dt*e.m_linearVelocity.x,h=a.dt*e.m_linearVelocity.y;4<g*g+h*h&&(e.m_linearVelocity.ra(),e.m_linearVelocity.x=2*e.m_linearVelocity.x*a.inv_dt,e.m_linearVelocity.y=2*e.m_linearVelocity.y*a.inv_dt);g=a.dt*e.m_angularVelocity;g*g>ug&&(e.m_angularVelocity=0>e.m_angularVelocity?
-tg*a.inv_dt:tg*a.inv_dt);e.m_sweep.c0.l(e.m_sweep.c);e.m_sweep.a0=e.m_sweep.a;e.m_sweep.c.x+=a.dt*e.m_linearVelocity.x;e.m_sweep.c.y+=a.dt*e.m_linearVelocity.y;e.m_sweep.a+=a.dt*e.m_angularVelocity;e.V()}for(d=0;d<a.positionIterations;++d){g=b.W(.2);h=!0;for(e=0;e<this.m_jointCount;++e)f=this.m_joints[e],f=f.W(.2),h=h&&f;if(g&&h)break}this.Pe(b.m_constraints);if(c){c=Number.MAX_VALUE;b=xg*xg;for(d=0;d<this.m_bodyCount;++d)e=this.m_bodies[d],e.D()!=fh&&(0==(e.m_flags&Hj)&&(c=e.m_sleepTime=0),0==(e.m_flags&
Hj)||e.m_angularVelocity*e.m_angularVelocity>b||1E-4<Gg(e.m_linearVelocity,e.m_linearVelocity)?c=e.m_sleepTime=0:(e.m_sleepTime+=a.dt,c=Sg(c,e.m_sleepTime)));if(.5<=c)for(d=0;d<this.m_bodyCount;++d)e=this.m_bodies[d],e.A(!1)}};Gj.prototype.Solve=Gj.prototype.qb;
Gj.prototype.xd=function(a){var b,c;this.ic.H(a,this.m_contacts,this.m_contactCount,this.m_allocator);var d=this.ic;for(b=0;b<this.m_jointCount;++b)this.m_joints[b].aa(a);for(b=0;b<a.velocityIterations;++b)for(d.X(),c=0;c<this.m_jointCount;++c)this.m_joints[c].X(a);for(b=0;b<this.m_bodyCount;++b)if(c=this.m_bodies[b],c.D()!=fh){var e=a.dt*c.m_linearVelocity.x,f=a.dt*c.m_linearVelocity.y;4<e*e+f*f&&(c.m_linearVelocity.ra(),c.m_linearVelocity.x=2*c.m_linearVelocity.x*a.inv_dt,c.m_linearVelocity.y=2*
c.m_linearVelocity.y*a.inv_dt);e=a.dt*c.m_angularVelocity;e*e>ug&&(c.m_angularVelocity=0>c.m_angularVelocity?-tg*a.inv_dt:tg*a.inv_dt);c.m_sweep.c0.l(c.m_sweep.c);c.m_sweep.a0=c.m_sweep.a;c.m_sweep.c.x+=a.dt*c.m_linearVelocity.x;c.m_sweep.c.y+=a.dt*c.m_linearVelocity.y;c.m_sweep.a+=a.dt*c.m_angularVelocity;c.V()}for(b=0;b<a.positionIterations;++b){e=d.W(.75);f=!0;for(c=0;c<this.m_jointCount;++c)var g=this.m_joints[c].W(.2),f=f&&g;if(e&&f)break}this.Pe(d.m_constraints)};Gj.prototype.SolveTOI=Gj.prototype.xd;
var Ij=new Fj;Gj.prototype.Pe=function(a){if(null!=this.Xl)for(var b=0;b<this.m_contactCount;++b)for(var c=a[b],d=0;d<c.pointCount;++d)Ij.normalImpulses[d]=c.points[d].normalImpulse,Ij.tangentImpulses[d]=c.points[d].tangentImpulse};Gj.prototype.Report=Gj.prototype.Pe;Gj.prototype.ze=function(a){a.m_islandIndex=this.m_bodyCount;this.m_bodies[this.m_bodyCount++]=a};Gj.prototype.AddBody=Gj.prototype.ze;Gj.prototype.Ae=function(a){this.m_contacts[this.m_contactCount++]=a};Gj.prototype.AddContact=Gj.prototype.Ae;
Gj.prototype.Be=function(a){this.m_joints[this.m_jointCount++]=a};Gj.prototype.AddJoint=Gj.prototype.Be;Gj.prototype.i={names:[{name:'b2Island',j:uc}]};y(uc,Gj);function O(a,b){this.Cm=[];this.m_contactManager=new Ej;this.ic=new fi;this.yh=new Gj;this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.pa=this.Hd=null;this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;Jj=Kj=!0;this.Ul=b;this.uf=a;this.xh=0;this.m_contactManager.m_world=this;var c=new eh;this.m_groundBody=this.Xc(c)}var Kj,Jj;O.prototype.ak=q('Hd');O.prototype.SetDestructionListener=O.prototype.ak;
O.prototype.Xj=function(a){this.m_contactManager.m_contactFilter=a};O.prototype.SetContactFilter=O.prototype.Xj;O.prototype.Yj=function(a){this.m_contactManager.m_contactListener=a};O.prototype.SetContactListener=O.prototype.Yj;O.prototype.ug=q('pa');O.prototype.SetDebugDraw=O.prototype.ug;
O.prototype.Vj=function(a){var b=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=a;for(var c=this.m_bodyList;c;c=c.m_next)for(var d=c.m_fixtureList;d;d=d.m_next)d.m_proxy=a.Za(b.ob(d.m_proxy),d)};O.prototype.SetBroadPhase=O.prototype.Vj;O.prototype.Bc=function(){this.m_contactManager.m_broadPhase.Bc()};O.prototype.Validate=O.prototype.Bc;O.prototype.hd=function(){return this.m_contactManager.m_broadPhase.hd()};O.prototype.GetProxyCount=O.prototype.hd;
O.prototype.Xc=function(a){if(1==this.Pb())return null;a=new P(a,this);a.m_prev=null;if(a.m_next=this.m_bodyList)this.m_bodyList.m_prev=a;this.m_bodyList=a;++this.m_bodyCount;return a};O.prototype.CreateBody=O.prototype.Xc;
O.prototype.oi=function(a){if(1!=this.Pb()){for(var b=a.m_jointList;b;){var c=b,b=b.next;this.Hd&&this.Hd.pn(c.joint);this.bg(c.joint)}for(b=a.m_controllerList;b;)c=b,b=b.tn,c.controller.nn(a);for(b=a.m_contactList;b;)c=b,b=b.next,this.m_contactManager.Ka(c.contact);a.m_contactList=null;for(b=a.m_fixtureList;b;)c=b,b=b.m_next,this.Hd&&this.Hd.on(c),c.$a(this.m_contactManager.m_broadPhase),c.Ka();a.m_fixtureList=null;a.m_fixtureCount=0;a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=
a.m_prev);a==this.m_bodyList&&(this.m_bodyList=a.m_next);--this.m_bodyCount}};O.prototype.DestroyBody=O.prototype.oi;
O.prototype.li=function(a){var b=Di(a);b.m_prev=null;if(b.m_next=this.m_jointList)this.m_jointList.m_prev=b;this.m_jointList=b;++this.m_jointCount;b.m_edgeA.joint=b;b.m_edgeA.other=b.m_bodyB;b.m_edgeA.prev=null;if(b.m_edgeA.next=b.m_bodyA.m_jointList)b.m_bodyA.m_jointList.prev=b.m_edgeA;b.m_bodyA.m_jointList=b.m_edgeA;b.m_edgeB.joint=b;b.m_edgeB.other=b.m_bodyA;b.m_edgeB.prev=null;if(b.m_edgeB.next=b.m_bodyB.m_jointList)b.m_bodyB.m_jointList.prev=b.m_edgeB;b.m_bodyB.m_jointList=b.m_edgeB;var c=a.bodyA,
d=a.bodyB;if(0==a.collideConnected)for(a=d.m_contactList;a;)a.other==c&&a.contact.bd(),a=a.next;return b};O.prototype.CreateJoint=O.prototype.li;
O.prototype.bg=function(a){var b=a.m_collideConnected;a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_jointList&&(this.m_jointList=a.m_next);var c=a.m_bodyA,d=a.m_bodyB;c.A(!0);d.A(!0);a.m_edgeA.prev&&(a.m_edgeA.prev.next=a.m_edgeA.next);a.m_edgeA.next&&(a.m_edgeA.next.prev=a.m_edgeA.prev);a.m_edgeA==c.m_jointList&&(c.m_jointList=a.m_edgeA.next);a.m_edgeA.prev=null;a.m_edgeA.next=null;a.m_edgeB.prev&&(a.m_edgeB.prev.next=a.m_edgeB.next);a.m_edgeB.next&&(a.m_edgeB.next.prev=
a.m_edgeB.prev);a.m_edgeB==d.m_jointList&&(d.m_jointList=a.m_edgeB.next);a.m_edgeB.prev=null;a.m_edgeB.next=null;--this.m_jointCount;if(0==b)for(a=d.m_contactList;a;)a.other==c&&a.contact.bd(),a=a.next};O.prototype.DestroyJoint=O.prototype.bg;O.prototype.$h=function(a){a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList=a;a.m_world=this;this.m_controllerCount++;return a};O.prototype.AddController=O.prototype.$h;
O.prototype.Qj=function(a){a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);this.m_controllerList==a&&(this.m_controllerList=a.m_next);this.m_controllerCount--};O.prototype.RemoveController=O.prototype.Qj;
O.prototype.ji=function(a){if(a.m_world!=this)throw Error('Controller can only be a member of one world');a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList&&(this.m_controllerList.m_prev=a);this.m_controllerList=a;++this.m_controllerCount;a.m_world=this;return a};O.prototype.CreateController=O.prototype.ji;O.prototype.pi=function(a){a.Sd();a.m_next&&(a.m_next.m_prev=a.m_prev);a.m_prev&&(a.m_prev.m_next=a.m_next);a==this.m_controllerList&&(this.m_controllerList=a.m_next);--this.m_controllerCount};
O.prototype.DestroyController=O.prototype.pi;O.prototype.yk=function(a){Kj=a};O.prototype.SetWarmStarting=O.prototype.yk;O.prototype.Zj=function(a){Jj=a};O.prototype.SetContinuousPhysics=O.prototype.Zj;O.prototype.Bi=t('m_bodyCount');O.prototype.GetBodyCount=O.prototype.Bi;O.prototype.Wi=t('m_jointCount');O.prototype.GetJointCount=O.prototype.Wi;O.prototype.Di=t('m_contactCount');O.prototype.GetContactCount=O.prototype.Di;O.prototype.fk=q('uf');O.prototype.SetGravity=O.prototype.fk;
O.prototype.Ti=t('uf');O.prototype.GetGravity=O.prototype.Ti;O.prototype.Ui=t('m_groundBody');O.prototype.GetGroundBody=O.prototype.Ui;var Lj=new ei;O.prototype.Xe=function(a,b,c){this.m_flags&1&&(this.m_contactManager.ad(),this.m_flags&=-2);this.m_flags|=2;Lj.dt=a;Lj.velocityIterations=b;Lj.positionIterations=c;Lj.inv_dt=0<a?1/a:0;Lj.dtRatio=this.xh*a;Lj.warmStarting=Kj;this.m_contactManager.Zf();0<Lj.dt&&this.qb(Lj);Jj&&0<Lj.dt&&this.xd(Lj);0<Lj.dt&&(this.xh=Lj.inv_dt);this.m_flags&=-3};
O.prototype.Step=O.prototype.Xe;O.prototype.gi=function(){for(var a=this.m_bodyList;a;a=a.m_next)a.m_force.o(),a.m_torque=0};O.prototype.ClearForces=O.prototype.gi;var Mj=new Eg;
O.prototype.Ce=function(){if(null!=this.pa){this.pa.m_sprite.graphics.clear();var a=this.pa.lc,b,c,d,e;e=[new A,new A,new A,new A];var f=new Bh(0,0,0);if(a&1)for(b=this.m_bodyList;b;b=b.m_next)for(e=b.m_xf,c=b.m_fixtureList;c;c=c.m_next)d=c.m_shape,0==b.Qa()?f.Set(.5,.5,.3):b.D()==fh?f.Set(.5,.9,.5):b.D()==Nj?f.Set(.5,.5,.9):0==b.Da()?f.Set(.6,.6,.6):f.Set(.9,.7,.7),this.eg(d,e,f);if(a&2)for(b=this.m_jointList;b;b=b.m_next)this.cg(b);if(a&32)for(b=this.m_controllerList;b;b=b.m_next)b.mn(this.pa);
if(a&8)for(f.Set(.3,.9,.9),b=this.m_contactManager.m_contactList;b;b=b.m_next)d=b.m_fixtureB,c=b.m_fixtureA.m_aabb.cd(),d=d.m_aabb.cd(),this.pa.ab(c,d,f);if(a&4)for(d=this.m_contactManager.m_broadPhase,e=[new A,new A,new A,new A],b=this.m_bodyList;b;b=b.m_next)if(0!=b.Qa())for(c=b.m_fixtureList;c;c=c.m_next){var g=d.ob(c.m_proxy);e[0].Set(g.lowerBound.x,g.lowerBound.y);e[1].Set(g.upperBound.x,g.lowerBound.y);e[2].Set(g.upperBound.x,g.upperBound.y);e[3].Set(g.lowerBound.x,g.upperBound.y);this.pa.dg(e,
4,f)}if(a&16)for(b=this.m_bodyList;b;b=b.m_next)e=Mj,e.R=b.m_xf.R,e.position=b.m_sweep.c,this.pa.hg(e)}};O.prototype.DrawDebugData=O.prototype.Ce;O.prototype.Kj=function(a,b){var c=this.m_contactManager.m_broadPhase;c.Cb(lg(function(b){return a(c.qa(b))},this,Ic),b)};O.prototype.QueryAABB=O.prototype.Kj;
O.prototype.Mj=function(a,b,c){c='undefined'!==typeof c?c:null;null==c&&(c=new Eg,c.bc());var d=this.m_contactManager.m_broadPhase,e=new gh;b.Ya(e,c);d.Cb(lg(function(e){e=z(d.qa(e),E);return yh(b,c,e.m_shape,e.m_body.ia())?a(e):!0},this,Ic),e)};O.prototype.QueryShape=O.prototype.Mj;
O.prototype.Lj=function(a,b){var c=this.m_contactManager.m_broadPhase,d=new gh;d.lowerBound.Set(b.x-.005,b.y-.005);d.upperBound.Set(b.x+.005,b.y+.005);c.Cb(lg(function(d){d=z(c.qa(d),E);return d.fb(b)?a(d):!0},this,Ic),d)};O.prototype.QueryPoint=O.prototype.Lj;
O.prototype.ba=function(a,b,c){var d=this.m_contactManager.m_broadPhase,e=new Ah,f=new zh(b,c);d.ba(lg(function(f,h){var k=d.qa(h),k=z(k,E);if(k.ba(e,f)){var l=e.fraction;return a(k,new A((1-l)*b.x+l*c.x,(1-l)*b.y+l*c.y),e.normal,l)}return f.maxFraction},this,Bc),f)};O.prototype.RayCast=O.prototype.ba;O.prototype.Oj=function(a,b){var c;this.ba(lg(function(a,b,f,g){c=a;return g},this,Ac),a,b);return c};O.prototype.RayCastOne=O.prototype.Oj;
O.prototype.Nj=function(a,b){var c=[];this.ba(lg(function(a){c[c.length]=a;return 1},this,zc),a,b);return c};O.prototype.RayCastAll=O.prototype.Nj;O.prototype.Ci=t('m_bodyList');O.prototype.GetBodyList=O.prototype.Ci;O.prototype.Ie=t('m_jointList');O.prototype.GetJointList=O.prototype.Ie;O.prototype.Ee=t('m_contactList');O.prototype.GetContactList=O.prototype.Ee;O.prototype.Pb=function(){return 0<(this.m_flags&2)};O.prototype.IsLocked=O.prototype.Pb;
O.prototype.qb=function(a){for(var b,c=this.m_controllerList;c;c=c.m_next)c.Xe(a);c=this.yh;c.H(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.ic);for(b=this.m_bodyList;b;b=b.m_next)b.m_flags&=~Oj;for(var d=this.m_contactList;d;d=d.m_next)d.m_flags&=-5;for(d=this.m_jointList;d;d=d.m_next)d.m_islandFlag=!1;for(var d=this.Cm,e=this.m_bodyList;e;e=e.m_next)if(!(e.m_flags&Oj)&&0!=e.Da()&&0!=e.Qa()&&e.D()!=fh){c.Sd();var f=0;d[f++]=e;for(e.m_flags|=
Oj;0<f;)if(b=d[--f],c.ze(b),0==b.Da()&&b.A(!0),b.D()!=fh){for(var g,h=b.m_contactList;h;h=h.next)h.contact.m_flags&4||1==h.contact.bb()||0==h.contact.nd()||0==h.contact.qd()||(c.Ae(h.contact),h.contact.m_flags|=4,g=h.other,g.m_flags&Oj||(d[f++]=g,g.m_flags|=Oj));for(b=b.m_jointList;b;b=b.next)1!=b.joint.m_islandFlag&&(g=b.other,0!=g.Qa()&&(c.Be(b.joint),b.joint.m_islandFlag=!0,g.m_flags&Oj||(d[f++]=g,g.m_flags|=Oj)))}c.qb(a,this.uf,this.Ul);for(f=0;f<c.m_bodyCount;++f)b=c.m_bodies[f],b.D()==fh&&(b.m_flags&=
~Oj)}for(f=0;f<d.length&&d[f];++f)d[f]=null;for(b=this.m_bodyList;b;b=b.m_next)0!=b.Da()&&0!=b.Qa()&&b.D()!=fh&&b.zc();this.m_contactManager.ad()};O.prototype.Solve=O.prototype.qb;var Pj=new dh,Qj=new dh,Rj=new ei,Sj=[];
O.prototype.xd=function(a){var b,c,d,e=this.yh;e.H(this.m_bodyCount,32,32,null,this.m_contactManager.m_contactListener,this.ic);for(b=this.m_bodyList;b;b=b.m_next)b.m_flags&=~Oj,b.m_sweep.t0=0;for(d=this.m_contactList;d;d=d.m_next)d.m_flags&=-13;for(d=this.m_jointList;d;d=d.m_next)d.m_islandFlag=!1;for(;;){var f=null,g=1;for(d=this.m_contactList;d;d=d.m_next)if(1!=d.bb()&&0!=d.nd()&&0!=d.pg()){b=1;if(d.m_flags&8)b=d.m_toi;else{b=d.m_fixtureA;c=d.m_fixtureB;b=b.m_body;c=c.m_body;if(!(b.D()==Zh&&0!=
b.Da()||c.D()==Zh&&0!=c.Da()))continue;var h=b.m_sweep.t0;b.m_sweep.t0<c.m_sweep.t0?(h=c.m_sweep.t0,b.m_sweep.nb(h)):c.m_sweep.t0<b.m_sweep.t0&&(h=b.m_sweep.t0,c.m_sweep.nb(h));b=d.ag(b.m_sweep,c.m_sweep);yg(0<=b&&1>=b);0<b&&1>b&&(b=(1-b)*h+b,1<b&&(b=1));d.m_toi=b;d.m_flags|=8}Number.MIN_VALUE<b&&b<g&&(f=d,g=b)}if(null==f||1-100*Number.MIN_VALUE<g)break;b=f.m_fixtureA;c=f.m_fixtureB;b=b.m_body;c=c.m_body;Pj.Set(b.m_sweep);Qj.Set(c.m_sweep);b.nb(g);c.nb(g);f.Ac(this.m_contactManager.m_contactListener);
f.m_flags&=-9;if(1==f.bb()||0==f.nd())b.m_sweep.Set(Pj),c.m_sweep.Set(Qj),b.V(),c.V();else if(0!=f.qd()){b.D()!=Zh&&(b=c);e.Sd();f=d=0;Sj[d+f++]=b;for(b.m_flags|=Oj;0<f;)if(b=Sj[d++],--f,e.ze(b),0==b.Da()&&b.A(!0),b.D()==Zh){for(c=b.m_contactList;c&&e.m_contactCount!=e.m_contactCapacity;c=c.next)c.contact.m_flags&4||1==c.contact.bb()||0==c.contact.nd()||0==c.contact.qd()||(e.Ae(c.contact),c.contact.m_flags|=4,h=c.other,h.m_flags&Oj||(h.D()!=fh&&(h.nb(g),h.A(!0)),Sj[d+f]=h,++f,h.m_flags|=Oj));for(b=
b.m_jointList;b;b=b.next)e.m_jointCount!=e.m_jointCapacity&&1!=b.joint.m_islandFlag&&(h=b.other,0!=h.Qa()&&(e.Be(b.joint),b.joint.m_islandFlag=!0,h.m_flags&Oj||(h.D()!=fh&&(h.nb(g),h.A(!0)),Sj[d+f]=h,++f,h.m_flags|=Oj)))}d=Rj;d.warmStarting=!1;d.dt=(1-g)*a.dt;d.inv_dt=1/d.dt;d.dtRatio=0;d.velocityIterations=a.velocityIterations;d.positionIterations=a.positionIterations;e.xd(d);for(g=0;g<e.m_bodyCount;++g)if(b=e.m_bodies[g],b.m_flags&=~Oj,0!=b.Da()&&b.D()==Zh)for(b.zc(),c=b.m_contactList;c;c=c.next)c.contact.m_flags&=
-9;for(g=0;g<e.m_contactCount;++g)d=e.m_contacts[g],d.m_flags&=-13;for(g=0;g<e.m_jointCount;++g)d=e.m_joints[g],d.m_islandFlag=!1;this.m_contactManager.ad()}}};O.prototype.SolveTOI=O.prototype.xd;var Tj=new Bh(.5,.8,.8);
O.prototype.cg=function(a){var b=a.m_bodyA,c=a.m_bodyB,d=b.m_xf.position,e=c.m_xf.position,f=a.ga(),g=a.ha();switch(a.m_type){case 3:this.pa.ab(f,g,Tj);break;case 4:b=z(a,xi);a=b.kg();b=b.lg();this.pa.ab(a,f,Tj);this.pa.ab(b,g,Tj);this.pa.ab(a,b,Tj);break;case 5:this.pa.ab(f,g,Tj);break;default:b!=this.m_groundBody&&this.pa.ab(d,f,Tj),this.pa.ab(f,g,Tj),c!=this.m_groundBody&&this.pa.ab(e,g,Tj)}};O.prototype.DrawJoint=O.prototype.cg;
O.prototype.eg=function(a,b,c){switch(a.m_type){case 0:a=z(a,$g);var d=Mg(b,a.m_p);this.pa.fg(d,a.m_radius,b.R.col1,c);break;case 1:d=z(a,D);a=d.Xd();for(var e=d.m_vertices,f=Array(a),d=0;d<a;++d)f[d]=Mg(b,e[d]);this.pa.gg(f,a,c);break;case 2:a=z(a,F),this.pa.ab(Mg(b,a.m_v1),Mg(b,a.m_v2),c)}};O.prototype.DrawShape=O.prototype.eg;y('Box2D.Dynamics.b2World.e_newFixture',1);y('Box2D.Dynamics.b2World.e_locked',2);O.prototype.i={names:[{name:'b2World',j:wc}]};y(wc,O);function P(a,b){this.m_xf=new Eg;this.m_sweep=new dh;this.m_linearVelocity=new A;this.m_force=new A;this.m_flags=0;a.bullet&&(this.m_flags|=Uj);a.fixedRotation&&(this.m_flags|=Vj);a.allowSleep&&(this.m_flags|=Hj);a.awake&&(this.m_flags|=Wj);a.active&&(this.m_flags|=Xj);this.m_world=b;this.m_xf.position.l(a.position);this.m_xf.R.Set(a.angle);this.m_sweep.localCenter.o();this.m_sweep.t0=1;this.m_sweep.a0=this.m_sweep.a=a.angle;var c=this.m_xf.R,d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+
c.col2.x*d.y;this.m_sweep.c.y=c.col1.y*d.x+c.col2.y*d.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.l(this.m_sweep.c);this.m_contactList=this.m_controllerList=this.m_jointList=null;this.m_controllerCount=0;this.m_next=this.m_prev=null;this.m_linearVelocity.l(a.linearVelocity);this.m_angularVelocity=a.angularVelocity;this.m_linearDamping=a.linearDamping;this.m_angularDamping=a.angularDamping;this.m_force.Set(0,0);this.m_sleepTime=this.m_torque=0;this.m_type=
a.type;this.m_invMass=this.m_type==Zh?this.m_mass=1:this.m_mass=0;this.m_invI=this.m_I=0;this.m_inertiaScale=a.inertiaScale;this.m_userData=a.userData;this.m_fixtureList=null;this.m_fixtureCount=0}
P.prototype.Ud=function(a){if(1==this.m_world.Pb())return null;var b=new E;b.Wc(this,this.m_xf,a);this.m_flags&Xj&&b.Za(this.m_world.m_contactManager.m_broadPhase,this.m_xf);b.m_next=this.m_fixtureList;this.m_fixtureList=b;++this.m_fixtureCount;b.m_body=this;0<b.m_density&&this.Qb();this.m_world.m_flags|=1;return b};P.prototype.CreateFixture=P.prototype.Ud;P.prototype.ki=function(a,b){b='undefined'!==typeof b?b:0;var c=new jh;c.shape=a;c.density=b;return this.Ud(c)};P.prototype.CreateFixture2=P.prototype.ki;
P.prototype.ri=function(a){if(1!=this.m_world.Pb()){for(var b=this.m_fixtureList,c=null;null!=b;){if(b==a){c?c.m_next=a.m_next:this.m_fixtureList=a.m_next;break}c=b;b=b.m_next}for(b=this.m_contactList;b;){var c=b.contact,b=b.next,d=c.m_fixtureB;a!=c.m_fixtureA&&a!=d||this.m_world.m_contactManager.Ka(c)}this.m_flags&Xj&&a.$a(this.m_world.m_contactManager.m_broadPhase);a.Ka();a.m_body=null;a.m_next=null;--this.m_fixtureCount;this.Qb()}};P.prototype.DestroyFixture=P.prototype.ri;
P.prototype.$d=function(a,b){var c;if(1!=this.m_world.Pb()){this.m_xf.R.Set(b);this.m_xf.position.l(a);c=this.m_xf.R;var d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+c.col2.x*d.y;this.m_sweep.c.y=c.col1.y*d.x+c.col2.y*d.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.l(this.m_sweep.c);this.m_sweep.a0=this.m_sweep.a=b;d=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;c;c=c.m_next)c.Ze(d,this.m_xf,this.m_xf);this.m_world.m_contactManager.ad()}};
P.prototype.SetPositionAndAngle=P.prototype.$d;P.prototype.vk=function(a){this.$d(a.position,a.La())};P.prototype.SetTransform=P.prototype.vk;P.prototype.ia=t('m_xf');P.prototype.GetTransform=P.prototype.ia;P.prototype.nj=function(){return this.m_xf.position};P.prototype.GetPosition=P.prototype.nj;P.prototype.nk=function(a){this.$d(a,this.La())};P.prototype.SetPosition=P.prototype.nk;P.prototype.La=function(){return this.m_sweep.a};P.prototype.GetAngle=P.prototype.La;
P.prototype.Tj=function(a){this.$d(this.m_xf.position,a)};P.prototype.SetAngle=P.prototype.Tj;P.prototype.yj=function(){return this.m_sweep.c};P.prototype.GetWorldCenter=P.prototype.yj;P.prototype.dj=function(){return this.m_sweep.localCenter};P.prototype.GetLocalCenter=P.prototype.dj;P.prototype.Ue=function(a){this.m_type!=fh&&this.m_linearVelocity.l(a)};P.prototype.SetLinearVelocity=P.prototype.Ue;P.prototype.aj=t('m_linearVelocity');P.prototype.GetLinearVelocity=P.prototype.aj;
P.prototype.Qe=function(a){this.m_type!=fh&&(this.m_angularVelocity=a)};P.prototype.SetAngularVelocity=P.prototype.Qe;P.prototype.xi=t('m_angularVelocity');P.prototype.GetAngularVelocity=P.prototype.xi;
P.prototype.ig=function(){var a=new eh;a.type=this.D();a.allowSleep=(this.m_flags&Hj)==Hj;a.angle=this.La();a.angularDamping=this.m_angularDamping;a.angularVelocity=this.m_angularVelocity;a.fixedRotation=(this.m_flags&Vj)==Vj;a.bullet=(this.m_flags&Uj)==Uj;a.awake=(this.m_flags&Wj)==Wj;a.linearDamping=this.m_linearDamping;a.linearVelocity.l(this.m_linearVelocity);a.position=this.m_xf.position;a.userData=this.qa();return a};P.prototype.GetDefinition=P.prototype.ig;
P.prototype.bi=function(a,b){this.m_type==Zh&&(0==this.Da()&&this.A(!0),this.m_force.x+=a.x,this.m_force.y+=a.y,this.m_torque+=(b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x)};P.prototype.ApplyForce=P.prototype.bi;P.prototype.di=function(a){this.m_type==Zh&&(0==this.Da()&&this.A(!0),this.m_torque+=a)};P.prototype.ApplyTorque=P.prototype.di;
P.prototype.ci=function(a,b){this.m_type==Zh&&(0==this.Da()&&this.A(!0),this.m_linearVelocity.x+=this.m_invMass*a.x,this.m_linearVelocity.y+=this.m_invMass*a.y,this.m_angularVelocity+=this.m_invI*((b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x))};P.prototype.ApplyImpulse=P.prototype.ci;
P.prototype.Ak=function(a){for(var b=this.m_linearVelocity.G(),c=this.m_angularVelocity,d=this.m_sweep.c,e=this.m_world.Xc(this.ig()),f,g=this.m_fixtureList;g;)if(a(g)){var h=g.m_next;f?f.m_next=h:this.m_fixtureList=h;this.m_fixtureCount--;g.m_next=e.m_fixtureList;e.m_fixtureList=g;e.m_fixtureCount++;g.m_body=e;g=h}else f=g,g=g.m_next;this.Qb();e.Qb();a=Pg(b,Jg(c,Og(e.m_sweep.c,d)));this.Ue(Pg(b,Jg(c,Og(this.m_sweep.c,d))));e.Ue(a);this.Qe(c);e.Qe(c);this.zc();e.zc();return e};P.prototype.Split=P.prototype.Ak;
P.prototype.Ej=function(a){var b;for(b=a.m_fixtureList;b;){var c=b.m_next;a.m_fixtureCount--;b.m_next=this.m_fixtureList;this.m_fixtureList=b;this.m_fixtureCount++;b.m_body=null;b=c}this.m_linearVelocity.G();a.m_linearVelocity.G();this.Qb();this.zc()};P.prototype.Merge=P.prototype.Ej;P.prototype.gj=t('m_mass');P.prototype.GetMass=P.prototype.gj;P.prototype.Vi=t('m_I');P.prototype.GetInertia=P.prototype.Vi;P.prototype.Wd=function(a){a.Xa=this.m_mass;a.Bb=this.m_I;a.center.l(this.m_sweep.localCenter)};
P.prototype.GetMassData=P.prototype.Wd;
P.prototype.jk=function(a){yg(0==this.m_world.Pb());if(1!=this.m_world.Pb()&&this.m_type==Zh){this.m_invI=this.m_I=this.m_invMass=0;this.m_mass=a.Xa;0>=this.m_mass&&(this.m_mass=1);this.m_invMass=1/this.m_mass;0<a.Bb&&0==(this.m_flags&Vj)&&(this.m_I=a.Bb-this.m_mass*(a.center.x*a.center.x+a.center.y*a.center.y),this.m_invI=1/this.m_I);var b=this.m_sweep.c.G();this.m_sweep.localCenter.l(a.center);this.m_sweep.c0.l(Mg(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.l(this.m_sweep.c0);this.m_linearVelocity.x+=
this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-b.x)}};P.prototype.SetMassData=P.prototype.jk;
P.prototype.Qb=function(){this.m_invI=this.m_I=this.m_invMass=this.m_mass=0;this.m_sweep.localCenter.o();if(this.m_type!=fh&&this.m_type!=Nj){for(var a=Ag(0,0),b=this.m_fixtureList;b;b=b.m_next)if(0!=b.m_density){var c=b.Wd();this.m_mass+=c.Xa;a.x+=c.center.x*c.Xa;a.y+=c.center.y*c.Xa;this.m_I+=c.Bb}0<this.m_mass?(this.m_invMass=1/this.m_mass,a.x*=this.m_invMass,a.y*=this.m_invMass):this.m_invMass=this.m_mass=1;0<this.m_I&&0==(this.m_flags&Vj)?(this.m_I-=this.m_mass*(a.x*a.x+a.y*a.y),this.m_I*=this.m_inertiaScale,
yg(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0;b=this.m_sweep.c.G();this.m_sweep.localCenter.l(a);this.m_sweep.c0.l(Mg(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.l(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-b.x)}};P.prototype.ResetMassData=P.prototype.Qb;
P.prototype.$=function(a){var b=this.m_xf.R;a=new A(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return a};P.prototype.GetWorldPoint=P.prototype.$;P.prototype.ld=function(a){return Kg(this.m_xf.R,a)};P.prototype.GetWorldVector=P.prototype.ld;P.prototype.Ca=function(a){return Ng(this.m_xf,a)};P.prototype.GetLocalPoint=P.prototype.Ca;P.prototype.Ke=function(a){return Lg(this.m_xf.R,a)};P.prototype.GetLocalVector=P.prototype.Ke;
P.prototype.cj=function(a){return new A(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))};P.prototype.GetLinearVelocityFromWorldPoint=P.prototype.cj;
P.prototype.bj=function(a){var b=this.m_xf.R;a=new A(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return new A(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))};P.prototype.GetLinearVelocityFromLocalPoint=P.prototype.bj;P.prototype.$i=t(Le);P.prototype.GetLinearDamping=P.prototype.$i;P.prototype.hk=q(Le);P.prototype.SetLinearDamping=P.prototype.hk;
P.prototype.wi=t(Je);P.prototype.GetAngularDamping=P.prototype.wi;P.prototype.Uj=q(Je);P.prototype.SetAngularDamping=P.prototype.Uj;P.prototype.wk=function(a){if(this.m_type!=a)for(this.m_type=a,this.Qb(),this.m_type==fh&&(this.m_linearVelocity.o(),this.m_angularVelocity=0),this.A(!0),this.m_force.o(),this.m_torque=0,a=this.m_contactList;a;a=a.next)a.contact.bd()};P.prototype.SetType=P.prototype.wk;P.prototype.D=t('m_type');P.prototype.GetType=P.prototype.D;
P.prototype.Wj=function(a){this.m_flags=a?this.m_flags|Uj:this.m_flags&~Uj};P.prototype.SetBullet=P.prototype.Wj;P.prototype.md=function(){return(this.m_flags&Uj)==Uj};P.prototype.IsBullet=P.prototype.md;P.prototype.tk=function(a){a?this.m_flags|=Hj:(this.m_flags&=~Hj,this.A(!0))};P.prototype.SetSleepingAllowed=P.prototype.tk;
P.prototype.A=function(a){a?(this.m_flags|=Wj,this.m_sleepTime=0):(this.m_flags&=~Wj,this.m_sleepTime=0,this.m_linearVelocity.o(),this.m_angularVelocity=0,this.m_force.o(),this.m_torque=0)};P.prototype.SetAwake=P.prototype.A;P.prototype.Da=function(){return(this.m_flags&Wj)==Wj};P.prototype.IsAwake=P.prototype.Da;P.prototype.dk=function(a){this.m_flags=a?this.m_flags|Vj:this.m_flags&~Vj;this.Qb()};P.prototype.SetFixedRotation=P.prototype.dk;P.prototype.Bj=function(){return(this.m_flags&Vj)==Vj};
P.prototype.IsFixedRotation=P.prototype.Bj;P.prototype.Rj=function(a){if(a!=this.Qa()){var b;if(a)for(this.m_flags|=Xj,a=this.m_world.m_contactManager.m_broadPhase,b=this.m_fixtureList;b;b=b.m_next)b.Za(a,this.m_xf);else{this.m_flags&=~Xj;a=this.m_world.m_contactManager.m_broadPhase;for(b=this.m_fixtureList;b;b=b.m_next)b.$a(a);for(a=this.m_contactList;a;)b=a,a=a.next,this.m_world.m_contactManager.Ka(b.contact);this.m_contactList=null}}};P.prototype.SetActive=P.prototype.Rj;
P.prototype.Qa=function(){return(this.m_flags&Xj)==Xj};P.prototype.IsActive=P.prototype.Qa;P.prototype.Cj=function(){return(this.m_flags&Hj)==Hj};P.prototype.IsSleepingAllowed=P.prototype.Cj;P.prototype.Qi=t('m_fixtureList');P.prototype.GetFixtureList=P.prototype.Qi;P.prototype.Ie=t('m_jointList');P.prototype.GetJointList=P.prototype.Ie;P.prototype.Ei=t('m_controllerList');P.prototype.GetControllerList=P.prototype.Ei;P.prototype.Ee=t('m_contactList');P.prototype.GetContactList=P.prototype.Ee;
P.prototype.Yb=t(Me);P.prototype.GetNext=P.prototype.Yb;P.prototype.qa=t(Ne);P.prototype.GetUserData=P.prototype.qa;P.prototype.wd=q(Ne);P.prototype.SetUserData=P.prototype.wd;P.prototype.xj=t('m_world');P.prototype.GetWorld=P.prototype.xj;var Yj=new Eg;
P.prototype.zc=function(){Yj.R.Set(this.m_sweep.a0);var a=Yj.R,b=this.m_sweep.localCenter;Yj.position.x=this.m_sweep.c0.x-(a.col1.x*b.x+a.col2.x*b.y);Yj.position.y=this.m_sweep.c0.y-(a.col1.y*b.x+a.col2.y*b.y);b=this.m_world.m_contactManager.m_broadPhase;for(a=this.m_fixtureList;a;a=a.m_next)a.Ze(b,Yj,this.m_xf)};P.prototype.SynchronizeFixtures=P.prototype.zc;
P.prototype.V=function(){this.m_xf.R.Set(this.m_sweep.a);var a=this.m_xf.R,b=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(a.col1.x*b.x+a.col2.x*b.y);this.m_xf.position.y=this.m_sweep.c.y-(a.col1.y*b.x+a.col2.y*b.y)};P.prototype.SynchronizeTransform=P.prototype.V;P.prototype.Rb=function(a){if(this.m_type!=Zh&&a.m_type!=Zh)return!1;for(var b=this.m_jointList;b;b=b.next)if(b.other==a&&0==b.joint.m_collideConnected)return!1;return!0};P.prototype.ShouldCollide=P.prototype.Rb;
P.prototype.nb=function(a){this.m_sweep.nb(a);this.m_sweep.c.l(this.m_sweep.c0);this.m_sweep.a=this.m_sweep.a0;this.V()};P.prototype.Advance=P.prototype.nb;var Oj=1;y('Box2D.Dynamics.b2Body.e_islandFlag',Oj);var Wj=2;y('Box2D.Dynamics.b2Body.e_awakeFlag',Wj);var Hj=4;y('Box2D.Dynamics.b2Body.e_allowSleepFlag',Hj);var Uj=8;y('Box2D.Dynamics.b2Body.e_bulletFlag',Uj);var Vj=16;y('Box2D.Dynamics.b2Body.e_fixedRotationFlag',Vj);var Xj=32;y('Box2D.Dynamics.b2Body.e_activeFlag',Xj);var fh=0;
y('Box2D.Dynamics.b2Body.b2_staticBody',fh);var Nj=1;y('Box2D.Dynamics.b2Body.b2_kinematicBody',Nj);var Zh=2;y('Box2D.Dynamics.b2Body.b2_dynamicBody',Zh);P.prototype.i={names:[{name:'b2Body',j:kc}]};y(kc,P);function Zj(){}Zj.prototype.Ad=w(null);Zj.prototype.createPath=Zj.prototype.Ad;Zj.prototype.Ed=w(null);Zj.prototype.getCssColor=Zj.prototype.Ed;Zj.prototype.ve=m();Zj.prototype.renderGraphics=Zj.prototype.ve;Zj.prototype.Rc=m();Zj.prototype.renderImage=Zj.prototype.Rc;Zj.prototype.Kf=m();Zj.prototype.renderText=Zj.prototype.Kf;Zj.prototype.i={names:[{name:'IRenderer',j:zd}]};y(zd,Zj);function ak(){}ak.prototype.ea=m();ak.prototype.i={names:[{name:'IGraphicsData',j:'flash.display.IGraphicsData'}]};function bk(){}bk.prototype.i={names:[{name:'IGraphicsFill',j:'flash.display.IGraphicsFill'}]};function ck(a,b,c,d){this.bitmapData='undefined'!==typeof a?a:null;this.matrix='undefined'!==typeof b?b:null;this.repeat='undefined'!==typeof c?c:!0;this.smooth='undefined'!==typeof d?d:!1}ck.prototype.ea=function(a){null==this.pattern&&this.bitmapData&&(this.pattern=a.createPattern(this.bitmapData.image,this.repeat?vf:df));a.fillStyle=this.pattern};ck.prototype.draw=ck.prototype.ea;ck.prototype.i={names:[{name:'GraphicsBitmapFill',j:Gd}],Sa:[bk,ak]};y(Gd,ck);function dk(){}dk.prototype.ea=function(a,b){if(this.fill){if(ig(this.fill,ck)){var c=z(this.fill,ck);if(c.matrix)var d=c.matrix;a.globalAlpha=b.alphaMultiplier}else a.globalAlpha=1;d&&(a.save(),a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty));a.fill();d&&a.restore()}};dk.prototype.draw=dk.prototype.ea;dk.prototype.i={names:[{name:'GraphicsEndFill',j:Hd}],Sa:[bk,ak]};y(Hd,dk);function ek(){}y('flash.display.GraphicsPathCommand.NO_OP',0);y('flash.display.GraphicsPathCommand.MOVE_TO',1);y('flash.display.GraphicsPathCommand.LINE_TO',2);y('flash.display.GraphicsPathCommand.CURVE_TO',3);y('flash.display.GraphicsPathCommand.WIDE_MOVE_TO',4);y('flash.display.GraphicsPathCommand.WIDE_LINE_TO',5);y('flash.display.GraphicsPathCommand.CUBIC_CURVE_TO',6);y('flash.display.GraphicsPathCommand.ARC',7);y('flash.display.GraphicsPathCommand.CLOSE_PATH',8);
ek.prototype.i={names:[{name:'GraphicsPathCommand',j:Kd}]};y(Kd,ek);function fk(){}fk.prototype.i={names:[{name:'IGraphicsPath',j:'flash.display.IGraphicsPath'}]};function gk(a,b,c){this.commands=[];this.data=[];this.commands='undefined'!==typeof a?a:null;this.data='undefined'!==typeof b?b:null;null==this.commands&&(this.commands=[]);null==this.data&&(this.data=[]);this.Wg='undefined'!==typeof c?c:md}gk.prototype.oe=!0;gk.prototype.gpuPath2DDirty=gk.prototype.oe;gk.prototype.clear=function(){this.commands.length=0;this.data.length=0};gk.prototype.clear=gk.prototype.clear;gk.prototype.moveTo=function(a,b){this.commands.push(1);this.data.push(a,b)};
gk.prototype.moveTo=gk.prototype.moveTo;gk.prototype.lineTo=function(a,b){this.commands.push(2);this.data.push(a,b)};gk.prototype.lineTo=gk.prototype.lineTo;gk.prototype.Fa=function(a,b,c,d){this.commands.push(3);this.data.push(a,b,c,d)};gk.prototype.curveTo=gk.prototype.Fa;gk.prototype.ib=function(a,b,c,d,e,f){this.commands.push(6);this.data.push(a,b,c,d,e,f)};gk.prototype.cubicCurveTo=gk.prototype.ib;gk.prototype.Vf=function(a,b){this.commands.push(5);this.data.push(0,0,a,b)};
gk.prototype.wideLineTo=gk.prototype.Vf;gk.prototype.Wf=function(a,b){this.commands.push(4);this.data.push(0,0,a,b)};gk.prototype.wideMoveTo=gk.prototype.Wf;gk.prototype.arc=function(a,b,c,d,e){this.commands.push(7);this.data.push(a,b,c,d,e)};gk.prototype.arc=gk.prototype.arc;
gk.prototype.ea=function(a){if(this.commands.length){a.beginPath();for(var b=0,c=this.commands.length,d=0;d<c;d++)switch(this.commands[d]){case 1:a.moveTo(this.data[b++],this.data[b++]);break;case 2:a.lineTo(this.data[b++],this.data[b++]);break;case 3:a.quadraticCurveTo(this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 6:a.bezierCurveTo(this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 4:b+=2;a.moveTo(this.data[b++],this.data[b++]);
break;case 5:b+=2;a.lineTo(this.data[b++],this.data[b++]);break;case 7:a.arc(this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 8:a.closePath()}}};gk.prototype.draw=gk.prototype.ea;gk.prototype.closePath=function(){this.commands.push(8)};gk.prototype.closePath=gk.prototype.closePath;Object.defineProperties(gk.prototype,{winding:{get:t('Wg'),set:q('Wg')}});gk.prototype.i={names:[{name:'GraphicsPath',j:Jd}],Sa:[fk,ak]};y(Jd,gk);function hk(){this.nh=new dk}cg(hk,Zj);hk.prototype.Ed=function(a,b,c){return yf+((a>>16&255)*c.redMultiplier+c.redOffset)+ia+((a>>8&255)*c.greenMultiplier+c.greenOffset)+ia+((a&255)*c.greenMultiplier+c.greenOffset)+ia+(b*c.alphaMultiplier+c.alphaOffset)+ha};hk.prototype.getCssColor=hk.prototype.Ed;hk.prototype.Ad=function(){return new gk};hk.prototype.createPath=hk.prototype.Ad;
hk.prototype.ve=function(a,b,c,d,e){a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.globalCompositeOperation=d;c=b.graphicsData.length;for(d=0;d<c;d++)b.graphicsData[d].ea(a,e);b.lastFill&&(this.nh.fill=b.lastFill,this.nh.ea(a,e));b.lastStroke&&a.stroke();a.fillStyle=null;a.strokeStyle=null};hk.prototype.renderGraphics=hk.prototype.ve;hk.prototype.Rc=function(a,b,c,d,e){a.globalAlpha=e.alphaMultiplier;a.globalCompositeOperation=d;a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.drawImage(b.image,0,0)};
hk.prototype.renderImage=hk.prototype.Rc;hk.prototype.Kf=function(a,b,c,d,e,f,g,h){a.globalAlpha=f.alphaMultiplier;a.globalCompositeOperation=e;a.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.font=c.rn;a.fillStyle=c.sn;a.textBaseline=Gf;a.fillText(b,g,h)};hk.prototype.renderText=hk.prototype.Kf;hk.prototype.i={names:[{name:'BaseRenderer',j:pd}]};y(pd,hk);function ik(){}var jk,kk,lk=0;y('SpriteFlexjs.startTime',lk);y('SpriteFlexjs.debug',!1);y('SpriteFlexjs.wmode','direct');var mk=new hk;y('SpriteFlexjs.renderer',mk);var nk=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};y('SpriteFlexjs.requestAnimationFrame',nk);ik.prototype.i={names:[{name:Cc,j:Cc}]};y(Cc,ik);function ok(){}ok.prototype.i={names:[{name:'BitmapTexture',j:qd}]};y(qd,ok);function pk(a,b){this.repetition=b;this.image=a}pk.prototype.i={names:[{name:'GLCanvasPattern',j:rd}]};y(rd,pk);function qk(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0}y('flash.geom.Point.interpolate',function(a,b,c){return new qk(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))});y('flash.geom.Point.distance',function(a,b){return a.tc(b).length});y('flash.geom.Point.polar',function(a,b){return new qk(a*Math.cos(b),a*Math.sin(b))});qk.prototype.clone=function(){return new qk(this.x,this.y)};qk.prototype.clone=qk.prototype.clone;qk.prototype.offset=function(a,b){this.x+=a;this.y+=b};
qk.prototype.offset=qk.prototype.offset;qk.prototype.Dd=function(a){return a.x==this.x&&a.y==this.y};qk.prototype.equals=qk.prototype.Dd;qk.prototype.tc=function(a){return new qk(this.x-a.x,this.y-a.y)};qk.prototype.subtract=qk.prototype.tc;qk.prototype.add=function(a){return new qk(this.x+a.x,this.y+a.y)};qk.prototype.add=qk.prototype.add;qk.prototype.normalize=function(a){var b=this.length;0<b&&(b=a/b,this.x*=b,this.y*=b)};qk.prototype.normalize=qk.prototype.normalize;
qk.prototype.toString=function(){return fa+this.x+Aa+this.y+ha};qk.prototype.toString=qk.prototype.toString;qk.prototype.ja=function(a){this.x=a.x;this.y=a.y};qk.prototype.copyFrom=qk.prototype.ja;qk.prototype.Nb=function(a,b){this.x=a;this.y=b};qk.prototype.setTo=qk.prototype.Nb;Object.defineProperties(qk.prototype,{length:{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}}});qk.prototype.i={names:[{name:'Point',j:oe}]};y(oe,qk);function Q(a,b,c,d,e,f){this.a='undefined'!==typeof a?a:1;this.b='undefined'!==typeof b?b:0;this.c='undefined'!==typeof c?c:0;this.d='undefined'!==typeof d?d:1;this.tx='undefined'!==typeof e?e:0;this.ty='undefined'!==typeof f?f:0}Q.prototype.clone=function(){return new Q(this.a,this.b,this.c,this.d,this.tx,this.ty)};Q.prototype.clone=Q.prototype.clone;
Q.prototype.concat=function(a){var b=this.a*a.a,c=0,d=0,e=this.d*a.d,f=this.tx*a.a+a.tx,g=this.ty*a.d+a.ty;if(0!=this.b||0!=this.c||0!=a.b||0!=a.c)b+=this.b*a.c,e+=this.c*a.b,c+=this.a*a.b+this.b*a.d,d+=this.c*a.a+this.d*a.c,f+=this.ty*a.c,g+=this.tx*a.b;this.a=b;this.b=c;this.c=d;this.d=e;this.tx=f;this.ty=g};Q.prototype.concat=Q.prototype.concat;
Q.prototype.Jc=function(){var a=NaN,b=NaN,c=NaN,d=NaN,e=NaN,a=NaN;0==this.b&&0==this.c?(this.a=1/this.a,this.d=1/this.d,this.b=this.c=0,this.tx*=-this.a,this.ty*=-this.d):(a=this.a,b=this.b,c=this.c,d=this.d,e=a*d-b*c,0==e?this.Hc():(e=1/e,this.a=d*e,this.b=-b*e,this.c=-c*e,this.d=a*e,a=-(this.b*this.tx+this.d*this.ty),this.tx=-(this.a*this.tx+this.c*this.ty),this.ty=a))};Q.prototype.invert=Q.prototype.Jc;Q.prototype.Hc=function(){this.a=this.d=1;this.tx=this.ty=this.b=this.c=0};
Q.prototype.identity=Q.prototype.Hc;Q.prototype.fh=function(a,b,c,d,e){c='undefined'!==typeof c?c:0;var f=Math.cos(c);c=Math.sin(c);this.a=f*a;this.b=c*b;this.c=-c*a;this.d=f*b;this.tx='undefined'!==typeof d?d:0;this.ty='undefined'!==typeof e?e:0};Q.prototype.createBox=Q.prototype.fh;Q.prototype.el=function(a,b,c,d,e){this.fh(a/1638.4,b/1638.4,'undefined'!==typeof c?c:0,('undefined'!==typeof d?d:0)+a/2,('undefined'!==typeof e?e:0)+b/2)};Q.prototype.createGradientBox=Q.prototype.el;
Q.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=a*this.a+b*this.b,d=b*this.c-a*this.d,e=a*this.c+b*this.d,f=b*this.tx-a*this.ty,g=a*this.tx+b*this.ty;this.a=b*this.a-a*this.b;this.b=c;this.c=d;this.d=e;this.tx=f;this.ty=g};Q.prototype.rotate=Q.prototype.rotate;Q.prototype.translate=function(a,b){this.tx+=a;this.ty+=b};Q.prototype.translate=Q.prototype.translate;Q.prototype.scale=function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b};Q.prototype.scale=Q.prototype.scale;
Q.prototype.ll=function(a){return new qk(this.a*a.x+this.c*a.y,this.d*a.y+this.b*a.x)};Q.prototype.deltaTransformPoint=Q.prototype.ll;Q.prototype.Rd=function(a){return new qk(this.a*a.x+this.c*a.y+this.tx,this.d*a.y+this.b*a.x+this.ty)};Q.prototype.transformPoint=Q.prototype.Rd;Q.prototype.toString=function(){return da+this.a+ma+this.b+pa+this.c+qa+this.d+xa+this.tx+ya+this.ty+ha};Q.prototype.toString=Q.prototype.toString;
Q.prototype.ja=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty};Q.prototype.copyFrom=Q.prototype.ja;Q.prototype.Nb=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};Q.prototype.setTo=Q.prototype.Nb;Q.prototype.mf=function(a,b){switch(a){case 0:break;case 1:b.x=this.b;b.y=this.d;b.z=this.ty;break;case 2:case 3:b.x=0;b.y=0;b.z=1;break;default:b.x=this.a,b.y=this.c,b.z=this.tx}};Q.prototype.copyRowTo=Q.prototype.mf;
Q.prototype.kf=function(a,b){switch(a){case 0:break;case 1:b.x=this.c;b.y=this.d;b.z=0;break;case 2:case 3:b.x=this.tx;b.y=this.ty;b.z=1;break;default:b.x=this.a,b.y=this.b,b.z=0}};Q.prototype.copyColumnTo=Q.prototype.kf;Q.prototype.lf=function(a,b){switch(a){case 0:break;case 1:case 2:this.b=b.x;this.d=b.y;this.ty=b.z;break;default:this.a=b.x,this.c=b.y,this.tx=b.z}};Q.prototype.copyRowFrom=Q.prototype.lf;
Q.prototype.jf=function(a,b){switch(a){case 0:break;case 1:case 2:this.b=b.x;this.d=b.y;this.ty=b.z;break;default:this.a=b.x,this.c=b.y,this.tx=b.z}};Q.prototype.copyColumnFrom=Q.prototype.jf;Q.prototype.i={names:[{name:'Matrix',j:le}]};y(le,Q);function rk(){this.matr=new Q}rk.prototype.i={names:[{name:'GLCanvasState',j:td}]};y(td,rk);function sk(a){this.data=a}sk.prototype.oa=!0;sk.prototype.dirty=sk.prototype.oa;sk.prototype.ec=function(a){null==this.buff&&(this.buff=a.gh(this.data.length));this.oa&&(this.buff.gl.bindBuffer(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.data,this.buff.gl.STATIC_DRAW),this.oa=!1);return this.buff};sk.prototype.getBuff=sk.prototype.ec;sk.prototype.i={names:[{name:'GLIndexBufferSet',j:wd}]};y(wd,sk);function tk(a,b,c){this.name=c;this.data32PerVertex=b;this.data=a}tk.prototype.oa=!0;tk.prototype.dirty=tk.prototype.oa;tk.prototype.ec=function(a){null==this.buff&&(this.buff=a.hh());this.oa&&(this.buff.gl.bindBuffer(this.buff.gl.ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ARRAY_BUFFER,this.data,this.buff.gl.STATIC_DRAW),this.oa=!1);return this.buff};tk.prototype.getBuff=tk.prototype.ec;tk.prototype.i={names:[{name:'GLVertexBufferSet',j:yd}]};y(yd,tk);function uk(a,b,c){this.pos=new tk(a,2,qf);this.uv=new tk(b,2,Qf);this.index=new sk(c)}uk.prototype.Hf=-1;uk.prototype.numTriangles=uk.prototype.Hf;Object.defineProperties(uk.prototype,{color:{get:function(){if(null==this.ce||this.ce.data.length/4!=this.pos.data.length/2)this.ce=new tk(new Float32Array(2*this.pos.data.length),4,bd);return this.ce},set:q('ce')}});uk.prototype.i={names:[{name:'GLDrawable',j:ud}]};y(ud,uk);function vk(){this.array=[]}vk.prototype.length=0;vk.prototype.length=vk.prototype.length;vk.prototype.push=function(a){this.array[this.length++]=a};vk.prototype.push=vk.prototype.push;vk.prototype.i={names:[{name:'MemArray',j:Ad}]};y(Ad,vk);function wk(){gk.call(this);this.polys=new vk}cg(wk,gk);wk.prototype.clear=function(){for(var a=this.polys.array.length,b=0;b<a;b++)this.polys.array[b].length=0;this.polys.length=0};wk.prototype.clear=wk.prototype.clear;wk.prototype.moveTo=function(a,b){this.Ba=this.polys.array[this.polys.length];null==this.Ba&&(this.Ba=this.polys.array[this.polys.length]=new vk);this.polys.length++;this.Ba.push(a);this.Ba.push(b)};wk.prototype.moveTo=wk.prototype.moveTo;
wk.prototype.lineTo=function(a,b){this.Ba.push(a);this.Ba.push(b)};wk.prototype.lineTo=wk.prototype.lineTo;wk.prototype.Fa=function(a,b,c,d){this.Ba.push(a);this.Ba.push(b);this.Ba.push(c);this.Ba.push(d)};wk.prototype.curveTo=wk.prototype.Fa;wk.prototype.ib=function(a,b,c,d,e,f){this.Ba.push(a);this.Ba.push(b);this.Ba.push(c);this.Ba.push(d);this.Ba.push(e);this.Ba.push(f)};wk.prototype.cubicCurveTo=wk.prototype.ib;wk.prototype.Vf=function(a,b){this.lineTo(a,b)};wk.prototype.wideLineTo=wk.prototype.Vf;
wk.prototype.Wf=function(a,b){this.moveTo(a,b)};wk.prototype.wideMoveTo=wk.prototype.Wf;wk.prototype.arc=function(a,b,c){this.rect(a-c,b-c,2*c,2*c)};wk.prototype.arc=wk.prototype.arc;wk.prototype.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d)};wk.prototype.i={names:[{name:'GLGraphicsPath',j:vd}]};y(vd,wk);function xk(){this.matr=new Q}
Object.defineProperties(xk.prototype,{drawable:{get:function(){if(this.path.oe){this.path.oe=!1;for(var a=this.path.polys,b=0,c=0,d=this.path.polys.length,e=0;e<d;e++)var f=this.path.polys.array[e].length,b=b+f,c=c+3*(f/2-2);if(null==this.pos||this.pos.length!=b)this.pos=new Float32Array(b);if(null==this.index||this.index.length!=c)this.index=new Uint16Array(c);for(var g=c=b=0,e=0;e<d;e++){for(var h=a.array[e],f=h.length,f=f/2,k=0;k<f;k++){var l=h.array[2*k],n=h.array[2*k+1];this.pos[c++]=l;this.pos[c++]=
n;2<=k&&(this.index[g++]=b,this.index[g++]=b+k-1,this.index[g++]=b+k)}b+=k}null==this._drawable?this._drawable=new uk(this.pos,this.pos,this.index):(this._drawable.pos.data=this.pos,this._drawable.uv.data=this.pos,this._drawable.index.data=this.index,this._drawable.pos.oa=!0,this._drawable.uv.oa=!0,this._drawable.index.oa=!0)}return this._drawable}}});xk.prototype.i={names:[{name:'GLPath2D',j:xd}]};y(xd,xk);function R(a,b,c,d){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.width='undefined'!==typeof c?c:0;this.height='undefined'!==typeof d?d:0}R.prototype.clone=function(){return new R(this.x,this.y,this.width,this.height)};R.prototype.clone=R.prototype.clone;R.prototype.fc=function(){return 0>=this.width||0>=this.height};R.prototype.isEmpty=R.prototype.fc;R.prototype.Lf=function(){this.height=this.width=this.y=this.x=0};R.prototype.setEmpty=R.prototype.Lf;
R.prototype.Fd=function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=2*b};R.prototype.inflate=R.prototype.Fd;R.prototype.Jl=function(a){this.x-=a.x;this.width+=2*a.x;this.y-=a.y;this.height+=2*a.y};R.prototype.inflatePoint=R.prototype.Jl;R.prototype.offset=function(a,b){this.x+=a;this.y+=b};R.prototype.offset=R.prototype.offset;R.prototype.dm=function(a){this.x+=a.x;this.y+=a.y};R.prototype.offsetPoint=R.prototype.dm;
R.prototype.contains=function(a,b){return a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height};R.prototype.contains=R.prototype.contains;R.prototype.eh=function(a){return a.x>=this.x&&a.x<this.x+this.width&&a.y>=this.y&&a.y<this.y+this.height};R.prototype.containsPoint=R.prototype.eh;R.prototype.Xk=function(a){var b=a.x+a.width,c=a.y+a.height,d=this.x+this.width,e=this.y+this.height;return a.x>=this.x&&a.x<d&&a.y>=this.y&&a.y<e&&b>this.x&&b<=d&&c>this.y&&c<=e};
R.prototype.containsRect=R.prototype.Xk;R.prototype.Ll=function(a){var b=new R;if(this.fc()||a.fc())return b.Lf(),b;b.x=Math.max(this.x,a.x);b.y=Math.max(this.y,a.y);b.width=Math.min(this.x+this.width,a.x+a.width)-b.x;b.height=Math.min(this.y+this.height,a.y+a.height)-b.y;(0>=b.width||0>=b.height)&&b.Lf();return b};R.prototype.intersection=R.prototype.Ll;
R.prototype.Ml=function(a){if(this.fc()||a.fc())return!1;var b=Math.min(this.y+this.height,a.y+a.height)-Math.max(this.y,a.y);return 0>=Math.min(this.x+this.width,a.x+a.width)-Math.max(this.x,a.x)||0>=b?!1:!0};R.prototype.intersects=R.prototype.Ml;
R.prototype.bn=function(a){var b=null;if(this.fc())return a.clone();if(a.fc())return this.clone();b=new R;b.x=Math.min(this.x,a.x);b.y=Math.min(this.y,a.y);b.width=Math.max(this.x+this.width,a.x+a.width)-b.x;b.height=Math.max(this.y+this.height,a.y+a.height)-b.y;return b};R.prototype.union=R.prototype.bn;R.prototype.Dd=function(a){return a.x==this.x&&a.y==this.y&&a.width==this.width&&a.height==this.height};R.prototype.equals=R.prototype.Dd;
R.prototype.toString=function(){return fa+this.x+Aa+this.y+za+this.width+ua+this.height+ha};R.prototype.toString=R.prototype.toString;R.prototype.ja=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height};R.prototype.copyFrom=R.prototype.ja;R.prototype.Nb=function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d};R.prototype.setTo=R.prototype.Nb;
Object.defineProperties(R.prototype,{left:{get:t('x'),set:function(a){this.width+=this.x-a;this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){this.width=a-this.x}},top:{get:t('y'),set:function(a){this.height+=this.y-a;this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){this.height=a-this.y}},topLeft:{get:function(){return new qk(this.x,this.y)},set:function(a){this.width+=this.x-a.x;this.height+=this.y-a.y;this.x=a.x;this.y=a.y}},bottomRight:{get:function(){return new qk(this.right,
this.bottom)},set:function(a){this.width=a.x-this.x;this.height=a.y-this.y}},size:{get:function(){return new qk(this.width,this.height)},set:function(a){this.width=a.x;this.height=a.y}}});R.prototype.i={names:[{name:'Rectangle',j:pe}]};y(pe,R);function S(a,b,c,d){this.dc(a,b,'undefined'!==typeof c?c:!0,'undefined'!==typeof d?d:4294967295)}S.prototype.ee=!1;S.prototype.dc=function(a,b,c,d){d='undefined'!==typeof d?d:4294967295;this.Lk='undefined'!==typeof c?c:!0;this.image=z(document.createElement(Yc),HTMLCanvasElement);this.image.width=this.Mk=a;this.image.height=this.Hk=b;this.ctx=z(this.image.getContext(Ca),CanvasRenderingContext2D);this.Ic=this.ctx.getImageData(0,0,a,b);this.data=this.Ic.data;this.fillRect(this.rect,d)};
S.prototype.of=function(a,b,c){this.ctx.drawImage(a,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0);this.Ic=this.ctx.getImageData(0,0,this.width,this.height);this.data=this.Ic.data};S.prototype.fromImage=S.prototype.of;S.prototype.clone=w(null);S.prototype.clone=S.prototype.clone;S.prototype.Al=function(a,b){var c=4*(b*this.width+a);return this.data[c]<<16|this.data[c+1]<<8|this.data[c+2]};S.prototype.getPixel=S.prototype.Al;
S.prototype.oh=function(a,b){var c=4*(b*this.width+a);return this.data[c+3]<<24|this.data[c]<<16|this.data[c+1]<<8|this.data[c+2]};S.prototype.getPixel32=S.prototype.oh;S.prototype.Gm=function(a,b,c){a=4*(b*this.width+a);this.data[a]=c>>16&255;this.data[a+1]=c>>8&255;this.data[a+2]=c&255;this.ee||this.ctx.putImageData(this.Ic,0,0)};S.prototype.setPixel=S.prototype.Gm;
S.prototype.we=function(a,b,c){a=4*(b*this.width+a);this.data[a]=c>>16&255;this.data[a+1]=c>>8&255;this.data[a+2]=c&255;this.data[a+3]=c>>>24;this.ee||this.ctx.putImageData(this.Ic,0,0)};S.prototype.setPixel32=S.prototype.we;S.prototype.colorTransform=m();S.prototype.colorTransform=S.prototype.colorTransform;S.prototype.compare=w(null);S.prototype.compare=S.prototype.compare;S.prototype.Yk=m();S.prototype.copyChannel=S.prototype.Yk;
S.prototype.Zk=function(a,b,c){this.pe();for(var d=0;d<b.width;d++)for(var e=0;e<b.height;e++)this.we(d+c.x,e+c.y,a.oh(d+b.x,e+b.y));this.ye()};S.prototype.copyPixels=S.prototype.Zk;S.prototype.jb=m();S.prototype.dispose=S.prototype.jb;S.prototype.ea=function(a){this.mh(a)};S.prototype.draw=S.prototype.ea;S.prototype.mh=function(a){ig(a,S)&&(a=z(a,S),this.of(a.ctx))};S.prototype.drawWithQuality=S.prototype.mh;
S.prototype.fillRect=function(a,b){this.pe();for(var c=0;c<this.width;++c)for(var d=0;d<this.height;++d)this.we(d,c,this.transparent?b:4278190080|b);this.ye()};S.prototype.fillRect=S.prototype.fillRect;S.prototype.ul=m();S.prototype.floodFill=S.prototype.ul;S.prototype.yl=w(null);S.prototype.getColorBoundsRect=S.prototype.yl;S.prototype.Bl=w(null);S.prototype.getPixels=S.prototype.Bl;S.prototype.$k=m();S.prototype.copyPixelsToByteArray=S.prototype.$k;S.prototype.Dl=w(null);S.prototype.getVector=S.prototype.Dl;
S.prototype.Gl=w(!1);S.prototype.hitTest=S.prototype.Gl;S.prototype.$l=m();S.prototype.merge=S.prototype.$l;S.prototype.cm=function(){this.pe();for(var a=0;a<this.width;++a)for(var b=0;b<this.height;++b)this.we(b,a,4278190080|16777215*Math.random());this.ye()};S.prototype.noise=S.prototype.cm;S.prototype.em=m();S.prototype.paletteMap=S.prototype.em;S.prototype.fm=m();S.prototype.perlinNoise=S.prototype.fm;S.prototype.gm=w(0);S.prototype.pixelDissolve=S.prototype.gm;S.prototype.scroll=m();
S.prototype.scroll=S.prototype.scroll;S.prototype.Hm=m();S.prototype.setPixels=S.prototype.Hm;S.prototype.Rm=m();S.prototype.setVector=S.prototype.Rm;S.prototype.threshold=w(0);S.prototype.threshold=S.prototype.threshold;S.prototype.pe=function(){this.ee=!0};S.prototype.lock=S.prototype.pe;S.prototype.ye=function(){this.ee=!1;this.ctx.putImageData(this.Ic,0,0)};S.prototype.unlock=S.prototype.ye;S.prototype.Fl=w(null);S.prototype.histogram=S.prototype.Fl;S.prototype.encode=w(null);
S.prototype.encode=S.prototype.encode;Object.defineProperties(S.prototype,{width:{get:t('Mk')},height:{get:t('Hk')},transparent:{get:t('Lk')},rect:{get:function(){return new R(0,0,this.width,this.height)}}});S.prototype.i={names:[{name:'BitmapData',j:Bd}]};y(Bd,S);function yk(){}y('flash.display3D.Context3DBlendFactor.ONE',jf);y('flash.display3D.Context3DBlendFactor.ZERO',Xf);y('flash.display3D.Context3DBlendFactor.SOURCE_ALPHA',Bf);y('flash.display3D.Context3DBlendFactor.SOURCE_COLOR',Cf);y('flash.display3D.Context3DBlendFactor.ONE_MINUS_SOURCE_ALPHA',mf);y('flash.display3D.Context3DBlendFactor.ONE_MINUS_SOURCE_COLOR',nf);y('flash.display3D.Context3DBlendFactor.DESTINATION_ALPHA',gd);y('flash.display3D.Context3DBlendFactor.DESTINATION_COLOR',hd);
y('flash.display3D.Context3DBlendFactor.ONE_MINUS_DESTINATION_ALPHA',kf);y('flash.display3D.Context3DBlendFactor.ONE_MINUS_DESTINATION_COLOR',lf);function zk(a,b){switch(b){case jf:return a.ONE;case Xf:return a.ZERO;case Bf:return a.SRC_ALPHA;case Cf:return a.SRC_COLOR;case mf:return a.ONE_MINUS_SRC_ALPHA;case nf:return a.ONE_MINUS_SRC_COLOR;case gd:return a.DST_ALPHA;case hd:return a.DST_COLOR;case kf:return a.ONE_MINUS_DST_ALPHA;case lf:return a.ONE_MINUS_DST_COLOR}return 0}
y('flash.display3D.Context3DBlendFactor.getGLVal',zk);yk.prototype.i={names:[{name:'Context3DBlendFactor',j:Td}]};y(Td,yk);function Ak(){}y('flash.display3D.Context3DCompareMode.ALWAYS',Oc);y('flash.display3D.Context3DCompareMode.NEVER',cf);y('flash.display3D.Context3DCompareMode.LESS',Fe);y('flash.display3D.Context3DCompareMode.LESS_EQUAL',Ge);y('flash.display3D.Context3DCompareMode.EQUAL',kd);y('flash.display3D.Context3DCompareMode.GREATER_EQUAL',De);y('flash.display3D.Context3DCompareMode.GREATER',Ce);y('flash.display3D.Context3DCompareMode.NOT_EQUAL',gf);
function Bk(a,b){switch(b){case Oc:return a.ALWAYS;case cf:return a.NEAREST;case Fe:return a.LESS;case Ge:return a.LESS|a.EQUAL;case kd:return a.EQUAL;case De:return a.GREATER|a.EQUAL;case Ce:return a.GREATER;case gf:return a.NOTEQUAL}return 0}y('flash.display3D.Context3DCompareMode.getGLVal',Bk);Ak.prototype.i={names:[{name:'Context3DCompareMode',j:Ud}]};y(Ud,Ak);function Ck(){}y('flash.display3D.Context3DProgramType.VERTEX',Uf);y('flash.display3D.Context3DProgramType.FRAGMENT','fragment');Ck.prototype.i={names:[{name:'Context3DProgramType',j:Vd}]};y(Vd,Ck);function Dk(){}y('flash.display3D.Context3DTriangleFace.NONE',ef);y('flash.display3D.Context3DTriangleFace.BACK',Sc);y('flash.display3D.Context3DTriangleFace.FRONT',ye);y('flash.display3D.Context3DTriangleFace.FRONT_AND_BACK',ze);function Ek(a,b){switch(b){case ef:return a.NONE;case Sc:return a.FRONT;case ye:return a.BACK;case ze:return a.FRONT_AND_BACK}return 0}y('flash.display3D.Context3DTriangleFace.getGLVal',Ek);Dk.prototype.i={names:[{name:'Context3DTriangleFace',j:Xd}]};y(Xd,Dk);function Fk(){}y('flash.display3D.Context3DVertexBufferFormat.FLOAT_1',ue);y('flash.display3D.Context3DVertexBufferFormat.FLOAT_2',ve);y('flash.display3D.Context3DVertexBufferFormat.FLOAT_3',we);y('flash.display3D.Context3DVertexBufferFormat.FLOAT_4',xe);y('flash.display3D.Context3DVertexBufferFormat.BYTES_4','bytes4');Fk.prototype.i={names:[{name:'Context3DVertexBufferFormat',j:Yd}]};y(Yd,Fk);function Gk(){}Gk.prototype.Uf=function(a){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.buff);this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(a),this.gl.STATIC_DRAW)};Gk.prototype.uploadFromVector=Gk.prototype.Uf;Gk.prototype.Ob=m();Gk.prototype.uploadFromByteArray=Gk.prototype.Ob;Gk.prototype.jb=m();Gk.prototype.dispose=Gk.prototype.jb;Gk.prototype.i={names:[{name:'IndexBuffer3D',j:Zd}]};y(Zd,Gk);function Hk(){this.Uh={};this.Xg={}}
Hk.prototype.upload=function(a,b){this.fshader=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.vshader=this.gl.createShader(this.gl.VERTEX_SHADER);a.position=b.position=0;this.gl.shaderSource(this.vshader,a.Od(a.length));this.gl.compileShader(this.vshader);if(!this.gl.getShaderParameter(this.vshader,this.gl.COMPILE_STATUS))throw this.vshader+'\n'+a+'\n'+this.gl.getShaderInfoLog(this.vshader);this.gl.shaderSource(this.fshader,b.Od(b.length));this.gl.compileShader(this.fshader);if(!this.gl.getShaderParameter(this.fshader,
this.gl.COMPILE_STATUS))throw b+'\n'+this.gl.getShaderInfoLog(this.fshader);this.gl.attachShader(this.program,this.vshader);this.gl.attachShader(this.program,this.fshader);this.gl.linkProgram(this.program);if(!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw this.gl.getProgramInfoLog(this.program);};Hk.prototype.upload=Hk.prototype.upload;Hk.prototype.jb=function(){this.gl.deleteShader(this.fshader);this.gl.deleteShader(this.vshader);this.gl.deleteProgram(this.program)};
Hk.prototype.dispose=Hk.prototype.jb;Hk.prototype.getUniformLocation=function(a){var b=this.Uh[a];null==b&&(b=this.Uh[a]=this.gl.getUniformLocation(this.program,a));return b};Hk.prototype.getUniformLocation=Hk.prototype.getUniformLocation;Hk.prototype.getAttribLocation=function(a){var b=this.Xg[a];null==b&&(b=this.Xg[a]=this.gl.getAttribLocation(this.program,a));a=Number(b);this.gl.enableVertexAttribArray(a);return a};Hk.prototype.getAttribLocation=Hk.prototype.getAttribLocation;
Hk.prototype.i={names:[{name:'Program3D',j:$d}]};y($d,Hk);function Ik(){}Ik.prototype.Uf=function(a){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buff);this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(a),this.gl.STATIC_DRAW)};Ik.prototype.uploadFromVector=Ik.prototype.Uf;Ik.prototype.Ob=m();Ik.prototype.uploadFromByteArray=Ik.prototype.Ob;Ik.prototype.jb=m();Ik.prototype.dispose=Ik.prototype.jb;Ik.prototype.i={names:[{name:'VertexBuffer3D',j:ae}]};y(ae,Ik);function Jk(a){this.gc={};this.dc('undefined'!==typeof a?a:null)}Jk.prototype.dc=m();Jk.prototype.addEventListener=function(a,b){var c=this.gc[a]=this.gc[a]||[],d=c.indexOf(b);-1!=d&&c.splice(d,1);c.push(b)};Jk.prototype.addEventListener=Jk.prototype.addEventListener;Jk.prototype.removeEventListener=function(a,b){var c=this.gc[a];if(c){var d=c.indexOf(b);-1!=d&&c.splice(d,1);0==c.length&&(this.gc[a]=null,delete this.gc[a])}};Jk.prototype.removeEventListener=Jk.prototype.removeEventListener;
Jk.prototype.dispatchEvent=function(a){return a.target?Kk(this,a.clone()):Kk(this,a)};Jk.prototype.dispatchEvent=Jk.prototype.dispatchEvent;Jk.prototype.Gc=function(a){return null!=this.gc[a]};Jk.prototype.hasEventListener=Jk.prototype.Gc;Jk.prototype.cn=w(!1);Jk.prototype.willTrigger=Jk.prototype.cn;function Kk(a,b){b.target=a;b.currentTarget=a;var c=a.gc[b.type];if(c)for(var d=c.length,e=0;e<d;e++)(0,c[e])(b);return!1}Jk.prototype.i={names:[{name:'EventDispatcher',j:he}]};y(he,Jk);function Lk(){Jk.call(this)}cg(Lk,Jk);Lk.prototype.jb=m();Lk.prototype.dispose=Lk.prototype.jb;Lk.prototype.i={names:[{name:'TextureBase',j:ee}]};y(ee,Lk);function Mk(){Jk.call(this)}cg(Mk,Lk);Mk.prototype.Sc=m();Mk.prototype.uploadFromBitmapData=Mk.prototype.Sc;Mk.prototype.Ob=m();Mk.prototype.uploadFromByteArray=Mk.prototype.Ob;Mk.prototype.Tf=m();Mk.prototype.uploadCompressedTextureFromByteArray=Mk.prototype.Tf;Mk.prototype.i={names:[{name:'CubeTexture',j:be}]};y(be,Mk);function Nk(){Jk.call(this)}cg(Nk,Lk);Nk.prototype.Sc=m();Nk.prototype.uploadFromBitmapData=Nk.prototype.Sc;Nk.prototype.Ob=m();Nk.prototype.uploadFromByteArray=Nk.prototype.Ob;Nk.prototype.i={names:[{name:'RectangleTexture',j:ce}]};y(ce,Nk);function Ok(){Jk.call(this)}cg(Ok,Lk);Ok.prototype.repeat=!0;Ok.prototype.repeat=Ok.prototype.repeat;Ok.prototype.Sc=function(a,b){this.Vh(a.image,'undefined'!==typeof b?b:0)};Ok.prototype.uploadFromBitmapData=Ok.prototype.Sc;
Ok.prototype.Vh=function(a,b){b='undefined'!==typeof b?b:0;this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture);this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,a);this.repeat?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE));0<b?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST));this.gl.bindTexture(this.gl.TEXTURE_2D,null)};
Ok.prototype.uploadFromImg=Ok.prototype.Vh;Ok.prototype.Ob=m();Ok.prototype.uploadFromByteArray=Ok.prototype.Ob;Ok.prototype.Tf=m();Ok.prototype.uploadCompressedTextureFromByteArray=Ok.prototype.Tf;Ok.prototype.i={names:[{name:'Texture',j:de}]};y(de,Ok);function Pk(){Jk.call(this)}cg(Pk,Lk);Pk.prototype.Uk=m();Pk.prototype.attachCamera=Pk.prototype.Uk;Object.defineProperties(Pk.prototype,{videoWidth:{get:w(0)},videoHeight:{get:w(0)}});Pk.prototype.i={names:[{name:'VideoTexture',j:fe}]};y(fe,Pk);function T(){this.jh={};this.kh={};Jk.call(this)}cg(T,Jk);T.prototype.jb=m();T.prototype.dispose=T.prototype.jb;T.prototype.dh=function(a,b,c,d){d='undefined'!==typeof d?d:!0;this.canvas.width=a;this.canvas.height=b;this.gl.viewport(0,0,a,b);d?(this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.STENCIL_TEST)):(this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.STENCIL_TEST))};T.prototype.configureBackBuffer=T.prototype.dh;
T.prototype.clear=function(a,b,c,d,e,f){e='undefined'!==typeof e?e:1;f='undefined'!==typeof f?f:0;this.gl.clearColor('undefined'!==typeof a?a:0,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:1);this.gl.clearDepth(e);this.gl.clearStencil(f);this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)};T.prototype.clear=T.prototype.clear;
T.prototype.Bd=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:-1;this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.buff);this.gl.drawElements(this.gl.TRIANGLES,0>c?a.count:3*c,this.gl.UNSIGNED_SHORT,2*b)};T.prototype.drawTriangles=T.prototype.Bd;T.prototype.lm=m();T.prototype.present=T.prototype.lm;T.prototype.Mf=function(a){this.je!=a&&(this.je=a,this.gl.useProgram(a.program))};T.prototype.setProgram=T.prototype.Mf;T.prototype.Km=function(a,b,c){this.Ph(Uf==a?Tf+b:od+b,c)};
T.prototype.setProgramConstantsFromVector=T.prototype.Km;T.prototype.Nf=function(a,b,c,d){this.Oh(Uf==a?Tf+b:od+b,c,'undefined'!==typeof d?d:!1)};T.prototype.setProgramConstantsFromMatrix=T.prototype.Nf;T.prototype.Im=m();T.prototype.setProgramConstantsFromByteArray=T.prototype.Im;T.prototype.Ph=function(a,b){this.gl.uniform4fv(this.getUniformLocation(a),b)};T.prototype.setProgramConstantsFromVectorGL=T.prototype.Ph;
T.prototype.Oh=function(a,b,c){(c='undefined'!==typeof c?c:!1)&&b.uc();this.gl.uniformMatrix4fv(this.getUniformLocation(a),!1,b.rawData);c&&b.uc()};T.prototype.setProgramConstantsFromMatrixGL=T.prototype.Oh;T.prototype.Jm=m();T.prototype.setProgramConstantsFromByteArrayGL=T.prototype.Jm;T.prototype.getUniformLocation=function(a){return this.je.getUniformLocation(a)};T.prototype.xe=function(a,b,c,d){this.Rh(Rf+a,b,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:xe)};
T.prototype.setVertexBufferAt=T.prototype.xe;T.prototype.Rh=function(a,b,c,d){c='undefined'!==typeof c?c:0;d='undefined'!==typeof d?d:xe;if(this.kh[a]!=b){this.kh[a]=b;a=this.je.getAttribLocation(a);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,b.buff);b=0;switch(d){case ue:b=1;break;case ve:b=2;break;case we:b=3;break;case xe:b=4}this.gl.vertexAttribPointer(a,b,this.gl.FLOAT,!1,0,c)}};T.prototype.setVertexBufferAtGL=T.prototype.Rh;
T.prototype.Mh=function(a,b){this.gl.enable(this.gl.BLEND);this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(zk(this.gl,a),zk(this.gl,b))};T.prototype.setBlendFactors=T.prototype.Mh;T.prototype.Em=function(a,b,c,d){this.gl.colorMask(a,b,c,d)};T.prototype.setColorMask=T.prototype.Em;T.prototype.Fm=function(a,b){this.gl.depthFunc(Bk(this.gl,b));this.gl.depthMask(a)};T.prototype.setDepthTest=T.prototype.Fm;
T.prototype.Qh=function(a,b){if(null==b)this.Of(Ae+a,a,null);else if(ig(b,Ok)){var c=z(b,Ok);this.Of(Ae+a,a,c)}else ig(b,Mk)?z(b,Mk):ig(b,Nk)?z(b,Nk):ig(b,Pk)&&z(b,Pk)};T.prototype.setTextureAt=T.prototype.Qh;T.prototype.Mm=function(a){if(!ig(a,Ok)&&!ig(a,Mk)&&!ig(a,Nk)&&null!=a)throw'texture argument not derived from TextureBase (can be Texture, CubeTexture, or if supported, RectangleTexture)';};T.prototype.setRenderToTexture=T.prototype.Mm;T.prototype.Lm=m();T.prototype.setRenderToBackBuffer=T.prototype.Lm;
T.prototype.Nh=function(a){a==ef?this.gl.disable(this.gl.CULL_FACE):(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(Ek(this.gl,a)))};T.prototype.setCulling=T.prototype.Nh;T.prototype.Pm=m();T.prototype.setStencilActions=T.prototype.Pm;T.prototype.Qm=m();T.prototype.setStencilReferenceValue=T.prototype.Qm;T.prototype.Om=function(a){null==a?this.gl.disable(this.gl.SCISSOR_TEST):(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(a.x,a.y,a.width,a.height))};T.prototype.setScissorRectangle=T.prototype.Om;
T.prototype.hh=function(){var a=new Ik;a.buff=this.gl.createBuffer();a.gl=this.gl;return a};T.prototype.createVertexBuffer=T.prototype.hh;T.prototype.gh=function(a){var b=new Gk;b.buff=this.gl.createBuffer();b.gl=this.gl;b.count=a;return b};T.prototype.createIndexBuffer=T.prototype.gh;T.prototype.createTexture=function(){var a=new Ok;a.gl=this.gl;a.texture=this.gl.createTexture();return a};T.prototype.createTexture=T.prototype.createTexture;T.prototype.dl=w(null);T.prototype.createCubeTexture=T.prototype.dl;
T.prototype.fl=w(null);T.prototype.createRectangleTexture=T.prototype.fl;T.prototype.createProgram=function(){var a=new Hk;a.gl=this.gl;a.program=this.gl.createProgram();return a};T.prototype.createProgram=T.prototype.createProgram;T.prototype.sl=m();T.prototype.drawToBitmapData=T.prototype.sl;T.prototype.Nm=m();T.prototype.setSamplerStateAt=T.prototype.Nm;
T.prototype.Of=function(a,b,c){this.jh[a]!=c&&(this.jh[a]=c)&&(this.gl.activeTexture(WebGLRenderingContext[Dc+b]),this.gl.bindTexture(this.gl.TEXTURE_2D,c.texture),this.gl.uniform1i(this.je.getUniformLocation(a),b))};T.prototype.setTextureAtGL=T.prototype.Of;T.prototype.hl=w(null);T.prototype.createVideoTexture=T.prototype.hl;
Object.defineProperties(T.prototype,{driverInfo:{get:w(null)},enableErrorChecking:{get:w(!1),set:m()},profile:{get:w(null)},backBufferWidth:{get:w(0)},backBufferHeight:{get:w(0)},maxBackBufferWidth:{get:w(0),set:m()},maxBackBufferHeight:{get:w(0),set:m()}});Object.defineProperties(T,{supportsVideoTexture:{get:w(!1)}});T.prototype.i={names:[{name:'Context3D',j:Sd}]};y(Sd,T);function Qk(){}y('flash.display3D.Context3DTextureFormat.BGRA',Vc);y('flash.display3D.Context3DTextureFormat.RGBA_HALF_FLOAT','rgbaHalfFloat');y('flash.display3D.Context3DTextureFormat.COMPRESSED','compressed');y('flash.display3D.Context3DTextureFormat.COMPRESSED_ALPHA','compressedAlpha');y('flash.display3D.Context3DTextureFormat.BGR_PACKED','bgrPacked565');y('flash.display3D.Context3DTextureFormat.BGRA_PACKED','bgraPacked4444');Qk.prototype.i={names:[{name:'Context3DTextureFormat',j:Wd}]};y(Wd,Qk);function Rk(a,b,c){this.dc(a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1)}y('flash.events.Event.ACTIVATE','activate');y('flash.events.Event.ADDED','added');y('flash.events.Event.ADDED_TO_STAGE',Nc);y('flash.events.Event.BROWSER_ZOOM_CHANGE','browserZoomChange');y('flash.events.Event.CANCEL','cancel');y('flash.events.Event.CHANGE','change');y('flash.events.Event.CLEAR','clear');y('flash.events.Event.CLOSE','close');y('flash.events.Event.COMPLETE','complete');
y('flash.events.Event.CONNECT','connect');y('flash.events.Event.COPY','copy');y('flash.events.Event.CUT','cut');y('flash.events.Event.DEACTIVATE','deactivate');y('flash.events.Event.ENTER_FRAME',jd);y('flash.events.Event.FRAME_CONSTRUCTED','frameConstructed');y('flash.events.Event.EXIT_FRAME','exitFrame');y('flash.events.Event.FRAME_LABEL','frameLabel');y('flash.events.Event.ID3','id3');y('flash.events.Event.INIT','init');y('flash.events.Event.MOUSE_LEAVE','mouseLeave');
y('flash.events.Event.OPEN','open');y('flash.events.Event.PASTE','paste');y('flash.events.Event.REMOVED','removed');y('flash.events.Event.REMOVED_FROM_STAGE',uf);y('flash.events.Event.RENDER','render');y('flash.events.Event.RESIZE',wf);y('flash.events.Event.SCROLL','scroll');y('flash.events.Event.TEXT_INTERACTION_MODE_CHANGE','textInteractionModeChange');y('flash.events.Event.SELECT','select');y('flash.events.Event.SELECT_ALL','selectAll');y('flash.events.Event.SOUND_COMPLETE','soundComplete');
y('flash.events.Event.TAB_CHILDREN_CHANGE','tabChildrenChange');y('flash.events.Event.TAB_ENABLED_CHANGE','tabEnabledChange');y('flash.events.Event.TAB_INDEX_CHANGE','tabIndexChange');y('flash.events.Event.UNLOAD','unload');y('flash.events.Event.FULLSCREEN','fullScreen');y('flash.events.Event.CONTEXT3D_CREATE',cd);y('flash.events.Event.TEXTURE_READY','textureReady');y('flash.events.Event.VIDEO_FRAME','videoFrame');y('flash.events.Event.SUSPEND','suspend');y('flash.events.Event.CHANNEL_MESSAGE','channelMessage');
y('flash.events.Event.CHANNEL_STATE','channelState');y('flash.events.Event.WORKER_STATE','workerState');Rk.prototype.ne=w(null);Rk.prototype.formatToString=Rk.prototype.ne;Rk.prototype.dc=function(a,b,c){this.ge=a;this.Ek=b;this.Fk=c};Rk.prototype.clone=function(){return new Rk(this.type,this.bubbles,this.cancelable)};Rk.prototype.clone=Rk.prototype.clone;Rk.prototype.toString=function(){return this.ne()};Rk.prototype.toString=Rk.prototype.toString;Rk.prototype.stopPropagation=m();
Rk.prototype.stopPropagation=Rk.prototype.stopPropagation;Rk.prototype.stopImmediatePropagation=m();Rk.prototype.stopImmediatePropagation=Rk.prototype.stopImmediatePropagation;Rk.prototype.preventDefault=m();Rk.prototype.preventDefault=Rk.prototype.preventDefault;Rk.prototype.Pl=w(!1);Rk.prototype.isDefaultPrevented=Rk.prototype.Pl;Object.defineProperties(Rk.prototype,{type:{get:t('ge')},bubbles:{get:t('Ek')},cancelable:{get:t('Fk')},eventPhase:{get:w(0)}});Rk.prototype.i={names:[{name:'Event',j:ge}]};
y(ge,Rk);function Sk(){}y('flash.geom.Orientation3D.EULER_ANGLES',ld);y('flash.geom.Orientation3D.AXIS_ANGLE',Rc);y('flash.geom.Orientation3D.QUATERNION',tf);Sk.prototype.i={names:[{name:'Orientation3D',j:ne}]};y(ne,Sk);function U(a,b,c,d){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.z='undefined'!==typeof c?c:0;this.w='undefined'!==typeof d?d:0}y('flash.geom.Vector3D.X_AXIS',new U(1,0,0));y('flash.geom.Vector3D.Y_AXIS',new U(0,1,0));y('flash.geom.Vector3D.Z_AXIS',new U(0,0,1));y('flash.geom.Vector3D.angleBetween',function(a,b){var c=a.x*b.x+a.y*b.y+a.z*b.z,c=c/(a.length*b.length);return Math.acos(c)});y('flash.geom.Vector3D.distance',function(a,b){return a.tc(b).length});
U.prototype.clone=function(){return new U(this.x,this.y,this.z,this.w)};U.prototype.clone=U.prototype.clone;U.prototype.lh=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};U.prototype.dotProduct=U.prototype.lh;U.prototype.ih=function(a){return new U(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x,1)};U.prototype.crossProduct=U.prototype.ih;U.prototype.normalize=function(){var a=this.length,b=0!=a?1/a:0;this.x*=b;this.y*=b;this.z*=b;return a};U.prototype.normalize=U.prototype.normalize;
U.prototype.Lh=function(a){this.x*=a;this.y*=a;this.z*=a};U.prototype.scaleBy=U.prototype.Lh;U.prototype.Il=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};U.prototype.incrementBy=U.prototype.Il;U.prototype.jl=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};U.prototype.decrementBy=U.prototype.jl;U.prototype.add=function(a){return new U(this.x+a.x,this.y+a.y,this.z+a.z)};U.prototype.add=U.prototype.add;U.prototype.tc=function(a){return new U(this.x-a.x,this.y-a.y,this.z-a.z)};
U.prototype.subtract=U.prototype.tc;U.prototype.bm=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};U.prototype.negate=U.prototype.bm;U.prototype.Dd=function(a,b){return this.x==a.x&&this.y==a.y&&this.z==a.z&&('undefined'!==typeof b&&b?this.w==a.w:!0)};U.prototype.equals=U.prototype.Dd;U.prototype.am=function(a,b,c){var d=this.x-a.x;if(d=(0>d?0-d:d)<b)if(d=this.y-a.y,d=0>d?0-d:d,d=d<b)d=this.z-a.z,d=0>d?0-d:d,(d=d<b)&&'undefined'!==typeof c&&c&&(d=this.w=a.w,d=0>d?0-d:d,d=d<b);return d};
U.prototype.nearEquals=U.prototype.am;U.prototype.mm=function(){var a=1/this.w;this.x*=a;this.y*=a;this.z*=a};U.prototype.project=U.prototype.mm;U.prototype.toString=function(){var a=Hc+this.x+ja+this.y+ja+this.z;return a+ha};U.prototype.toString=U.prototype.toString;U.prototype.ja=function(a){this.x=a.x;this.y=a.y;this.z=a.z};U.prototype.copyFrom=U.prototype.ja;U.prototype.Nb=function(a,b,c){this.x=a;this.y=b;this.z=c};U.prototype.setTo=U.prototype.Nb;
Object.defineProperties(U.prototype,{length:{get:function(){var a=this.x*this.x+this.y*this.y+this.z*this.z;return 0>=a?0:Math.sqrt(a)}},lengthSquared:{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z}}});U.prototype.i={names:[{name:'Vector3D',j:re}]};y(re,U);function V(a){a='undefined'!==typeof a?a:null;this.rawData=null!=a&&16==a.length?a:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1].slice()}var Tk=new V;
V.prototype.append=function(a){var b=this.rawData[0],c=this.rawData[4],d=this.rawData[8],e=this.rawData[12],f=this.rawData[1],g=this.rawData[5],h=this.rawData[9],k=this.rawData[13],l=this.rawData[2],n=this.rawData[6],p=this.rawData[10],u=this.rawData[14],r=this.rawData[3],x=this.rawData[7],v=this.rawData[11],B=this.rawData[15],K=a.rawData[0],La=a.rawData[4],va=a.rawData[8],Ha=a.rawData[12],ga=a.rawData[1],sa=a.rawData[5],ca=a.rawData[9],Ia=a.rawData[13],Qa=a.rawData[2],pb=a.rawData[6],Ub=a.rawData[10],
Vb=a.rawData[14],Wb=a.rawData[3],Xb=a.rawData[7],Yb=a.rawData[11];a=a.rawData[15];this.rawData[0]=b*K+f*La+l*va+r*Ha;this.rawData[1]=b*ga+f*sa+l*ca+r*Ia;this.rawData[2]=b*Qa+f*pb+l*Ub+r*Vb;this.rawData[3]=b*Wb+f*Xb+l*Yb+r*a;this.rawData[4]=c*K+g*La+n*va+x*Ha;this.rawData[5]=c*ga+g*sa+n*ca+x*Ia;this.rawData[6]=c*Qa+g*pb+n*Ub+x*Vb;this.rawData[7]=c*Wb+g*Xb+n*Yb+x*a;this.rawData[8]=d*K+h*La+p*va+v*Ha;this.rawData[9]=d*ga+h*sa+p*ca+v*Ia;this.rawData[10]=d*Qa+h*pb+p*Ub+v*Vb;this.rawData[11]=d*Wb+h*Xb+
p*Yb+v*a;this.rawData[12]=e*K+k*La+u*va+B*Ha;this.rawData[13]=e*ga+k*sa+u*ca+B*Ia;this.rawData[14]=e*Qa+k*pb+u*Ub+B*Vb;this.rawData[15]=e*Wb+k*Xb+u*Yb+B*a};V.prototype.append=V.prototype.append;V.prototype.Ok=function(a,b,c){c='undefined'!==typeof c?c:null;a=Uk(b.x,b.y,b.z,a);null!=c&&a.gf(c.x,c.y,c.z);this.append(a)};V.prototype.appendRotation=V.prototype.Ok;
V.prototype.Pk=function(a,b,c){this.rawData[0]*=a;this.rawData[1]*=a;this.rawData[2]*=a;this.rawData[3]*=a;this.rawData[4]*=b;this.rawData[5]*=b;this.rawData[6]*=b;this.rawData[7]*=b;this.rawData[8]*=c;this.rawData[9]*=c;this.rawData[10]*=c;this.rawData[11]*=c};V.prototype.appendScale=V.prototype.Pk;V.prototype.gf=function(a,b,c){this.rawData[12]+=a;this.rawData[13]+=b;this.rawData[14]+=c};V.prototype.appendTranslation=V.prototype.gf;V.prototype.clone=function(){return new V(this.rawData.concat())};
V.prototype.clone=V.prototype.clone;V.prototype.jf=function(a,b){switch(a){case 0:this.rawData[0]=b.x;this.rawData[1]=b.y;this.rawData[2]=b.z;this.rawData[3]=b.w;break;case 1:this.rawData[4]=b.x;this.rawData[5]=b.y;this.rawData[6]=b.z;this.rawData[7]=b.w;break;case 2:this.rawData[8]=b.x;this.rawData[9]=b.y;this.rawData[10]=b.z;this.rawData[11]=b.w;break;case 3:this.rawData[12]=b.x;this.rawData[13]=b.y;this.rawData[14]=b.z;this.rawData[15]=b.w;break;default:throw Error(xc+a+ba);}};
V.prototype.copyColumnFrom=V.prototype.jf;V.prototype.kf=function(a,b){switch(a){case 0:b.x=this.rawData[0];b.y=this.rawData[1];b.z=this.rawData[2];b.w=this.rawData[3];break;case 1:b.x=this.rawData[4];b.y=this.rawData[5];b.z=this.rawData[6];b.w=this.rawData[7];break;case 2:b.x=this.rawData[8];b.y=this.rawData[9];b.z=this.rawData[10];b.w=this.rawData[11];break;case 3:b.x=this.rawData[12];b.y=this.rawData[13];b.z=this.rawData[14];b.w=this.rawData[15];break;default:throw Error(xc+a+ba);}};
V.prototype.copyColumnTo=V.prototype.kf;V.prototype.ja=function(a){this.rawData=a.rawData.concat()};V.prototype.copyFrom=V.prototype.ja;V.prototype.al=function(a,b,c){b='undefined'!==typeof b?b:0;(c='undefined'!==typeof c?c:!1)&&this.uc();for(var d=a.length-b,e=0;e<d>>0;){var f=e++;this.rawData[f]=a[f+b]}c&&this.uc()};V.prototype.copyRawDataFrom=V.prototype.al;
V.prototype.bl=function(a,b,c){b='undefined'!==typeof b?b:0;(c='undefined'!==typeof c?c:!1)&&this.uc();for(var d=this.rawData.length,e=0;e<d>>0;){var f=e++;a[f+b]=this.rawData[f]}c&&this.uc()};V.prototype.copyRawDataTo=V.prototype.bl;
V.prototype.lf=function(a,b){switch(a){case 0:this.rawData[0]=b.x;this.rawData[4]=b.y;this.rawData[8]=b.z;this.rawData[12]=b.w;break;case 1:this.rawData[1]=b.x;this.rawData[5]=b.y;this.rawData[9]=b.z;this.rawData[13]=b.w;break;case 2:this.rawData[2]=b.x;this.rawData[6]=b.y;this.rawData[10]=b.z;this.rawData[14]=b.w;break;case 3:this.rawData[3]=b.x;this.rawData[7]=b.y;this.rawData[11]=b.z;this.rawData[15]=b.w;break;default:throw Error('Error, Row '+a+ba);}};V.prototype.copyRowFrom=V.prototype.lf;
V.prototype.mf=function(a,b){switch(a){case 0:b.x=this.rawData[0];b.y=this.rawData[4];b.z=this.rawData[8];b.w=this.rawData[12];break;case 1:b.x=this.rawData[1];b.y=this.rawData[5];b.z=this.rawData[9];b.w=this.rawData[13];break;case 2:b.x=this.rawData[2];b.y=this.rawData[6];b.z=this.rawData[10];b.w=this.rawData[14];break;case 3:b.x=this.rawData[3];b.y=this.rawData[7];b.z=this.rawData[11];b.w=this.rawData[15];break;default:throw Error('Error, Row '+a+ba);}};V.prototype.copyRowTo=V.prototype.mf;
V.prototype.cl=function(a){a.rawData=this.rawData.concat()};V.prototype.copyToMatrix3D=V.prototype.cl;
V.prototype.il=function(a){a='undefined'!==typeof a?a:null;null==a&&(a=ld);var b=[],c=this.clone().rawData.concat(),d=new U(c[12],c[13],c[14]),e=new U;e.x=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);e.y=Math.sqrt(c[4]*c[4]+c[5]*c[5]+c[6]*c[6]);e.z=Math.sqrt(c[8]*c[8]+c[9]*c[9]+c[10]*c[10]);0>c[0]*(c[5]*c[10]-c[6]*c[9])-c[1]*(c[4]*c[10]-c[6]*c[8])+c[2]*(c[4]*c[9]-c[5]*c[8])&&(e.z=-e.z);c[0]/=e.x;c[1]/=e.x;c[2]/=e.x;c[4]/=e.y;c[5]/=e.y;c[6]/=e.y;c[8]/=e.z;c[9]/=e.z;c[10]/=e.z;var f=new U;switch(a){case Rc:f.w=
Math.acos((c[0]+c[5]+c[10]-1)/2);a=Math.sqrt((c[6]-c[9])*(c[6]-c[9])+(c[8]-c[2])*(c[8]-c[2])+(c[1]-c[4])*(c[1]-c[4]));0!=a?(f.x=(c[6]-c[9])/a,f.y=(c[8]-c[2])/a,f.z=(c[1]-c[4])/a):f.x=f.y=f.z=0;break;case tf:a=c[0]+c[5]+c[10];0<a?(f.w=Math.sqrt(1+a)/2,f.x=(c[6]-c[9])/(4*f.w),f.y=(c[8]-c[2])/(4*f.w),f.z=(c[1]-c[4])/(4*f.w)):c[0]>c[5]&&c[0]>c[10]?(f.x=Math.sqrt(1+c[0]-c[5]-c[10])/2,f.w=(c[6]-c[9])/(4*f.x),f.y=(c[1]+c[4])/(4*f.x),f.z=(c[8]+c[2])/(4*f.x)):c[5]>c[10]?(f.y=Math.sqrt(1+c[5]-c[0]-c[10])/2,
f.x=(c[1]+c[4])/(4*f.y),f.w=(c[8]-c[2])/(4*f.y),f.z=(c[6]+c[9])/(4*f.y)):(f.z=Math.sqrt(1+c[10]-c[0]-c[5])/2,f.x=(c[8]+c[2])/(4*f.z),f.y=(c[6]+c[9])/(4*f.z),f.w=(c[1]-c[4])/(4*f.z));break;case ld:f.y=Math.asin(-c[2]),1!=c[2]&&-1!=c[2]?(f.x=Math.atan2(c[6],c[10]),f.z=Math.atan2(c[1],c[0])):(f.z=0,f.x=Math.atan2(c[4],c[5]))}b.push(d);b.push(f);b.push(e);return b};V.prototype.decompose=V.prototype.il;
V.prototype.ml=function(a){var b=a.x,c=a.y;a=a.z;return new U(b*this.rawData[0]+c*this.rawData[4]+a*this.rawData[8]+this.rawData[3],b*this.rawData[1]+c*this.rawData[5]+a*this.rawData[9]+this.rawData[7],b*this.rawData[2]+c*this.rawData[6]+a*this.rawData[10]+this.rawData[11],0)};V.prototype.deltaTransformVector=V.prototype.ml;
V.prototype.Hc=function(){this.rawData[0]=1;this.rawData[1]=0;this.rawData[2]=0;this.rawData[3]=0;this.rawData[4]=0;this.rawData[5]=1;this.rawData[6]=0;this.rawData[7]=0;this.rawData[8]=0;this.rawData[9]=0;this.rawData[10]=1;this.rawData[11]=0;this.rawData[12]=0;this.rawData[13]=0;this.rawData[14]=0;this.rawData[15]=1};V.prototype.identity=V.prototype.Hc;V.prototype.Kl=function(a,b){for(var c=0;16>c;){var d=c++;this.rawData[d]+=(a.rawData[d]-this.rawData[d])*b}};V.prototype.interpolateTo=V.prototype.Kl;
V.prototype.Jc=function(){var a=this.determinant,b=1E-11<Math.abs(a);if(b){var a=1/a,c=this.rawData[0],d=this.rawData[4],e=this.rawData[8],f=this.rawData[12],g=this.rawData[1],h=this.rawData[5],k=this.rawData[9],l=this.rawData[13],n=this.rawData[2],p=this.rawData[6],u=this.rawData[10],r=this.rawData[14],x=this.rawData[3],v=this.rawData[7],B=this.rawData[11],K=this.rawData[15];this.rawData[0]=a*(h*(u*K-r*B)-k*(p*K-r*v)+l*(p*B-u*v));this.rawData[1]=-a*(g*(u*K-r*B)-k*(n*K-r*x)+l*(n*B-u*x));this.rawData[2]=
a*(g*(p*K-r*v)-h*(n*K-r*x)+l*(n*v-p*x));this.rawData[3]=-a*(g*(p*B-u*v)-h*(n*B-u*x)+k*(n*v-p*x));this.rawData[4]=-a*(d*(u*K-r*B)-e*(p*K-r*v)+f*(p*B-u*v));this.rawData[5]=a*(c*(u*K-r*B)-e*(n*K-r*x)+f*(n*B-u*x));this.rawData[6]=-a*(c*(p*K-r*v)-d*(n*K-r*x)+f*(n*v-p*x));this.rawData[7]=a*(c*(p*B-u*v)-d*(n*B-u*x)+e*(n*v-p*x));this.rawData[8]=a*(d*(k*K-l*B)-e*(h*K-l*v)+f*(h*B-k*v));this.rawData[9]=-a*(c*(k*K-l*B)-e*(g*K-l*x)+f*(g*B-k*x));this.rawData[10]=a*(c*(h*K-l*v)-d*(g*K-l*x)+f*(g*v-h*x));this.rawData[11]=
-a*(c*(h*B-k*v)-d*(g*B-k*x)+e*(g*v-h*x));this.rawData[12]=-a*(d*(k*r-l*u)-e*(h*r-l*p)+f*(h*u-k*p));this.rawData[13]=a*(c*(k*r-l*u)-e*(g*r-l*n)+f*(g*u-k*n));this.rawData[14]=-a*(c*(h*r-l*p)-d*(g*r-l*n)+f*(g*p-h*n));this.rawData[15]=a*(c*(h*u-k*p)-d*(g*u-k*n)+e*(g*p-h*n))}return b};V.prototype.invert=V.prototype.Jc;
V.prototype.hm=function(a,b,c){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;null==b&&(b=new U(0,0,-1));null==c&&(c=new U(0,-1,0));b=b.tc(a);c=c.clone();var d;b.normalize();c.normalize();d=b.clone();d.Lh(c.lh(b));c=c.tc(d);0<c.length?c.normalize():c=0!=b.x?new U(-b.y,b.x,0):new U(1,0,0);d=c.ih(b);d.normalize();this.rawData[0]=d.x;this.rawData[4]=d.y;this.rawData[8]=d.z;this.rawData[12]=0;this.rawData[1]=c.x;this.rawData[5]=c.y;this.rawData[9]=c.z;this.rawData[13]=0;this.rawData[2]=
b.x;this.rawData[6]=b.y;this.rawData[10]=b.z;this.rawData[14]=0;this.rawData[3]=a.x;this.rawData[7]=a.y;this.rawData[11]=a.z;this.rawData[15]=1};V.prototype.pointAt=V.prototype.hm;
V.prototype.If=function(a){var b=a.rawData[0],c=a.rawData[4],d=a.rawData[8],e=a.rawData[12],f=a.rawData[1],g=a.rawData[5],h=a.rawData[9],k=a.rawData[13],l=a.rawData[2],n=a.rawData[6],p=a.rawData[10],u=a.rawData[14],r=a.rawData[3],x=a.rawData[7],v=a.rawData[11];a=a.rawData[15];var B=this.rawData[0],K=this.rawData[4],La=this.rawData[8],va=this.rawData[12],Ha=this.rawData[1],ga=this.rawData[5],sa=this.rawData[9],ca=this.rawData[13],Ia=this.rawData[2],Qa=this.rawData[6],pb=this.rawData[10],Ub=this.rawData[14],
Vb=this.rawData[3],Wb=this.rawData[7],Xb=this.rawData[11],Yb=this.rawData[15];this.rawData[0]=b*B+f*K+l*La+r*va;this.rawData[1]=b*Ha+f*ga+l*sa+r*ca;this.rawData[2]=b*Ia+f*Qa+l*pb+r*Ub;this.rawData[3]=b*Vb+f*Wb+l*Xb+r*Yb;this.rawData[4]=c*B+g*K+n*La+x*va;this.rawData[5]=c*Ha+g*ga+n*sa+x*ca;this.rawData[6]=c*Ia+g*Qa+n*pb+x*Ub;this.rawData[7]=c*Vb+g*Wb+n*Xb+x*Yb;this.rawData[8]=d*B+h*K+p*La+v*va;this.rawData[9]=d*Ha+h*ga+p*sa+v*ca;this.rawData[10]=d*Ia+h*Qa+p*pb+v*Ub;this.rawData[11]=d*Vb+h*Wb+p*Xb+
v*Yb;this.rawData[12]=e*B+k*K+u*La+a*va;this.rawData[13]=e*Ha+k*ga+u*sa+a*ca;this.rawData[14]=e*Ia+k*Qa+u*pb+a*Ub;this.rawData[15]=e*Vb+k*Wb+u*Xb+a*Yb};V.prototype.prepend=V.prototype.If;V.prototype.im=function(a,b,c){c='undefined'!==typeof c?c:null;a=Uk(b.x,b.y,b.z,a);null!=c&&a.gf(c.x,c.y,c.z);this.If(a)};V.prototype.prependRotation=V.prototype.im;
V.prototype.jm=function(a,b,c){this.rawData[0]*=a;this.rawData[1]*=b;this.rawData[2]*=c;this.rawData[4]*=a;this.rawData[5]*=b;this.rawData[6]*=c;this.rawData[8]*=a;this.rawData[9]*=b;this.rawData[10]*=c;this.rawData[12]*=a;this.rawData[13]*=b;this.rawData[14]*=c};V.prototype.prependScale=V.prototype.jm;V.prototype.km=function(a,b,c){Tk.Hc();Tk.position=new U(a,b,c);this.If(Tk)};V.prototype.prependTranslation=V.prototype.km;
V.prototype.ym=function(a,b){b='undefined'!==typeof b?b:null;if(3>a.length||0==a[2].x||0==a[2].y||0==a[2].z)return!1;null==b&&(b=ld);this.Hc();var c=[];c[0]=c[1]=c[2]=a[2].x;c[4]=c[5]=c[6]=a[2].y;c[8]=c[9]=c[10]=a[2].z;switch(b){case ld:var d=Math.cos(a[1].x),e=Math.cos(a[1].y),f=Math.cos(a[1].z),g=Math.sin(a[1].x),h=Math.sin(a[1].y),k=Math.sin(a[1].z);this.rawData[0]=e*f*c[0];this.rawData[1]=e*k*c[1];this.rawData[2]=-h*c[2];this.rawData[3]=0;this.rawData[4]=(g*h*f-d*k)*c[4];this.rawData[5]=(g*h*
k+d*f)*c[5];this.rawData[6]=g*e*c[6];this.rawData[7]=0;this.rawData[8]=(d*h*f+g*k)*c[8];this.rawData[9]=(d*h*k-g*f)*c[9];this.rawData[10]=d*e*c[10];this.rawData[11]=0;this.rawData[12]=a[0].x;this.rawData[13]=a[0].y;this.rawData[14]=a[0].z;this.rawData[15]=1;break;default:d=a[1].x,e=a[1].y,f=a[1].z,g=a[1].w,b==Rc&&(d*=Math.sin(g/2),e*=Math.sin(g/2),f*=Math.sin(g/2),g=Math.cos(g/2)),this.rawData[0]=(1-2*e*e-2*f*f)*c[0],this.rawData[1]=(2*d*e+2*g*f)*c[1],this.rawData[2]=(2*d*f-2*g*e)*c[2],this.rawData[3]=
0,this.rawData[4]=(2*d*e-2*g*f)*c[4],this.rawData[5]=(1-2*d*d-2*f*f)*c[5],this.rawData[6]=(2*e*f+2*g*d)*c[6],this.rawData[7]=0,this.rawData[8]=(2*d*f+2*g*e)*c[8],this.rawData[9]=(2*e*f-2*g*d)*c[9],this.rawData[10]=(1-2*d*d-2*e*e)*c[10],this.rawData[11]=0,this.rawData[12]=a[0].x,this.rawData[13]=a[0].y,this.rawData[14]=a[0].z,this.rawData[15]=1}0==a[2].x&&(this.rawData[0]=1E-15);0==a[2].y&&(this.rawData[5]=1E-15);0==a[2].z&&(this.rawData[10]=1E-15);return!(0==a[2].x||0==a[2].y||0==a[2].y)};
V.prototype.recompose=V.prototype.ym;V.prototype.Zm=function(a){var b=a.x,c=a.y;a=a.z;return new U(b*this.rawData[0]+c*this.rawData[4]+a*this.rawData[8]+this.rawData[12],b*this.rawData[1]+c*this.rawData[5]+a*this.rawData[9]+this.rawData[13],b*this.rawData[2]+c*this.rawData[6]+a*this.rawData[10]+this.rawData[14],b*this.rawData[3]+c*this.rawData[7]+a*this.rawData[11]+this.rawData[15])};V.prototype.transformVector=V.prototype.Zm;
V.prototype.$m=function(a,b){for(var c=0;c+3<=a.length;){var d=a[c],e=a[c+1],f=a[c+2];b[c]=d*this.rawData[0]+e*this.rawData[4]+f*this.rawData[8]+this.rawData[12];b[c+1]=d*this.rawData[1]+e*this.rawData[5]+f*this.rawData[9]+this.rawData[13];b[c+2]=d*this.rawData[2]+e*this.rawData[6]+f*this.rawData[10]+this.rawData[14];c+=3}};V.prototype.transformVectors=V.prototype.$m;
V.prototype.uc=function(){var a=this.rawData.concat();this.rawData[1]=a[4];this.rawData[2]=a[8];this.rawData[3]=a[12];this.rawData[4]=a[1];this.rawData[6]=a[9];this.rawData[7]=a[13];this.rawData[8]=a[2];this.rawData[9]=a[6];this.rawData[11]=a[14];this.rawData[12]=a[3];this.rawData[13]=a[7];this.rawData[14]=a[11]};V.prototype.transpose=V.prototype.uc;y('flash.geom.Matrix3D.interpolate',function(a,b,c){for(var d=new V,e=0;16>e;){var f=e++;d.rawData[f]=a.rawData[f]+(b.rawData[f]-a.rawData[f])*c}return d});
function Uk(a,b,c,d){var e;e=('undefined'!==typeof e?e:null)||new V;d=Math.PI/180*-d;var f=Math.cos(d);d=Math.sin(d);var g=1-f;e.rawData[0]=f+a*a*g;e.rawData[5]=f+b*b*g;e.rawData[10]=f+c*c*g;var f=a*b*g,h=c*d;e.rawData[4]=f+h;e.rawData[1]=f-h;f=a*c*g;h=b*d;e.rawData[8]=f-h;e.rawData[2]=f+h;f=b*c*g;h=a*d;e.rawData[9]=f+h;e.rawData[6]=f-h;return e}
Object.defineProperties(V.prototype,{determinant:{get:function(){return(this.rawData[0]*this.rawData[5]-this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15]-this.rawData[14]*this.rawData[11])-(this.rawData[0]*this.rawData[9]-this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15]-this.rawData[14]*this.rawData[7])+(this.rawData[0]*this.rawData[13]-this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11]-this.rawData[10]*this.rawData[7])+(this.rawData[4]*this.rawData[9]-
this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15]-this.rawData[14]*this.rawData[3])-(this.rawData[4]*this.rawData[13]-this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11]-this.rawData[10]*this.rawData[3])+(this.rawData[8]*this.rawData[13]-this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7]-this.rawData[6]*this.rawData[3])}},position:{get:function(){return new U(this.rawData[12],this.rawData[13],this.rawData[14])},set:function(a){this.rawData[12]=a.x;
this.rawData[13]=a.y;this.rawData[14]=a.z}}});V.prototype.i={names:[{name:'Matrix3D',j:me}]};y(me,V);function Vk(){}y('flash.utils.Endian.BIG_ENDIAN',Wc);y('flash.utils.Endian.LITTLE_ENDIAN',Ie);Vk.prototype.i={names:[{name:'Endian',j:te}]};y(te,Vk);function W(){this.Jg=Wc;this.dataView=new DataView(new ArrayBuffer(0))}W.prototype.Ta=!1;W.prototype.m=0;W.prototype.Mg=0;W.prototype.om=function(a,b,c){a.position='undefined'!==typeof b?b:0;a.Xh(this,this.position,'undefined'!==typeof c?c:0)};W.prototype.readBytes=W.prototype.om;W.prototype.Xh=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:0;0==c&&(c=a.length-b);Wk(this,c);a.position=b;for(b=0;b<c;b++)this.Xf(a.Hh())};W.prototype.writeBytes=W.prototype.Xh;
W.prototype.en=function(a){Wk(this,1);this.dataView.setInt8(this.m,a?1:0);this.m++};W.prototype.writeBoolean=W.prototype.en;W.prototype.Xf=function(a){Wk(this,1);this.dataView.setInt8(this.m,a);this.m++};W.prototype.writeByte=W.prototype.Xf;W.prototype.Zh=function(a){Wk(this,2);this.dataView.setInt16(this.m,a,this.Ta);this.m+=2};W.prototype.writeShort=W.prototype.Zh;W.prototype.hn=function(a){Wk(this,4);this.dataView.setInt32(this.m,a,this.Ta);this.m+=4};W.prototype.writeInt=W.prototype.hn;
W.prototype.ln=function(a){Wk(this,4);this.dataView.setUint32(this.m,a,this.Ta);this.m+=4};W.prototype.writeUnsignedInt=W.prototype.ln;W.prototype.gn=function(a){Wk(this,4);this.dataView.setFloat32(this.m,a,this.Ta);this.m+=4};W.prototype.writeFloat=W.prototype.gn;W.prototype.fn=function(a){Wk(this,8);this.dataView.setFloat64(this.m,a,this.Ta);this.m+=8};W.prototype.writeDouble=W.prototype.fn;
W.prototype.Yh=function(a,b){function c(a){return a.charCodeAt(0)}try{var d=(new TextEncoder(b)).encode(a)}catch(f){d=new Uint8Array(a.split(aa).map(c))}for(var e=0;e<d.length;e++)this.Xf(d[e])};W.prototype.writeMultiByte=W.prototype.Yh;W.prototype.kn=function(a){var b=this.m+=2;this.Tc(a);a=this.m;this.m=b-2;this.Zh(b-a);this.m=a};W.prototype.writeUTF=W.prototype.kn;W.prototype.Tc=function(a){this.Yh(a,Pf)};W.prototype.writeUTFBytes=W.prototype.Tc;
W.prototype.nm=function(){var a=0!=this.dataView.getInt8(this.m);this.m++;return a};W.prototype.readBoolean=W.prototype.nm;W.prototype.Hh=function(){var a=this.dataView.getInt8(this.m);this.m++;return a};W.prototype.readByte=W.prototype.Hh;W.prototype.wm=function(){var a=this.dataView.getUint8(this.m);this.m++;return a};W.prototype.readUnsignedByte=W.prototype.wm;W.prototype.um=function(){var a=this.dataView.getInt16(this.m,this.Ta);this.m+=2;return a};W.prototype.readShort=W.prototype.um;
W.prototype.Jh=function(){var a=this.dataView.getUint16(this.m,this.Ta);this.m+=2;return a};W.prototype.readUnsignedShort=W.prototype.Jh;W.prototype.sm=function(){var a=this.dataView.getInt32(this.m,this.Ta);this.m+=4;return a};W.prototype.readInt=W.prototype.sm;W.prototype.xm=function(){var a=this.dataView.getUint32(this.m,this.Ta);this.m+=4;return a};W.prototype.readUnsignedInt=W.prototype.xm;W.prototype.qm=function(){var a=this.dataView.getFloat32(this.m,this.Ta);this.m+=4;return a};
W.prototype.readFloat=W.prototype.qm;W.prototype.pm=function(){var a=this.dataView.getFloat64(this.m,this.Ta);this.m+=8;return a};W.prototype.readDouble=W.prototype.pm;W.prototype.Ih=function(a,b){var c=new Uint8Array(a);c.set(new Uint8Array(this.dataView.buffer.slice(this.m,this.m+a)));this.m+=a;try{var d=(new TextDecoder(b)).decode(c)}catch(e){d=String.fromCharCode.apply(null,c)}return d};W.prototype.readMultiByte=W.prototype.Ih;W.prototype.vm=function(){return this.Od(this.Jh())};
W.prototype.readUTF=W.prototype.vm;W.prototype.Od=function(a){return this.Ih(a,Pf)};W.prototype.readUTFBytes=W.prototype.Od;function Wk(a,b){a.m+b>a.length&&(a.length=a.m+b)}W.prototype.jn=m();W.prototype.writeObject=W.prototype.jn;W.prototype.tm=w(null);W.prototype.readObject=W.prototype.tm;W.prototype.kl=m();W.prototype.deflate=W.prototype.kl;W.prototype.Wk=m();W.prototype.compress=W.prototype.Wk;W.prototype.Fd=m();W.prototype.inflate=W.prototype.Fd;W.prototype.an=m();W.prototype.uncompress=W.prototype.an;
W.prototype.toString=function(){this.position=0;return this.Od(this.length)};W.prototype.toString=W.prototype.toString;W.prototype.clear=function(){this.length=this.position=0};W.prototype.clear=W.prototype.clear;W.prototype.Sk=w(0);W.prototype.atomicCompareAndSwapIntAt=W.prototype.Sk;W.prototype.Tk=w(0);W.prototype.atomicCompareAndSwapLength=W.prototype.Tk;
Object.defineProperties(W.prototype,{length:{get:t('Mg'),set:function(a){this.Mg=a;var b=new Uint8Array(a);b.set(new Uint8Array(this.dataView.buffer.byteLength>a?this.dataView.buffer.slice(0,a):this.dataView.buffer));this.dataView=new DataView(b.buffer)}},bytesAvailable:{get:function(){return this.length-this.position}},position:{get:t('m'),set:q('m')},objectEncoding:{get:w(0),set:m()},endian:{get:t('Jg'),set:function(a){this.Jg=a;this.Ta=a==Ie}},shareable:{get:w(!1),set:m()}});
Object.defineProperties(W,{defaultObjectEncoding:{get:w(0),set:m()}});W.prototype.i={names:[{name:'ByteArray',j:se}]};y(se,W);function X(a,b){b='undefined'!==typeof b?b:!1;this.fa=new V;this.Z=new V;this.matr=new Q;this.T=new Q;this.zd=[];this.Pf=[];this.Gh={};this.Wh={};this.ah={};this.sh={};this.xb=new uk(null,null,null);this.Ol=b;this.stage=a;this.canvas=a.canvas;this.ctx=new T;this.ctx.canvas=this.canvas;this.ctx.gl=z(this.canvas.getContext(Vf,{alpha:!1})||this.canvas.getContext(nd,{alpha:!1}),WebGLRenderingContext);this.Sh();this.ctx.Mh(Bf,mf);this.ctx.Nh(ef);var c=new Float32Array([0,0,1,0,0,1,1,1]),d=new Uint16Array([0,
2,1,2,1,3]);this.Vk=new uk(c,c,d);var e=Pc,c=rf;this.$g=this.ctx.createProgram();d=new W;d.Tc(e);e=new W;e.Tc(c);this.$g.upload(d,e);e=Qc;c=sf;this.bh=this.ctx.createProgram();d=new W;d.Tc(e);e=new W;e.Tc(c);this.bh.upload(d,e);a.addEventListener(wf,lg(this.Sh,this,Ef));b&&a.addEventListener(jd,lg(this.Sm,this,Df))}X.prototype.Qf=-1;X.prototype.Sh=function(){this.ctx.dh(this.stage.stageWidth,this.stage.stageHeight,0,!1)};X.prototype.arc=function(a,b,c,d,e){this.currentPath.path.arc(a,b,c,d,e);return null};
X.prototype.arc=X.prototype.arc;X.prototype.arcTo=w(null);X.prototype.arcTo=X.prototype.arcTo;X.prototype.beginPath=function(){this.currentPath=new xk;this.currentPath.path=z(mk.Ad(),wk);this.currentPath.matr.ja(this.matr);return null};X.prototype.beginPath=X.prototype.beginPath;X.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.currentPath.path.ib(a,b,c,d,e,f);return null};X.prototype.bezierCurveTo=X.prototype.bezierCurveTo;
X.prototype.clearRect=function(){this.ctx.clear(1,1,1);this.zd.length=0;return null};X.prototype.clearRect=X.prototype.clearRect;X.prototype.clip=w(null);X.prototype.clip=X.prototype.clip;X.prototype.closePath=w(null);X.prototype.closePath=X.prototype.closePath;X.prototype.createImageData=w(null);X.prototype.createImageData=X.prototype.createImageData;X.prototype.createLinearGradient=w(null);X.prototype.createLinearGradient=X.prototype.createLinearGradient;
X.prototype.createPattern=function(a,b){return new pk(a,b)};X.prototype.createPattern=X.prototype.createPattern;X.prototype.createRadialGradient=w(null);X.prototype.createRadialGradient=X.prototype.createRadialGradient;X.prototype.drawImage=function(a){this.le(a,this.Vk,this.matr,null,!0,[this.globalRed,this.globalGreen,this.globalBlue,this.globalAlpha]);return null};X.prototype.drawImage=X.prototype.drawImage;
X.prototype.me=function(a){this.currentPath=a.glpath2d;null==a.glpath2d&&(this.currentPath=a.glpath2d=new xk);this.currentPath.path=z(a,wk);this.currentPath.matr.ja(this.matr);return null};X.prototype.drawPath=X.prototype.me;X.prototype.le=function(a,b,c,d,e,f){if(this.Ol)this.zd.push([a,b,c?c.clone():null,d?d.clone():null,e,f]);else{var g=b.color;g.oa=!0;for(var g=g.data,h=g.length,k=0;k<h;k+=4)g[k]=f[0],g[k+1]=f[1],g[k+2]=f[2],g[k+3]=f[3];this.Rc(a,b,c,d,e)}};X.prototype.drawImageInternal=X.prototype.le;
X.prototype.Rc=function(a,b,c,d,e){kk++;if(ig(a,Array))this.ctx.Mf(this.bh);else{var f,g=a.Kk;if(null==g){f=Xk(a.width);var h=Xk(a.height),g=new S(f,h,!0,0);g.of(a);var k=this.ctx.createTexture(f,h,Vc,!1);k.Sc(g,1);g=new ok;g.img=a;g.texture=k;g.width=f;g.height=h;a.Kk=g}f=g;this.ctx.Mf(this.$g);this.ctx.Qh(0,f.texture);this.ctx.xe(2,b.uv.ec(this.ctx),0,ve)}this.ctx.xe(0,b.pos.ec(this.ctx),0,ve);this.ctx.xe(1,b.color.ec(this.ctx),0,xe);c?(this.fa.rawData[0]=2*c.a/this.stage.stageWidth,this.fa.rawData[1]=
2*-c.b/this.stage.stageHeight,this.fa.rawData[4]=2*c.c/this.stage.stageWidth,this.fa.rawData[5]=2*-c.d/this.stage.stageHeight,this.fa.rawData[12]=2*c.tx/this.stage.stageWidth-1,this.fa.rawData[13]=1-2*c.ty/this.stage.stageHeight):(this.fa.rawData[0]=2/this.stage.stageWidth,this.fa.rawData[1]=0,this.fa.rawData[4]=0,this.fa.rawData[5]=-2/this.stage.stageHeight,this.fa.rawData[12]=-1,this.fa.rawData[13]=1);e&&(this.fa.rawData[0]*=a.width,this.fa.rawData[1]*=a.width,this.fa.rawData[4]*=a.height,this.fa.rawData[5]*=
a.height);this.ctx.Nf(Uf,0,this.fa);ig(a,Array)||(d?(c?(this.T.ja(c),this.T.Jc(),this.T.concat(d)):this.T.ja(d),this.Z.rawData[0]=this.T.a/f.width,this.Z.rawData[1]=-this.T.b/f.width,this.Z.rawData[4]=-this.T.c/f.height,this.Z.rawData[5]=this.T.d/f.height,this.Z.rawData[12]=-this.T.tx/f.width,this.Z.rawData[13]=-this.T.ty/f.height,e&&(this.Z.rawData[0]*=a.width,this.Z.rawData[1]*=a.width,this.Z.rawData[4]*=a.height,this.Z.rawData[5]*=a.height)):(this.Z.rawData[0]=1/f.width,this.Z.rawData[1]=0,this.Z.rawData[4]=
0,this.Z.rawData[5]=1/f.height,this.Z.rawData[12]=0,this.Z.rawData[13]=0,e&&(this.Z.rawData[0]*=a.width,this.Z.rawData[5]*=a.height)),this.ctx.Nf(Uf,4,this.Z));this.ctx.Bd(b.index.ec(this.ctx),0,b.Hf)};
X.prototype.Sm=function(){kk=0;for(var a=this.zd.length,b=[],c,d,e=0;e<=a;e++){var f=this.zd[e]||[],g=f[0],h=f[1];ig(d,Array)&&ig(g,Array)||d==g||(c&&(c[1]=e-1),g&&(c=[e,-1,0,0,g],b.push(c),d=g));h&&(c[2]+=h.pos.data.length/2,c[3]+=h.index.data.length/3)}a=b.length;for(e=0;e<a;e++){c=b[e];g=c[4];d=!ig(g,Array);var k=c[3],l=Xk(c[2]),n=Xk(k),p=this.Gh[l],u=this.Wh[l],h=this.ah[l],f=this.sh[n];null==p&&(p=this.Gh[l]=new tk(new Float32Array(2*l),2,qf),kg(Uc,l));null==u&&d&&(u=this.Wh[l]=new tk(new Float32Array(2*
l),2,Qf));null==h&&(h=this.ah[l]=new tk(new Float32Array(4*l),4,bd));null==f&&(f=this.sh[n]=new sk(new Uint16Array(3*n)),kg(Tc,n));l=p.data;if(d)var r=u.data;var n=h.data,x=f.data;this.xb.index=f;this.xb.pos=p;this.xb.uv=u;this.xb.color=h;this.xb.Hf=k;p=k=0;if(d)var v=g.width,B=g.height;for(u=c[0];u<=c[1];u++){var f=this.zd[u],h=f[1],K=f[2],La=f[4],va=f[5];if(d){var Ha=f[3];Ha&&(this.T.ja(K),this.T.Jc(),this.T.concat(Ha),this.T.b*=-1,this.T.c*=-1,this.T.tx*=-1,this.T.ty*=-1)}var ga=h.pos.data;if(d)var sa=
h.uv.data;for(var f=ga.length/2,ca=0;ca<f;ca++){var Ia=ga[2*ca],Qa=ga[2*ca+1];La&&(Ia*=v,Qa*=B);var pb=K.a*Ia+K.c*Qa+K.tx,Ia=K.d*Qa+K.b*Ia+K.ty;l[2*(k+ca)]=pb;l[2*(k+ca)+1]=Ia;d&&(Ia=sa[2*ca],Qa=sa[2*ca+1],La&&(Ia*=v,Qa*=B),Ha?(pb=this.T.a*Ia+this.T.c*Qa+this.T.tx,Ia=this.T.d*Qa+this.T.b*Ia+this.T.ty,r[2*(k+ca)]=pb,r[2*(k+ca)+1]=Ia):(r[2*(k+ca)]=Ia,r[2*(k+ca)+1]=Qa));n[4*(k+ca)]=va[0];n[4*(k+ca)+1]=va[1];n[4*(k+ca)+2]=va[2];n[4*(k+ca)+3]=va[3]}h=h.index.data;K=h.length;for(ca=0;ca<K;ca++)x[p+ca]=
h[ca]+k;k+=f;p+=K}this.xb.index.oa=!0;this.xb.pos.oa=!0;d&&(this.xb.uv.oa=!0);this.xb.color.oa=!0;this.Rc(g,this.xb,null,null,!1)}};X.prototype.fill=function(){if(ig(this.fillStyle,pk)){var a=z(this.fillStyle,pk);this.le(a.image,this.currentPath.drawable,this.currentPath.matr,this.matr,!1,[this.globalRed,this.globalGreen,this.globalBlue,this.globalAlpha])}else this.le(this.fillStyle,this.currentPath.drawable,this.currentPath.matr,null,!1,this.fillStyle);return null};X.prototype.fill=X.prototype.fill;
X.prototype.fillRect=w(null);X.prototype.fillRect=X.prototype.fillRect;X.prototype.fillText=w(null);X.prototype.fillText=X.prototype.fillText;X.prototype.getImageData=w(null);X.prototype.getImageData=X.prototype.getImageData;X.prototype.isPointInPath=w(!1);X.prototype.isPointInPath=X.prototype.isPointInPath;X.prototype.lineTo=function(a,b){this.currentPath.path.lineTo(a,b);return null};X.prototype.lineTo=X.prototype.lineTo;X.prototype.measureText=w(null);X.prototype.measureText=X.prototype.measureText;
X.prototype.moveTo=function(a,b){this.currentPath.path.moveTo(a,b);return null};X.prototype.moveTo=X.prototype.moveTo;X.prototype.putImageData=w(null);X.prototype.putImageData=X.prototype.putImageData;X.prototype.quadraticCurveTo=function(a,b,c,d){this.currentPath.path.Fa(a,b,c,d);return null};X.prototype.quadraticCurveTo=X.prototype.quadraticCurveTo;
X.prototype.rect=function(a,b,c,d){this.currentPath.path.moveTo(a,b);this.currentPath.path.lineTo(a+c,b);this.currentPath.path.lineTo(a+c,b+d);this.currentPath.path.lineTo(a,b+d);this.currentPath.path.closePath();return null};X.prototype.rect=X.prototype.rect;X.prototype.restore=function(){var a=this.Pf[this.Qf--];this.matr.ja(a.matr);return null};X.prototype.restore=X.prototype.restore;X.prototype.rotate=function(a){this.matr.rotate(a);return null};X.prototype.rotate=X.prototype.rotate;
X.prototype.save=function(){var a=this.Pf[++this.Qf];null==a&&(a=this.Pf[this.Qf]=new rk);a.matr.ja(this.matr);return null};X.prototype.save=X.prototype.save;X.prototype.scale=function(a,b){this.matr.scale(a,b);return null};X.prototype.scale=X.prototype.scale;X.prototype.setTransform=function(a,b,c,d,e,f){this.matr.Nb(a,b,c,d,e,f);return null};X.prototype.setTransform=X.prototype.setTransform;X.prototype.stroke=w(null);X.prototype.stroke=X.prototype.stroke;X.prototype.strokeRect=w(null);
X.prototype.strokeRect=X.prototype.strokeRect;X.prototype.strokeText=w(null);X.prototype.strokeText=X.prototype.strokeText;X.prototype.transform=function(a,b,c,d,e,f){this.T.Nb(a,b,c,d,e,f);this.matr.concat(this.T);return null};X.prototype.transform=X.prototype.transform;X.prototype.translate=function(a,b){this.matr.translate(a,b);return null};X.prototype.translate=X.prototype.translate;function Xk(a){for(var b=1;b<a;)b*=2;return b}X.prototype.i={names:[{name:'GLCanvasRenderingContext2D',j:sd}]};
y(sd,X);function Yk(){Jk.call(this)}cg(Yk,Jk);Yk.prototype.Kh=function(){this.bf=new T;var a=z(document.createElement(Yc),HTMLCanvasElement);this.bf.canvas=a;a.style.position=Mc;a.style.left=0;a.style.top=0;a.style.zIndex=0;document.body.appendChild(a);this.bf.gl=z(a.getContext(Vf,{alpha:!1})||a.getContext(nd,{alpha:!1}),WebGLRenderingContext);this.dispatchEvent(new Rk(cd))};Yk.prototype.requestContext3D=Yk.prototype.Kh;Yk.prototype.Am=function(){this.Kh()};Yk.prototype.requestContext3DMatchingProfiles=Yk.prototype.Am;
Object.defineProperties(Yk.prototype,{context3D:{get:t('bf')},x:{get:w(0),set:m()},y:{get:w(0),set:m()},visible:{get:w(!1),set:m()}});Yk.prototype.i={names:[{name:'Stage3D',j:Rd}]};y(Rd,Yk);function Zk(a,b,c,d,e,f,g,h,k,l,n){d='undefined'!==typeof d?d:void 0;e='undefined'!==typeof e?e:void 0;f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:!1;h='undefined'!==typeof h?h:!1;k='undefined'!==typeof k?k:!1;l='undefined'!==typeof l?l:!1;n='undefined'!==typeof n?n:0;Rk.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.df=d;this.ef=e;this.pc=f;this.jc=g;this.hc=h;this.sc=k;this.sf=l;this.tf=n}cg(Zk,Rk);y('flash.events.MouseEvent.CLICK',ad);
y('flash.events.MouseEvent.DOUBLE_CLICK',id);y('flash.events.MouseEvent.MOUSE_DOWN',Oe);y('flash.events.MouseEvent.MOUSE_MOVE',Pe);y('flash.events.MouseEvent.MOUSE_OUT',Qe);y('flash.events.MouseEvent.MOUSE_OVER',Re);y('flash.events.MouseEvent.MOUSE_UP',Se);y('flash.events.MouseEvent.RELEASE_OUTSIDE','releaseOutside');y('flash.events.MouseEvent.MOUSE_WHEEL',Te);y('flash.events.MouseEvent.ROLL_OUT','rollOut');y('flash.events.MouseEvent.ROLL_OVER',zf);y('flash.events.MouseEvent.MIDDLE_CLICK','middleClick');
y('flash.events.MouseEvent.MIDDLE_MOUSE_DOWN','middleMouseDown');y('flash.events.MouseEvent.MIDDLE_MOUSE_UP','middleMouseUp');y('flash.events.MouseEvent.RIGHT_CLICK','rightClick');y('flash.events.MouseEvent.RIGHT_MOUSE_DOWN','rightMouseDown');y('flash.events.MouseEvent.RIGHT_MOUSE_UP','rightMouseUp');y('flash.events.MouseEvent.CONTEXT_MENU',dd);Zk.prototype.df=0;Zk.prototype.ef=0;
Zk.prototype.clone=function(){return new Zk(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.pc,this.jc,this.hc,this.sc,this.sf,this.tf)};Zk.prototype.clone=Zk.prototype.clone;Zk.prototype.toString=function(){return this.ne()};Zk.prototype.toString=Zk.prototype.toString;Zk.prototype.Rf=m();Zk.prototype.updateAfterEvent=Zk.prototype.Rf;
Object.defineProperties(Zk.prototype,{localX:{get:t('df'),set:q('df')},localY:{get:t('ef'),set:q('ef')},relatedObject:{get:t('pc'),set:q('pc')},ctrlKey:{get:t('jc'),set:q('jc')},altKey:{get:t('hc'),set:q('hc')},shiftKey:{get:t('sc'),set:q('sc')},buttonDown:{get:t('sf'),set:q('sf')},delta:{get:t('tf'),set:q('tf')},stageX:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},stageY:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},isRelatedObjectInaccessible:{get:t('wf'),
set:q('wf')},movementX:{get:w(0),set:m()},movementY:{get:w(0),set:m()}});Zk.prototype.i={names:[{name:'MouseEvent',j:ie}]};y(ie,Zk);function $k(a,b,c,d,e,f,g,h,k,l,n,p,u,r){d='undefined'!==typeof d?d:0;e='undefined'!==typeof e?e:!1;f='undefined'!==typeof f?f:NaN;g='undefined'!==typeof g?g:NaN;h='undefined'!==typeof h?h:NaN;k='undefined'!==typeof k?k:NaN;l='undefined'!==typeof l?l:NaN;n='undefined'!==typeof n?n:null;p='undefined'!==typeof p?p:!1;u='undefined'!==typeof u?u:!1;r='undefined'!==typeof r?r:!1;Rk.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.Ff=d;this.vf=e;this.localX=f;this.localY=g;this.Cf=
h;this.Df=k;this.Bf=l;this.pc=n;this.jc=p;this.hc=u;this.sc=r}cg($k,Rk);y('flash.events.TouchEvent.TOUCH_BEGIN',Hf);y('flash.events.TouchEvent.TOUCH_END',If);y('flash.events.TouchEvent.TOUCH_MOVE',Jf);y('flash.events.TouchEvent.TOUCH_OVER','touchOver');y('flash.events.TouchEvent.TOUCH_OUT','touchOut');y('flash.events.TouchEvent.TOUCH_ROLL_OVER','touchRollOver');y('flash.events.TouchEvent.TOUCH_ROLL_OUT','touchRollOut');y('flash.events.TouchEvent.TOUCH_TAP','touchTap');
y('flash.events.TouchEvent.PROXIMITY_BEGIN','proximityBegin');y('flash.events.TouchEvent.PROXIMITY_END','proximityEnd');y('flash.events.TouchEvent.PROXIMITY_MOVE','proximityMove');y('flash.events.TouchEvent.PROXIMITY_OUT','proximityOut');y('flash.events.TouchEvent.PROXIMITY_OVER','proximityOver');y('flash.events.TouchEvent.PROXIMITY_ROLL_OUT','proximityRollOut');y('flash.events.TouchEvent.PROXIMITY_ROLL_OVER','proximityRollOver');
$k.prototype.clone=function(){return new $k(this.type,this.bubbles,this.cancelable,this.Ff,this.vf,this.localX,this.localY,this.Cf,this.Df,this.Bf,this.pc,this.jc,this.hc,this.sc)};$k.prototype.clone=$k.prototype.clone;$k.prototype.toString=function(){return this.ne()};$k.prototype.toString=$k.prototype.toString;$k.prototype.Rf=m();$k.prototype.updateAfterEvent=$k.prototype.Rf;
Object.defineProperties($k.prototype,{localX:{get:w(0),set:m()},localY:{get:w(0),set:m()},touchPointID:{get:t('Ff'),set:q('Ff')},isPrimaryTouchPoint:{get:t('vf'),set:q('vf')},sizeX:{get:t('Cf'),set:q('Cf')},sizeY:{get:t('Df'),set:q('Df')},pressure:{get:t('Bf'),set:q('Bf')},relatedObject:{get:t('pc'),set:q('pc')},ctrlKey:{get:t('jc'),set:q('jc')},altKey:{get:t('hc'),set:q('hc')},shiftKey:{get:t('sc'),set:q('sc')},stageX:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},stageY:{get:function(){return isNaN(this.localX)||
isNaN(this.localY)?Number.NaN:0}},isRelatedObjectInaccessible:{get:t('wf'),set:q('wf')}});$k.prototype.i={names:[{name:'TouchEvent',j:je}]};y(je,$k);function al(){Jk.call(this);this.Ug=window.innerWidth;this.Tg=window.innerHeight;0==lk&&(lk=Date.now());this.frameRate=60;this.gb();this.Jk=[new Yk,new Yk,new Yk,new Yk].slice();window.addEventListener(wf,lg(this.dn,this,Wf),!1)}cg(al,Jk);Yf=al.prototype;Yf.Fb=0;Yf.Gb=0;Yf.te=!1;Yf.Gf=!1;Yf.dn=function(){this.Ug=window.innerWidth;this.Tg=window.innerHeight;this.dispatchEvent(new Rk(wf))};
Yf.gb=function(){nk.call(window,lg(this.gb,this,Lc));this.te&&(this.dispatchEvent(new Zk(Pe,!0,!1,this.Fb,this.Gb)),this.te=!1);this.Gf&&(this.dispatchEvent(new $k(Jf,!0,!1,0,!0,this.Fb,this.Gb)),this.Gf=!1);this.dispatchEvent(new Rk(jd))};Yf.Nl=m();al.prototype.invalidate=al.prototype.Nl;al.prototype.Ql=w(!1);al.prototype.isFocusInaccessible=al.prototype.Ql;
al.prototype.ie=function(a){var b,c;switch(a.type){case Kf:b=If;c=Se;break;case Lf:b=If;c=Se;break;case Mf:b=Jf;c=Pe;break;case Nf:b=Hf,c=Oe,a.preventDefault()}b&&(a.targetTouches.length&&(this.Fb=a.targetTouches[0].pageX-this.canvas.offsetLeft,this.Gb=a.targetTouches[0].pageY-this.canvas.offsetTop),this.Gc(b)&&(b!=Jf?this.dispatchEvent(new $k(b,!0,!1,0,!0,this.Fb,this.Gb)):this.Gf=!0),this.Gc(c)&&(c!=Pe?this.dispatchEvent(new Zk(c,!0,!1,this.Fb,this.Gb)):this.te=!0),b==If&&this.Gc(ad)&&this.dispatchEvent(new Zk(ad,
!0,!1,this.Fb,this.Gb)))};al.prototype.hb=function(a){var b;switch(a.type){case ad:b=ad;break;case ed:b=dd;break;case fd:b=id;break;case Ue:b=Oe;break;case Ve:b=zf;break;case We:b=Qe;break;case Xe:b=Pe;break;case Ze:b=Re;break;case Ye:b=Qe;break;case $e:b=Se;break;case af:b=Te}b&&(this.Fb=a.pageX-this.canvas.offsetLeft,this.Gb=a.pageY-this.canvas.offsetTop,this.Gc(b)&&(b!=Pe?this.dispatchEvent(new Zk(b,!0,!1,this.Fb,this.Gb,null,a.ctrlKey,a.altKey,a.shiftKey,0<a.button,a.wheelDelta)):this.te=!0))};
Object.defineProperties(al.prototype,{frameRate:{get:t('Gk'),set:q('Gk')},scaleMode:{get:w(null),set:m()},align:{get:w(null),set:m()},stageWidth:{get:t('Ug'),set:m()},stageHeight:{get:t('Tg'),set:m()},showDefaultContextMenu:{get:w(!1),set:m()},colorCorrection:{get:w(null),set:m()},colorCorrectionSupport:{get:w(null)},stageFocusRect:{get:w(!1),set:m()},quality:{get:w(null),set:m()},displayState:{get:w(null),set:m()},fullScreenSourceRect:{get:w(null),set:m()},mouseLock:{get:w(!1),set:m()},stage3Ds:{get:t('Jk')},
color:{get:w(0),set:m()},fullScreenWidth:{get:w(0)},fullScreenHeight:{get:w(0)},wmodeGPU:{get:w(!1)},softKeyboardRect:{get:w(null)},allowsFullScreen:{get:w(!1)},allowsFullScreenInteractive:{get:w(!1)},contentsScaleFactor:{get:w(0)},browserZoomFactor:{get:w(0)},canvas:{get:function(){this.ca||(this.ca=z(document.createElement(Yc),HTMLCanvasElement),this.ca.addEventListener(ad,lg(this.hb,this,Zc),!1),this.ca.addEventListener(ed,lg(this.hb,this,Zc),!1),this.ca.addEventListener(fd,lg(this.hb,this,Zc),
!1),this.ca.addEventListener(Ue,lg(this.hb,this,Zc),!1),this.ca.addEventListener(Ve,lg(this.hb,this,Zc),!1),this.ca.addEventListener(We,lg(this.hb,this,Zc),!1),this.ca.addEventListener(Xe,lg(this.hb,this,Zc),!1),this.ca.addEventListener(Ze,lg(this.hb,this,Zc),!1),this.ca.addEventListener(Ye,lg(this.hb,this,Zc),!1),this.ca.addEventListener($e,lg(this.hb,this,Zc),!1),this.ca.addEventListener(af,lg(this.hb,this,Zc),!1),this.ca.addEventListener(Kf,lg(this.ie,this,$c),!1),this.ca.addEventListener(Lf,lg(this.ie,
this,$c),!1),this.ca.addEventListener(Mf,lg(this.ie,this,$c),!1),this.ca.addEventListener(Nf,lg(this.ie,this,$c),!1),this.ca.width=this.stageWidth,this.ca.height=this.stageHeight,this.ca.style.position=Mc,this.ca.style.left=0,this.ca.style.top=0,this.ca.style.zIndex=1,document.body.appendChild(z(this.ca,HTMLCanvasElement)));return this.ca}},ctx:{get:function(){this.Fg||(this.Fg=this.canvas.getContext(Ca));return this.Fg}},ctx2d:{get:function(){if(!this.Gg){var a=z(document.createElement(Yc),HTMLCanvasElement);
this.Gg=z(a.getContext(Ca),CanvasRenderingContext2D)}return this.Gg}},displayContextInfo:{get:w(null)},mouseX:{get:t('Fb')},mouseY:{get:t('Gb')}});al.prototype.i={names:[{name:'Stage',j:Qd}]};y(Qd,al);function bl(a,b,c,d,e,f,g,h){this.redMultiplier='undefined'!==typeof a?a:1;this.greenMultiplier='undefined'!==typeof b?b:1;this.blueMultiplier='undefined'!==typeof c?c:1;this.alphaMultiplier='undefined'!==typeof d?d:1;this.redOffset='undefined'!==typeof e?e:0;this.greenOffset='undefined'!==typeof f?f:0;this.blueOffset='undefined'!==typeof g?g:0;this.alphaOffset='undefined'!==typeof h?h:0}
bl.prototype.concat=function(a){this.alphaOffset+=this.alphaMultiplier*a.alphaOffset;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=this.redMultiplier*a.redOffset;this.redMultiplier*=a.redMultiplier;this.greenOffset+=this.greenMultiplier*a.greenOffset;this.greenMultiplier*=a.greenMultiplier;this.blueOffset+=this.blueMultiplier*a.blueOffset;this.blueMultiplier*=a.blueMultiplier};bl.prototype.concat=bl.prototype.concat;
bl.prototype.toString=function(){return ea+this.redMultiplier+ra+this.greenMultiplier+na+this.blueMultiplier+ka+this.alphaMultiplier+wa+this.redOffset+ta+this.greenOffset+oa+this.blueOffset+la+this.alphaOffset+ha};bl.prototype.toString=bl.prototype.toString;
Object.defineProperties(bl.prototype,{color:{get:function(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset},set:function(a){this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0;this.redOffset=a>>16&255;this.greenOffset=a>>8&255;this.blueOffset=a&255}}});bl.prototype.i={names:[{name:'ColorTransform',j:ke}]};y(ke,bl);function cl(a){this.Ng=new Q;this.rb=new bl;this.sb=new bl;this.af=new Q;this.cf=new Q;this.dc(a)}Yf=cl.prototype;Yf.hf=!0;Yf.oa=!0;Yf.qf=!0;Yf.dc=q('ke');Yf.Cl=w(null);cl.prototype.getRelativeMatrix3D=cl.prototype.Cl;cl.prototype.Pa=function(){this.qf=this.oa=!0};cl.prototype.updateTransforms=cl.prototype.Pa;cl.prototype.Sf=function(){this.hf=!0};cl.prototype.updateColorTransforms=cl.prototype.Sf;
Object.defineProperties(cl.prototype,{matrix:{get:t('Ng'),set:function(a){this.Ng=a;this.Pa()}},colorTransform:{get:t('rb'),set:function(a){this.rb=a;this.Sf()}},concatenatedMatrix:{get:function(){this.oa&&(this.af.ja(this.matrix),this.ke.parent&&this.af.concat(this.ke.parent.transform.concatenatedMatrix),this.oa=!1);return this.af}},concatenatedColorTransform:{get:function(){this.hf&&(this.sb.alphaOffset=this.rb.alphaOffset,this.sb.alphaMultiplier=this.rb.alphaMultiplier,this.sb.redOffset=this.rb.redOffset,
this.sb.redMultiplier=this.rb.redMultiplier,this.sb.greenOffset=this.rb.greenOffset,this.sb.greenMultiplier=this.rb.greenMultiplier,this.sb.blueOffset=this.rb.blueOffset,this.sb.blueMultiplier=this.rb.blueMultiplier,this.ke.parent&&this.sb.concat(this.ke.parent.transform.concatenatedColorTransform),this.hf=!1);return this.sb}},pixelBounds:{get:w(null)},matrix3D:{get:w(null),set:m()},perspectiveProjection:{get:w(null),set:m()},invMatrix:{get:function(){this.qf&&(this.cf.ja(this.concatenatedMatrix),
this.cf.Jc(),this.qf=!1);return this.cf}}});cl.prototype.i={names:[{name:'Transform',j:qe}]};y(qe,cl);y('flash.utils.getTimer',function(){return Date.now()-lk});function dl(){}dl.prototype.i={names:[{name:'IBitmapDrawable',j:'flash.display.IBitmapDrawable'}]};function el(){Jk.call(this);this.transform=new cl(this);this.innerID=fl++;this.name=Ee+this.innerID;0==this.innerID&&(this.Ea=new al,this.Ea.addEventListener(jd,lg(this.Ck,this,Jc)),this.Ea.addEventListener(ad,lg(this.Dc,this,Kc)),this.Ea.addEventListener(dd,lg(this.Dc,this,Kc)),this.Ea.addEventListener(id,lg(this.Dc,this,Kc)),this.Ea.addEventListener(Oe,lg(this.Dc,this,Kc)),this.Ea.addEventListener(Pe,lg(this.Dc,this,Kc)),this.Ea.addEventListener(Se,lg(this.Dc,this,Kc)))}cg(el,Jk);var fl=0;Yf=el.prototype;
Yf.Qg=0;Yf.Pd=0;Yf.Nd=1;Yf.Vg=!0;Yf.Pa=function(){this.transform.Pa()};el.prototype.updateTransforms=el.prototype.Pa;el.prototype.ph=function(a){return this.transform.invMatrix.Rd(a)};el.prototype.globalToLocal=el.prototype.ph;el.prototype.Tl=function(a){return this.transform.concatenatedMatrix.Rd(a)};el.prototype.localToGlobal=el.prototype.Tl;el.prototype.vl=function(a){return this.Sb(a)};el.prototype.getBounds=el.prototype.vl;
el.prototype.Sb=function(a){var b=this.Cc();return!b||null!=a&&a!=this?this.Cc():b};el.prototype.getRect=el.prototype.Sb;el.prototype.Cc=w(null);el.prototype.__getRect=el.prototype.Cc;el.prototype.Hl=w(!1);el.prototype.hitTestObject=el.prototype.Hl;el.prototype.rh=function(a,b){var c=this.Cc();return c?c.eh(this.ph(new qk(a,b))):!1};el.prototype.hitTestPoint=el.prototype.rh;el.prototype.El=w(null);el.prototype.globalToLocal3D=el.prototype.El;el.prototype.Sl=w(null);el.prototype.local3DToGlobal=el.prototype.Sl;
el.prototype.gb=m();el.prototype.__update=el.prototype.gb;el.prototype.Ck=function(){this.stage.canvas.width!=this.stage.stageWidth&&(this.stage.canvas.width=this.stage.stageWidth);this.stage.canvas.height!=this.stage.stageHeight&&(this.stage.canvas.height=this.stage.stageHeight);var a=this.stage.ctx;a.globalAlpha=1;a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.stage.stageWidth,this.stage.stageHeight);jk=0;this.gb()};
el.prototype.Dc=function(a){var b=this.yd(a);if(a.type==Pe){for(var c=this.Rl;c&&c!=b;)c.dispatchEvent(new Zk(Qe,!1,!1,a.localX,a.localY)),c.dispatchEvent(new Zk(zf,!1,!1,a.localX,a.localY)),c=c.parent;var d=new Zk(Re,!0,!1,a.localX,a.localY),e=new Zk(zf,!0,!1,a.localX,a.localY);b&&b!=c&&(b.dispatchEvent(d),b.dispatchEvent(e));this.Rl=b}b&&b.dispatchEvent(a)};el.prototype.yd=w(null);
el.prototype.dispatchEvent=function(a){var b=el.Ja.dispatchEvent.call(this,a);a.bubbles&&this.parent&&this.parent.dispatchEvent(a);return b};el.prototype.dispatchEvent=el.prototype.dispatchEvent;
Object.defineProperties(el.prototype,{stage:{get:t('Ea'),set:function(a){this.Ea!=a&&((this.Ea=a)?this.dispatchEvent(new Rk(Nc)):this.dispatchEvent(new Rk(uf)))}},root:{get:w(null)},name:{get:t('Ik'),set:q('Ik')},parent:{get:t('_parent')},mask:{get:w(null),set:m()},visible:{get:t('Vg'),set:q('Vg')},x:{get:function(){return this.transform.matrix.tx},set:function(a){this.transform.matrix.tx=a;this.Pa()}},y:{get:function(){return this.transform.matrix.ty},set:function(a){this.transform.matrix.ty=a;this.Pa()}},
z:{get:w(0),set:m()},scaleX:{get:function(){var a=this.transform.matrix;return 0==a.b?a.a:Math.sqrt(a.a*a.a+a.b*a.b)},set:function(a){var b=this.transform.matrix;0==b.c?b.a=a:(b.a=this.Nd*a,b.b=this.Pd*a);this.Pa()}},scaleY:{get:function(){var a=this.transform.matrix;return 0==a.c?a.d:Math.sqrt(a.c*a.c+a.d*a.d)},set:function(a){var b=this.transform.matrix;0==b.c?b.d=a:(b.c=-this.Pd*a,b.d=this.Nd*a);this.Pa()}},scaleZ:{get:w(1),set:m()},mouseX:{get:function(){return this.stage?this.transform.invMatrix.Rd(new qk(this.stage.mouseX,
this.stage.mouseY)).x:0}},mouseY:{get:function(){return this.stage?this.transform.invMatrix.Rd(new qk(this.stage.mouseX,this.stage.mouseY)).y:0}},rotation:{get:t('Qg'),set:function(a){this.Qg=a;var b=this.transform.matrix;a=a*Math.PI/180;this.Pd=Math.sin(a);this.Nd=Math.cos(a);a=this.scaleX;var c=this.scaleY;b.a=this.Nd*a;b.b=this.Pd*a;b.c=-this.Pd*c;b.d=this.Nd*c;this.Pa()}},rotationX:{get:w(0),set:m()},rotationY:{get:w(0),set:m()},rotationZ:{get:w(0),set:m()},alpha:{get:function(){return this.transform.colorTransform.alphaMultiplier},
set:function(a){this.transform.colorTransform.alphaMultiplier=a;this.transform.Sf()}},width:{get:function(){var a=this.Sb(this.parent);return a?a.width:0},set:m()},height:{get:function(){var a=this.Sb(this.parent);return a?a.height:0},set:m()},cacheAsBitmap:{get:w(!1),set:m()},opaqueBackground:{get:w(null),set:m()},scrollRect:{get:w(null),set:m()},filters:{get:w(null),set:m()},blendMode:{get:t('Dk'),set:q('Dk')},scale9Grid:{get:w(null),set:m()},metaData:{get:w(null),set:m()}});
el.prototype.i={names:[{name:'DisplayObject',j:Cd}],Sa:[dl]};y(Cd,el);function gl(){el.call(this)}cg(gl,el);gl.prototype.Pg=!0;gl.prototype.Ig=!1;gl.prototype.Bm=w(!1);gl.prototype.requestSoftKeyboard=gl.prototype.Bm;Object.defineProperties(gl.prototype,{tabEnabled:{get:w(!0),set:m()},tabIndex:{get:w(0),set:m()},focusRect:{get:w(null),set:m()},mouseEnabled:{get:t('Pg'),set:q('Pg')},doubleClickEnabled:{get:t('Ig'),set:q('Ig')},softKeyboardInputAreaOfInterest:{get:w(null),set:m()},needsSoftKeyboard:{get:w(!1),set:m()}});
gl.prototype.i={names:[{name:'InteractiveObject',j:Od}]};y(Od,gl);function Y(){this.children=[];el.call(this)}cg(Y,gl);Y.prototype.Og=!0;Y.prototype.Nk=function(a){return this.ff(a,this.children.length)};Y.prototype.addChild=Y.prototype.Nk;Y.prototype.ff=function(a,b){var c=this.children.indexOf(a);-1!=c&&this.children.splice(c,1);this.children.splice(b,0,a);a.stage=this.stage;a._parent=this;return a};Y.prototype.addChildAt=Y.prototype.ff;Y.prototype.removeChild=function(a){var b=this.children.indexOf(a);return-1!=b?this.Jf(b):a};Y.prototype.removeChild=Y.prototype.removeChild;
Y.prototype.Jf=function(a){var b=this.children[a];b&&(b._parent=null,b.stage=null);this.children.splice(a,1);return b};Y.prototype.removeChildAt=Y.prototype.Jf;Y.prototype.pf=function(a){return this.children.indexOf(a)};Y.prototype.getChildIndex=Y.prototype.pf;Y.prototype.Dm=function(a,b){this.removeChild(a);this.ff(a,b)};Y.prototype.setChildIndex=Y.prototype.Dm;Y.prototype.wl=function(a){return this.children[a]};Y.prototype.getChildAt=Y.prototype.wl;
Y.prototype.xl=function(a){for(var b=this.children.length,c=0;c<b;c++){var d=this.children[c];if(d.name==a)return d}return null};Y.prototype.getChildByName=Y.prototype.xl;Y.prototype.zl=w(null);Y.prototype.getObjectsUnderPoint=Y.prototype.zl;Y.prototype.Qk=w(!1);Y.prototype.areInaccessibleObjectsUnderPoint=Y.prototype.Qk;Y.prototype.contains=function(a){return-1!=this.children.indexOf(a)};Y.prototype.contains=Y.prototype.contains;
Y.prototype.Th=function(a,b){var c=this.children[a];this.children[a]=this.children[b];this.children[b]=c};Y.prototype.swapChildrenAt=Y.prototype.Th;Y.prototype.Ym=function(a,b){this.Th(this.pf(a),this.pf(b))};Y.prototype.swapChildren=Y.prototype.Ym;Y.prototype.zm=function(a,b){a='undefined'!==typeof a?a:0;for(var c=Math.min(this.numChildren-1,a+('undefined'!==typeof b?b:2147483647)-1);c>=a;c--)this.Jf(c)};Y.prototype.removeChildren=Y.prototype.zm;Y.prototype.Vm=m();Y.prototype.stopAllMovieClips=Y.prototype.Vm;
Y.prototype.gb=function(){if(this.stage&&this.visible)for(var a=this.children.length,b=0;b<a;b++)this.children[b].gb()};Y.prototype.__update=Y.prototype.gb;Y.prototype.Pa=function(){Y.Ja.Pa.call(this);for(var a=this.children.length,b=0;b<a;b++)this.children[b].Pa()};Y.prototype.updateTransforms=Y.prototype.Pa;Y.prototype.yd=function(a){if(this.mouseEnabled&&this.mouseChildren&&this.visible)for(var b=this.children.length-1;0<=b;b--){var c=this.children[b].yd(a);if(c)return c}return null};
Y.prototype.Sb=function(a){for(var b=Y.Ja.Sb.call(this,a),c=this.children.length,d=0;d<c;d++){var e=this.children[d].Sb(a);null==b?b=e:e&&(b.Fd(e.x,e.y),b.Fd(e.right,e.bottom))}return b};Y.prototype.getRect=Y.prototype.Sb;
Object.defineProperties(Y.prototype,{numChildren:{get:function(){return this.children.length}},stage:{get:t('Ea'),set:function(a){this.Ea!=a&&((this.Ea=a)?this.dispatchEvent(new Rk(Nc)):this.dispatchEvent(new Rk(uf)));for(var b=this.children.length,c=0;c<b;c++)this.children[c].stage=a}},tabChildren:{get:w(!1),set:m()},mouseChildren:{get:t('Og'),set:q('Og')}});Y.prototype.i={names:[{name:'DisplayObjectContainer',j:Dd}]};y(Dd,Y);function hl(){}y('flash.display.GradientType.LINEAR',He);y('flash.display.GradientType.RADIAL','radial');hl.prototype.i={names:[{name:'GradientType',j:Ed}]};y(Ed,hl);function il(a,b,c,d,e,f,g,h){this.ge='undefined'!==typeof a?a:He;this.colors='undefined'!==typeof b?b:null;this.alphas='undefined'!==typeof c?c:null;this.ratios='undefined'!==typeof d?d:null;this.matrix='undefined'!==typeof e?e:null;this.Sg='undefined'!==typeof f?f:pf;this.Kg='undefined'!==typeof g?g:xf;this.focalPointRatio='undefined'!==typeof h?h:0}il.prototype.ea=function(a){null==this.qh&&(this.qh=this.type==He?a.createLinearGradient(0,0,1,1):a.createRadialGradient(0,0,1,0,0,1));a.fillStyle=this.qh};
il.prototype.draw=il.prototype.ea;Object.defineProperties(il.prototype,{type:{get:t('ge'),set:q('ge')},spreadMethod:{get:t('Sg'),set:q('Sg')},interpolationMethod:{get:t('Kg'),set:q('Kg')}});il.prototype.i={names:[{name:'GraphicsGradientFill',j:Id}],Sa:[bk,ak]};y(Id,il);function jl(a,b){this.color='undefined'!==typeof a?a:0;this.alpha='undefined'!==typeof b?b:1}jl.prototype.color=0;jl.prototype.color=jl.prototype.color;jl.prototype.alpha=1;jl.prototype.alpha=jl.prototype.alpha;jl.prototype.ea=function(a,b){a.fillStyle=mk.Ed(this.color,this.alpha,b)};jl.prototype.draw=jl.prototype.ea;jl.prototype.i={names:[{name:'GraphicsSolidFill',j:Ld}],Sa:[bk,ak]};y(Ld,jl);function kl(){}kl.prototype.i={names:[{name:'IGraphicsStroke',j:'flash.display.IGraphicsStroke'}]};function ll(a,b,c,d,e,f,g){this.thickness=a='undefined'!==typeof a?a:NaN;this.pixelHinting='undefined'!==typeof b?b:!1;this.Eg='undefined'!==typeof d?d:ef;this.Lg='undefined'!==typeof e?e:Af;this.miterLimit='undefined'!==typeof f?f:3;this.Rg='undefined'!==typeof c?c:ff;this.fill='undefined'!==typeof g?g:null}ll.prototype.ea=function(a,b){if(isNaN(this.thickness))a.stroke();else if(a.lineWidth=this.thickness,ig(this.fill,jl)){var c=z(this.fill,jl);a.strokeStyle=mk.Ed(c.color,c.alpha,b)}};
ll.prototype.draw=ll.prototype.ea;Object.defineProperties(ll.prototype,{caps:{get:t('Eg'),set:q('Eg')},joints:{get:t('Lg'),set:q('Lg')},scaleMode:{get:t('Rg'),set:q('Rg')}});ll.prototype.i={names:[{name:'GraphicsStroke',j:Md}],Sa:[kl,ak]};y(Md,ll);function ml(a,b,c,d){this.vertices='undefined'!==typeof a?a:null;this.indices='undefined'!==typeof b?b:null;this.uvtData='undefined'!==typeof c?c:null;this.Hg='undefined'!==typeof d?d:ef}ml.prototype.ea=function(){kg(Of)};ml.prototype.draw=ml.prototype.ea;Object.defineProperties(ml.prototype,{culling:{get:t('Hg'),set:q('Hg')}});ml.prototype.i={names:[{name:'GraphicsTrianglePath',j:Nd}],Sa:[fk,ak]};y(Nd,ml);function Z(){this.graphicsData=[];this.Fh=[]}Z.prototype.ue=0;Z.prototype.Hb=!1;y('flash.display.Graphics.debug',!1);Z.prototype.clear=function(){this.sa=this.lastStroke=null;this.ue=0;this.graphicsData=[];this.bound=null};Z.prototype.clear=Z.prototype.clear;Z.prototype.he=function(a,b){b='undefined'!==typeof b?b:1;this.Fc();this.lastFill=new jl(a,b);this.graphicsData.push(this.lastFill)};Z.prototype.beginFill=Z.prototype.he;
Z.prototype.Zg=function(a,b,c,d,e,f,g,h){e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:pf;g='undefined'!==typeof g?g:xf;h='undefined'!==typeof h?h:0;this.Fc();this.lastFill=new il(a,b,c,d,e,f,g,h);this.graphicsData.push(this.lastFill)};Z.prototype.beginGradientFill=Z.prototype.Zg;Z.prototype.Yg=function(a,b,c,d){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:!0;d='undefined'!==typeof d?d:!1;this.Fc();this.lastFill=new ck(a,b,c,d);this.graphicsData.push(this.lastFill)};
Z.prototype.beginBitmapFill=Z.prototype.Yg;Z.prototype.Fc=function(){if(this.sa){if(this.lastFill){var a=new dk;a.fill=this.lastFill;this.graphicsData.push(a);this.lastFill=null}this.lastStroke&&!isNaN(this.lastStroke.thickness)&&(this.lastStroke=new ll(NaN),this.graphicsData.push(this.lastStroke));this.sa=null}};Z.prototype.endStrokAndFill=Z.prototype.Fc;
Z.prototype.vh=function(a,b,c,d,e,f,g,h){this.lastStroke&&(this.lastStroke.fill=new il(a,b,c,d,'undefined'!==typeof e?e:null,'undefined'!==typeof f?f:pf,'undefined'!==typeof g?g:xf,'undefined'!==typeof h?h:0))};Z.prototype.lineGradientStyle=Z.prototype.vh;
Z.prototype.Ua=function(a,b,c,d,e,f,g,h){a='undefined'!==typeof a?a:NaN;b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:1;d='undefined'!==typeof d?d:!1;e='undefined'!==typeof e?e:ff;f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:null;h='undefined'!==typeof h?h:3;this.Fc();isNaN(a)||(this.lastStroke=new ll(0==a?1:a,d,e,f,g,h,new jl(b,c)),this.graphicsData.push(this.lastStroke))};Z.prototype.lineStyle=Z.prototype.Ua;
Z.prototype.pl=function(a,b,c,d){this.Hb=!0;this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.sa.closePath();this.Hb=!1;nl(this,a,b);nl(this,a+c,b+d)};Z.prototype.drawRect=Z.prototype.pl;
Z.prototype.ql=function(a,b,c,d,e,f){f='undefined'!==typeof f?f:NaN;this.Hb=!0;isNaN(f)&&(f=e);this.moveTo(a+e,b);this.lineTo(a+c-e,b);this.Fa(a+c,b,a+c,b+f);this.lineTo(a+c,b+d-f);this.Fa(a+c,b+d,a+c-e,b+d);this.lineTo(a+e,b+d);this.Fa(a,b+d,a,b+d-f);this.lineTo(a,b+f);this.Fa(a,b,a+e,b);this.Hb=!1;nl(this,a,b);nl(this,a+c,b+d)};Z.prototype.drawRoundRect=Z.prototype.ql;
Z.prototype.rl=function(a,b,c,d,e,f,g,h){this.Hb=!0;this.moveTo(a+e,b);this.lineTo(a+c-f,b);this.Fa(a+c,b,a+c,b+f);this.lineTo(a+c,b+d-h);this.Fa(a+c,b+d,a+c-h,b+d);this.lineTo(a+g,b+d);this.Fa(a,b+d,a,b+d-g);this.lineTo(a,b+e);this.Fa(a,b,a+e,b);this.Hb=!1;nl(this,a,b);nl(this,a+c,b+d)};Z.prototype.drawRoundRectComplex=Z.prototype.rl;Z.prototype.nf=function(a,b,c){ol(this);this.sa.moveTo(a+c,b);this.sa.arc(a,b,c,0,2*Math.PI);nl(this,a-c,b-c);nl(this,a+c,b+c)};Z.prototype.drawCircle=Z.prototype.nf;
Z.prototype.nl=function(a,b,c,d){this.Hb=!0;var e=c/2*.5522848,f=d/2*.5522848,g=a+c,h=b+d,k=a+c/2,l=b+d/2;this.moveTo(a,l);this.ib(a,l-f,k-e,b,k,b);this.ib(k+e,b,g,l-f,g,l);this.ib(g,l+f,k+e,h,k,h);this.ib(k-e,h,a,l+f,a,l);this.Hb=!1;nl(this,a,b);nl(this,a+c,b+d)};Z.prototype.drawEllipse=Z.prototype.nl;Z.prototype.moveTo=function(a,b){ol(this);this.sa.moveTo(a,b);nl(this,a,b)};Z.prototype.moveTo=Z.prototype.moveTo;Z.prototype.lineTo=function(a,b){ol(this);this.sa.lineTo(a,b);nl(this,a,b)};
Z.prototype.lineTo=Z.prototype.lineTo;Z.prototype.Fa=function(a,b,c,d){ol(this);this.sa.Fa(a,b,c,d);nl(this,a,b);nl(this,c,d)};Z.prototype.curveTo=Z.prototype.Fa;Z.prototype.ib=function(a,b,c,d,e,f){ol(this);this.sa.ib(a,b,c,d,e,f);nl(this,a,b);nl(this,c,d);nl(this,e,f)};Z.prototype.cubicCurveTo=Z.prototype.ib;
function nl(a,b,c){a.Hb||(null==a.bound&&(a.bound=new R(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)),a.bound.left>b&&(a.bound.left=b),a.bound.right<b&&(a.bound.right=b),a.bound.top>c&&(a.bound.top=c),a.bound.bottom<c&&(a.bound.bottom=c))}function ol(a){null==a.sa&&(a.sa=a.Fh[a.ue],null==a.sa&&(a.sa=a.Fh[a.ue]=mk.Ad()),a.sa.clear(),a.sa.oe=!0,a.ue++,a.graphicsData.push(a.sa))}Z.prototype.Cd=function(){this.Fc()};Z.prototype.endFill=Z.prototype.Cd;
Z.prototype.ja=function(a){this.graphicsData=a.graphicsData.slice()};Z.prototype.copyFrom=Z.prototype.ja;Z.prototype.uh=function(a,b,c,d){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:!0;d='undefined'!==typeof d?d:!1;this.lastStroke&&ig(this.lastStroke,ll)&&(z(this.lastStroke,ll).fill=new ck(a,b,c,d))};Z.prototype.lineBitmapStyle=Z.prototype.uh;Z.prototype.me=function(a,b){ol(this);this.sa.commands.push.apply(null,a);this.sa.data.push.apply(null,b)};Z.prototype.drawPath=Z.prototype.me;
Z.prototype.Bd=m();Z.prototype.drawTriangles=Z.prototype.Bd;
Z.prototype.ol=function(a){var b=null,b=b=b=null;if(null!=a)for(var c=0;c<a.length;c++)if(b=a[c],ig(b,fk)){var b=z(b,fk,!0),d=null,d=null;ig(b,gk)?(d=z(b,gk,!0),this.me(d.commands,d.data,d.winding)):ig(b,ml)&&(d=z(b,ml,!0),this.Bd(d.vertices,d.indices,d.uvtData,d.culling))}else if(ig(b,bk))b=z(b,bk,!0),d=d=d=null,null==b?this.Cd():ig(b,dk)?this.Cd():ig(b,jl)?(d=z(b,jl,!0),this.he(d.color,d.alpha)):ig(b,il)?(d=z(b,il,!0),this.Zg(d.type,d.colors,d.alphas,d.ratios,d.matrix,d.spreadMethod,d.interpolationMethod,
d.focalPointRatio)):ig(b,ck)&&(d=z(b,ck,!0),this.Yg(d.bitmapData,d.matrix,d.repeat,d.smooth));else if(ig(b,kl)){var b=z(b,kl,!0),e=null,e=d=e=e=null;null!=b&&ig(b,ll)&&(d=z(b,ll));d&&d.fill&&ig(d.fill,bk)&&(e=d.fill);null==d||null==e?this.Ua():ig(e,jl)?(e=z(e,jl,!0),this.Ua(d.thickness,e.color,e.alpha,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit)):ig(e,il)?(e=z(e,il,!0),this.Ua(d.thickness,0,1,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit),this.vh(e.type,e.colors,e.alphas,e.ratios,
e.matrix,e.spreadMethod,e.interpolationMethod,e.focalPointRatio)):ig(e,ck)&&(e=z(e,ck,!0),this.Ua(d.thickness,0,1,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit),this.uh(e.bitmapData,e.matrix,e.repeat,e.smooth))}};Z.prototype.drawGraphicsData=Z.prototype.ol;Z.prototype.rm=function(){return this.graphicsData.slice()};Z.prototype.readGraphicsData=Z.prototype.rm;Z.prototype.ea=function(a,b,c,d){this.graphicsData.length&&(mk.ve(a,this,b,c,d),jk++)};Z.prototype.draw=Z.prototype.ea;
Z.prototype.i={names:[{name:'Graphics',j:Fd}]};y(Fd,Z);function pl(){Y.call(this);this.graphics=new Z}cg(pl,Y);pl.prototype.Tm=m();pl.prototype.startDrag=pl.prototype.Tm;pl.prototype.Wm=m();pl.prototype.stopDrag=pl.prototype.Wm;pl.prototype.Um=m();pl.prototype.startTouchDrag=pl.prototype.Um;pl.prototype.Xm=m();pl.prototype.stopTouchDrag=pl.prototype.Xm;pl.prototype.Cc=function(){return this.graphics.bound};pl.prototype.__getRect=pl.prototype.Cc;
pl.prototype.gb=function(){this.stage&&this.visible&&this.graphics.graphicsData.length&&this.graphics.ea(this.stage.ctx,this.transform.concatenatedMatrix,this.blendMode,this.transform.concatenatedColorTransform);this.Gc(jd)&&this.dispatchEvent(new Rk(jd));pl.Ja.gb.call(this)};pl.prototype.__update=pl.prototype.gb;pl.prototype.yd=function(a){if(this.stage&&this.mouseEnabled&&this.visible){if(a=pl.Ja.yd.call(this,a))return a;if(this.rh(this.stage.mouseX,this.stage.mouseY))return this}return null};
Object.defineProperties(pl.prototype,{buttonMode:{get:w(!1),set:m()},dropTarget:{get:w(null)},hitArea:{get:w(null),set:m()},useHandCursor:{get:w(!1),set:m()}});pl.prototype.i={names:[{name:'Sprite',j:Pd}]};y(Pd,pl);function ql(){pl.call(this);this.m_timeStep=1/30;this.addEventListener(jd,lg(this.Ac,this,Gc),!1,0,!0);this.m_world=new O(new A(0,10),!0);var a=new N;a.zg(this);a.vg(30);a.wg(.3);a.yg(1);a.xg(3);this.m_world.ug(a);this.m_world.Ce();var b,c;b=new eh;b.position.Set(10,12);c=new D;c.Zd(30,3);a=new jh;a.shape=c;a.friction=.3;a.density=0;b=this.m_world.Xc(b);b.Ud(a);for(var d=1;10>d;d++){b=new eh;b.type=Zh;b.position.x=15*Math.random()+5;b.position.y=10*Math.random();var e=Math.random()+.5,f=Math.random()+
.5;b=this.m_world.Xc(b);.5>Math.random()?(c=new D,c.Zd(e,f)):c=new $g(e);a.shape=c;a.density=1;a.friction=.5;a.restitution=.2;b.Ud(a)}}cg(ql,pl);ql.prototype.Ac=function(){this.m_world.Xe(this.m_timeStep,this.Eh,this.Ch);this.m_world.Ce()};ql.prototype.Update=ql.prototype.Ac;ql.prototype.Eh=10;ql.prototype.m_velocityIterations=ql.prototype.Eh;ql.prototype.Ch=10;ql.prototype.m_positionIterations=ql.prototype.Ch;ql.prototype.i={names:[{name:Ec,j:Ec}]};y(Ec,ql);
//# sourceMappingURL=./TestBox2D.js.map