'use strict';var aa='',ba='\t',ca='\t//',ea='\n',fa=' ',ga='    bias: ',ha='    bits: ',ia='    opt: ',ja='  emit argcode\x3d',la='  emit sampler',ma=' (',na=' \x3d ',oa=' offset\x3d',qa=' out of bounds [0, ..., 3]',ra=' out of bounds. [0..255]',ta='", emitCode\x3d',va='", flag\x3d"',wa='", longName\x3d"',xa='", mask\x3d',ya='", numRegister\x3d',za='(',Ba='(a\x3d',Ca='(redMultiplier\x3d',Fa='(x\x3d',Ga=')',Ia=') index exceeds limit of ',Ja=') only allowed in fragment programs.',Ka=') only allowed in vertex programs.',
La=') relative adressing not allowed in fragment programs.',Ma=').',Na=');',Pa='+',Qa=',',Ra=', ',Sa=', alphaMultiplier\x3d',Ta=', alphaOffset\x3d',Ua=', b\x3d',Va=', blueMultiplier\x3d',Wa=', blueOffset\x3d',Xa=', c\x3d',Ya=', d\x3d',Za=', emitCode\x3d',$a=', flags\x3d',ab=', greenMultiplier\x3d',bb=', greenOffset\x3d',cb=', h\x3d',db=', range\x3d',eb=', redOffset\x3d',fb=', tx\x3d',gb=', ty\x3d',hb=', w\x3d',ib=', y\x3d',jb=',\x3c',lb='.',mb='//',nb='2d',ob='3d',pb=':',rb=': ',sb=';',tb=';\n',ub=
'\x3d\x3d idx\x3d',vb='\x3d\x3d sel\x3d',wb='\x3e',xb='ATF',yb='Disposed',zb='Error, Column ',Ab='EventDispatcher',Bb='IEventDispatcher',Cb='IS REL',Db='JOINT',Eb='RELATIVE: type\x3d',Fb='SpriteFlexjs',Gb='TEXTURE',Hb='TestEngine3D',Ib='Type Coercion failed',Jb='Vector3D(',Kb='[',Lb='[OpCode name\x3d"',Mb='[Register name\x3d"',Nb='[Sampler name\x3d"',Ob='[object Array]',Pb='[object Function]',Qb='[object Window]',Rb=']',Sb='][',Ub='__enterFrame',Vb='__mouseevent',Wb='__update',Xb='a',Yb='abs',Zb=
'absolute',$b='add',ac='addedToStage',bc='alpha',cc='always',dc='anisotropic16x',ec='anisotropic2x',fc='anisotropic4x',gc='anisotropic8x',hc='array',ic='as3Shader.AGALByteCreator',jc='as3Shader.AGALByteCreator.OpCode',kc='as3Shader.AGALByteCreator.Register',lc='as3Shader.AGALByteCreator.Sampler',mc='as3Shader.AGALCodeCreator',nc='as3Shader.AS3Shader',oc='as3Shader.Creator',pc='as3Shader.GLCodeCreator',qc='as3Shader.NativeOp',rc='attribute ',sc='attribute vec2 va0;attribute vec4 va1;attribute vec2 va2;varying vec4 vColor;varying vec2 vUV;uniform mat4 vc0;uniform mat4 vc4;void main(void) {vColor\x3dva1;vUV\x3d(vc4*vec4(va2,0.0,1.0)).xy;gl_Position \x3dvc0*vec4(va0, 0.0,1.0);}',
tc='attribute vec2 va0;attribute vec4 va1;varying vec4 vColor;uniform mat4 vc0;void main(void) {vColor\x3dva1;gl_Position \x3dvc0*vec4(va0, 0.0,1.0);}',uc='axisAngle',vc='back',wc='baseline',xc='baselineConstrained',yc='baselineExtended',zc='bat new index',Ac='bat new pos',Bc='bgra',Cc='bigEndian',Dc='bindAmbientUniform',Ec='bindCameraPosUniform',Fc='bindDiffSampler',Gc='bindJointsBuff',Hc='bindJointsMatrixUniform',Ic='bindJointsQuatUniform',Jc='bindLightColorUniform',Kc='bindLightColorVar',Lc='bindLightPosUniform',
Mc='bindLightShadowCameraWorld',Nc='bindLightmapSampler',Oc='bindMaterialColorUniform',Pc='bindModelUniform',Qc='bindNormBuff',Rc='bindNormalmapSampler',Sc='bindPerspectiveUniform',Tc='bindPixelSizeUniform',Uc='bindPosBuff',Vc='bindRandomBuff',Wc='bindReflectSampler',Xc='bindShadowmapsSampler',Yc='bindSpecularUniform',Zc='bindSphereRandomBuff',$c='bindTangentBuff',ad='bindTargetPositionBuff',bd='bindTerrainsSampler',cd='bindTextureSizeUniform',dd='bindTimeUniform',ed='bindUV2Buff',fd='bindUVBuff',
gd='bindUVMulAddUniform',hd='bindViewUniform',id='bindWeightsBuff',jd='bindWireframeColorUniform',kd='bindWorld2localUniform',ld='bjoints',md='bnorm',nd='boolean',od='bpos',pd='brandom',qd='bsrandom',rd='btangent',sd='btp',td='buv',ud='buv2',vd='bweights',wd='bytes4',xd='c',yd='call',zd='canvas',Ad='canvas_keyevent',Bd='canvas_mouseevent',Cd='canvas_touchevent',Dd='centroid',Ed='clamp',Fd='clamp_u_repeat_v',Gd='click',Hd='com.adobe.utils.PerspectiveMatrix3D',Id='compressed',Jd='compressedAlpha',Kd=
'consts',Ld='consts index',Md='context3DCreate',Nd='contextMenu',Od='contextmenu',Pd='cos',Qd='crs',Rd='cube',Sd='dblclick',Td='ddx',Ud='ddy',Vd='destinationAlpha',Wd='destinationColor',Xd='div',Yd='doubleClick',Zd='dp3',$d='dp4',ae='dxt1',be='dxt5',ce='eif',de='els',ee='emit opcode\x3d',fe='enterFrame',ge='equal',he='error',ie='error: bad index register',je='error: could not find register name for operand ',ke='error: index offset ',le='error: opcode is only allowed in fragment programs.',me='error: opcode is only allowed in vertex programs.',
ne='error: opcode requires version 2.',oe='error: register operand ',pe='error: relative can not be destination',qe='error: too many opcodes. maximum is 2048.',re='eulerAngles',se='evenOdd',te='event',ue='exp',ve='experimental-webgl',we='f',xe='fc',ye='flash.__native.BaseRenderer',ze='flash.__native.BitmapTexture',Ae='flash.__native.GLCanvasPattern',Be='flash.__native.GLCanvasRenderingContext2D',Ce='flash.__native.GLDrawable',De='flash.__native.GLGraphicsPath',Ee='flash.__native.GLIndexBufferSet',
Fe='flash.__native.GLPath2D',Ge='flash.__native.GLVertexBufferSet',He='flash.__native.IRenderer',Ie='flash.__native.MemArray',Je='flash.__native.WebGLRenderer',Ke='flash.display.BitmapData',Le='flash.display.BlendMode',Me='flash.display.DisplayObject',Ne='flash.display.DisplayObjectContainer',Oe='flash.display.GradientType',Pe='flash.display.Graphics',Qe='flash.display.GraphicsBitmapFill',Re='flash.display.GraphicsEndFill',Se='flash.display.GraphicsGradientFill',Te='flash.display.GraphicsPath',Ue=
'flash.display.GraphicsPathCommand',Ve='flash.display.GraphicsSolidFill',We='flash.display.GraphicsStroke',Xe='flash.display.GraphicsTrianglePath',Ye='flash.display.InteractiveObject',Ze='flash.display.LoaderInfo',$e='flash.display.Sprite',af='flash.display.Stage',bf='flash.display.Stage3D',cf='flash.display3D.Context3D',df='flash.display3D.Context3DBlendFactor',ef='flash.display3D.Context3DCompareMode',ff='flash.display3D.Context3DProfile',gf='flash.display3D.Context3DProgramType',hf='flash.display3D.Context3DRenderMode',
jf='flash.display3D.Context3DTextureFormat',kf='flash.display3D.Context3DTriangleFace',lf='flash.display3D.Context3DVertexBufferFormat',mf='flash.display3D.IndexBuffer3D',nf='flash.display3D.Program3D',of='flash.display3D.VertexBuffer3D',pf='flash.display3D.textures.CubeTexture',qf='flash.display3D.textures.RectangleTexture',rf='flash.display3D.textures.Texture',sf='flash.display3D.textures.TextureBase',tf='flash.display3D.textures.VideoTexture',uf='flash.events.ErrorEvent',vf='flash.events.Event',
wf='flash.events.EventDispatcher',xf='flash.events.KeyboardEvent',yf='flash.events.MouseEvent',zf='flash.events.TextEvent',Af='flash.events.TouchEvent',Bf='flash.geom.ColorTransform',Cf='flash.geom.Matrix',Df='flash.geom.Matrix3D',Ef='flash.geom.Orientation3D',Ff='flash.geom.Point',Gf='flash.geom.Rectangle',Hf='flash.geom.Transform',If='flash.geom.Vector3D',Jf='flash.media.Camera',Kf='flash.system.Capabilities',Lf='flash.utils.ByteArray',Mf='flash.utils.Dictionary',Nf='flash.utils.Endian',Of='flash.utils.Proxy',
Pf='float1',Qf='float2',Rf='float3',Sf='float4',Tf='fo',Uf='fragment',Vf='fragment constant',Wf='fragment output',Xf='fragment temporary',Yf='frc',Zf='front',$f='frontAndBack',ag='fs',bg='ft',cg='fullScreen',dg='function',eg='gl3d.core.Camera3D',fg='gl3d.core.Drawable',gg='gl3d.core.IndexBufferSet',hg='gl3d.core.Light',ig='gl3d.core.Material',jg='gl3d.core.MaterialBase',kg='gl3d.core.Node3D',lg='gl3d.core.ProgramSet',mg='gl3d.core.TextureSet',ng='gl3d.core.VertexBufferSet',og='gl3d.core.View3D',pg=
'gl3d.core.renders.GL',qg='gl3d.core.renders.Render',rg='gl3d.core.renders.Stage3DRender',sg='gl3d.core.shaders.GLAS3Shader',tg='gl3d.core.shaders.GLBinder',ug='gl3d.core.shaders.GLShader',vg='gl3d.meshs.Meshs',wg='gl3d.pick.AS3Picking',xg='gl3d.pick.Picking',yg='gl3d.shaders.PhongFragmentShader',zg='gl3d.shaders.PhongGLShader',Ag='gl3d.shaders.PhongVertexShader',Bg='gl3d.util.MathUtil',Cg='gl3d.util.Matrix3DUtils',Dg='gl_FragColor',Eg='gl_Position',Fg='greater',Gg='greaterEqual',Hg='i_add',Ig='i_div',
Jg='i_max',Kg='i_min',Lg='i_mul',Mg='i_pow',Ng='i_sub',Og='ife',Pg='ifg',Qg='ifl',Rg='ignoresampler',Sg='ine',Tg='init',Ug='instance',Vg='joint',Wg='keyDown',Xg='keyUp',Yg='keydown',Zg='keypress',$g='keyup',ah='kil',bh='layer',ch='less',dh='lessEqual',eh='light',fh='linear',gh='littleEndian',hh='log',ih='m33',jh='m34',kh='m44',lh='mat',mh='max',nh='min',oh='miplinear',ph='mipnearest',qh='mipnone',rh='mouseDown',sh='mouseMove',th='mouseOut',uh='mouseOver',vh='mouseUp',wh='mouseWheel',xh='mousedown',
yh='mouseenter',zh='mouseleave',Ah='mousemove',Bh='mouseout',Ch='mouseover',Dh='mouseup',Eh='mousewheel',Fh='mov',Gh='mul',Hh='multiply',Ih='native code',Jh='nearest',Kh='neg',Lh='never',Mh='no imp',Nh='no-repeat',Oh='nomip',Ph='none',Qh='norm',Rh='normal',Sh='notEqual',Th='nrm',Uh='null',Vh='number',Wh='object',Xh='oc',Yh='on',Zh='one',$h='oneMinusDestinationAlpha',ai='oneMinusDestinationColor',bi='oneMinusSourceAlpha',ci='oneMinusSourceColor',di='op',ei='org.apache.flex.events.EventDispatcher',
fi='org.apache.flex.utils.Language',gi='org.apache.flex.utils.Proxy',hi='pad',ii='pos',ji='pow',ki='precision lowp float;varying vec4 vColor;varying vec2 vUV;uniform sampler2D fs0;void main(void) {gl_FragColor \x3d texture2D(fs0,vUV)*vColor;}',li='precision lowp float;varying vec4 vColor;void main(void) {gl_FragColor \x3d vColor;}',mi='precision mediump float;\n',ni='px',oi='quaternion',pi='rcp',qi='removedFromStage',ri='repeat',si='repeat_u_clamp_v',ti='resize',ui='rgb',vi='rgba',wi='rgba(',xi='rgbaHalfFloat',
yi='rollOver',zi='round',Ai='rsq',Bi='s',Ci='sampler2D',Di='sat',Ei='scene',Fi='sdiff',Gi='seq',Hi='sge',Ii='sgn',Ji='shadowend',Ki='shadowstart',Li='sin',Mi='single',Ni='slightmap',Oi='slt',Pi='sne',Qi='snormlmap',Ri='sourceAlpha',Si='sourceColor',Ti='splice',Ui='spriteflexjs',Vi='sqt',Wi='sreflect',Xi='sshadowmap',Yi='stage3Ds_error',Zi='stage_context3dCreate',$i='stage_resize',aj='standard',bj='standardConstrained',cj='sterrain',dj='stopImmediatePropagation',ej='string',fj='sub',gj='t',hj='ted',
ij='tex',jj='texture sampler',kj='textureReady',lj='top',mj='touchBegin',nj='touchEnd',oj='touchMove',pj='touchcancel',qj='touchend',rj='touchmove',sj='touchstart',tj='tripath',uj='uambient',vj='ucamerapos',wj='ujointsmatrix',xj='ujointsquat',yj='ulightCameraWorld',zj='ulightcolor',Aj='ulightpos',Bj='ulightvar',Cj='umaterialcolor',Dj='umodel',Ej='uniform ',Fj='uperspective',Gj='upixelsize',Hj='uspecular',Ij='utexturesize',Jj='utf-8',Kj='utime',Lj='uv',Mj='uview',Nj='uvmuladd',Oj='uwireframecolor',
Pj='uworld2local',Qj='v',Rj='va',Sj='var ',Tj='varying',Uj='varying ',Vj='vc',Wj='vec4',Xj='vertex',Yj='vertex attribute',Zj='vertex constant',ak='vertex output',bk='vertex temporary',ck='vi',dk='video',ek='visible',fk='vo',gk='void main(){\n',hk='vt',ik='vt_textureReady',jk='w',kk='warning: bad line ',lk='webgl',mk='weight',nk='window',ok='window_resize',pk='wrap',qk='x',rk='xyz',sk='y',tk='zero',uk='}';function h(){return function(){}}function l(a){return function(b){this[a]=b}}
function n(a){return function(){return this[a]}}function p(a){return function(){return a}}var q,vk=this;
function wk(a){var b=typeof a;if(b==Wh)if(a){if(a instanceof Array)return hc;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c==Qb)return Wh;if(c==Ob||typeof a.length==Vh&&'undefined'!=typeof a.splice&&'undefined'!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(Ti))return hc;if(c==Pb||'undefined'!=typeof a.call&&'undefined'!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(yd))return dg}else return Uh;else if(b==dg&&'undefined'==typeof a.call)return Wh;return b}
var xk='closure_uid_'+(1E9*Math.random()>>>0),yk=0;function zk(a,b,c){return a.call.apply(a.bind,arguments)}function Ak(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function Bk(a,b,c){Bk=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(Ih)?zk:Ak;return Bk.apply(null,arguments)}function u(a,b){var c=a.split(lb),d=vk;c[0]in d||!d.execScript||d.execScript(Sj+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}
function Ck(a,b){function c(){}c.prototype=b.prototype;a.Z=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Lm=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};function Dk(){}var Ek,Fk,Gk=[],Hk=String.fromCharCode(0);function v(a,b,c){c='undefined'!==typeof c?c:null;b=x(a,b);if(!b&&void 0!==c&&c)throw a=TypeError?new TypeError(Ib):Error(Ib),a;return b?a:null}u('org.apache.flex.utils.Language.as',v);function Ik(a){return a>>0}u('org.apache.flex.utils.Language._int',Ik);
function x(a,b){var c;if(null==a||null==b)return!1;if(a instanceof b||b===Object)return!0;if(typeof a===ej)return b===String;if(typeof a===Vh)return b===Number;if(typeof a===nd)return b===Boolean;if(b===Array)return Array.isArray(a);if(void 0===a.g)return!1;if(a.g.ja&&Jk(a,b))return!0;c=a.constructor;if(c=c.Z)for(;c&&c.g;){if(c.g.ja&&Jk(c,b))return!0;c=c.constructor;c=c.Z}return!1}u('org.apache.flex.utils.Language.is',x);
function Jk(a,b){var c,d;d=a.g.ja;for(c=d.length-1;-1<c;c--)if(d[c]===b||d[c].prototype.g.ja&&Jk(d[c].prototype,b))return!0;return!1}Dk.prototype.Vh=function(a){return typeof a===dg&&a.prototype&&a.prototype.constructor===a};Dk.prototype.isClass=Dk.prototype.Vh;Dk.prototype.Gj=function(a){return this.Vh(a)?a:null};Dk.prototype.asClass=Dk.prototype.Gj;u('org.apache.flex.utils.Language.postdecrement',function(a,b){var c=a[b];a[b]=c-1;return c});
u('org.apache.flex.utils.Language.postincrement',function(a,b){var c=a[b];a[b]=c+1;return c});u('org.apache.flex.utils.Language.predecrement',function(a,b){var c=a[b]-1;return a[b]=c});u('org.apache.flex.utils.Language.preincrement',function(a,b){var c=a[b]+1;return a[b]=c});function Kk(a,b,c){a=a.Z;for(var d=Object.getOwnPropertyDescriptor(a,c);null==d;)a=a.constructor,a=a.Z,d=Object.getOwnPropertyDescriptor(a,c);return d.get.call(b)}u('org.apache.flex.utils.Language.superGetter',Kk);
function Lk(a,b,c,d){a=a.Z;for(var e=Object.getOwnPropertyDescriptor(a,c);null==e;)a=a.constructor,a=a.Z,e=Object.getOwnPropertyDescriptor(a,c);e.set.apply(b,[d])}u('org.apache.flex.utils.Language.superSetter',Lk);function Mk(a){a=Array.prototype.slice.call(arguments,0);var b;b=vk.console;void 0===b&&('undefined'!==typeof window?b=window.console:'undefined'!==typeof console&&(b=console));try{b&&b.log&&b.log.apply(b,a)}catch(c){}}u('org.apache.flex.utils.Language.trace',Mk);
u('org.apache.flex.utils.Language.uint',function(a){return a>>>0});function y(a,b,c){if(b.hasOwnProperty(c))return b[c];a=Bk(a,b);Object.defineProperty(b,c,{value:a});return a}u('org.apache.flex.utils.Language.closure',y);u('org.apache.flex.utils.Language.sortOn',function(a,b,c){c='undefined'!==typeof c?c:0;x(b,Array)?Ek=v(b,Array):(Gk[0]=b,Ek=Gk);if(x(c,Array)){b=0;for(var d in c)b|=c[d]}else b=v(c,Number);Fk=0<(2&b)?-1:1;b&16?a.sort(Nk):b&1?a.sort(Ok):a.sort(Pk)});
function Ok(a,b){var c=Ek,d;for(d in c){var e=c[d],e=(a[e]||Hk).toString().toLowerCase().localeCompare((b[e]||Hk).toString().toLowerCase());if(0!=e)return e*Fk}return 0}function Pk(a,b){var c=Ek,d;for(d in c){var e=c[d],e=(a[e]||Hk).toString().localeCompare((b[e]||Hk).toString());if(0!=e)return e*Fk}return 0}function Nk(a,b){var c=Ek,d;for(d in c){var e=c[d];if(a[e]>b[e])return Fk;if(a[e]<b[e])return-Fk}return 0}Dk.prototype.g={names:[{name:'Language',h:fi}]};u(fi,Dk);function Qk(){}Qk.prototype.qb=p(null);Qk.prototype.createPath=Qk.prototype.qb;Qk.prototype.Sa=p(null);Qk.prototype.getCssColor=Qk.prototype.Sa;Qk.prototype.gc=h();Qk.prototype.renderGraphics=Qk.prototype.gc;Qk.prototype.mb=h();Qk.prototype.renderImage=Qk.prototype.mb;Qk.prototype.Pc=h();Qk.prototype.renderText=Qk.prototype.Pc;Qk.prototype.finish=h();Qk.prototype.finish=Qk.prototype.finish;Qk.prototype.start=h();Qk.prototype.start=Qk.prototype.start;Qk.prototype.g={names:[{name:'IRenderer',h:He}]};
u(He,Qk);function Rk(){}Rk.prototype.G=h();Rk.prototype.ba=h();Rk.prototype.g={names:[{name:'IGraphicsData',h:'flash.display.IGraphicsData'}]};function Sk(){}Sk.prototype.g={names:[{name:'IGraphicsFill',h:'flash.display.IGraphicsFill'}]};function Tk(a,b,c,d){this.bitmapData='undefined'!==typeof a?a:null;this.matrix='undefined'!==typeof b?b:null;this.repeat='undefined'!==typeof c?c:!0;this.smooth='undefined'!==typeof d?d:!1}Tk.prototype.G=function(a){null==this.pattern&&this.bitmapData&&(this.pattern=a.createPattern(this.bitmapData.image,this.repeat?ri:Nh));a.fillStyle=this.pattern};Tk.prototype.draw=Tk.prototype.G;
Tk.prototype.ba=function(a){null==this.pattern&&this.bitmapData&&(this.pattern=a.createPattern(this.bitmapData.image,this.repeat?ri:Nh));a.fillStyleIsImage=!0;a.fillStyle=this.pattern};Tk.prototype.gldraw=Tk.prototype.ba;Tk.prototype.g={names:[{name:'GraphicsBitmapFill',h:Qe}],ja:[Sk,Rk]};u(Qe,Tk);function Uk(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0}u('flash.geom.Point.interpolate',function(a,b,c){return new Uk(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))});u('flash.geom.Point.distance',function(a,b){return a.bb(b).length});u('flash.geom.Point.polar',function(a,b){return new Uk(a*Math.cos(b),a*Math.sin(b))});Uk.prototype.clone=function(){return new Uk(this.x,this.y)};Uk.prototype.clone=Uk.prototype.clone;Uk.prototype.offset=function(a,b){this.x+=a;this.y+=b};
Uk.prototype.offset=Uk.prototype.offset;Uk.prototype.Fc=function(a){return a.x===this.x&&a.y===this.y};Uk.prototype.equals=Uk.prototype.Fc;Uk.prototype.bb=function(a){return new Uk(this.x-a.x,this.y-a.y)};Uk.prototype.subtract=Uk.prototype.bb;Uk.prototype.add=function(a){return new Uk(this.x+a.x,this.y+a.y)};Uk.prototype.add=Uk.prototype.add;Uk.prototype.normalize=function(a){var b=this.length;0<b&&(b=a/b,this.x*=b,this.y*=b)};Uk.prototype.normalize=Uk.prototype.normalize;
Uk.prototype.toString=function(){return Fa+this.x+ib+this.y+Ga};Uk.prototype.toString=Uk.prototype.toString;Uk.prototype.J=function(a){this.x=a.x;this.y=a.y};Uk.prototype.copyFrom=Uk.prototype.J;Uk.prototype.qa=function(a,b){this.x=a;this.y=b};Uk.prototype.setTo=Uk.prototype.qa;Object.defineProperties(Uk.prototype,{length:{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}}});Uk.prototype.g={names:[{name:'Point',h:Ff}]};u(Ff,Uk);function A(a,b,c,d,e,f){this.a='undefined'!==typeof a?a:1;this.b='undefined'!==typeof b?b:0;this.c='undefined'!==typeof c?c:0;this.d='undefined'!==typeof d?d:1;this.tx='undefined'!==typeof e?e:0;this.ty='undefined'!==typeof f?f:0}A.prototype.clone=function(){return new A(this.a,this.b,this.c,this.d,this.tx,this.ty)};A.prototype.clone=A.prototype.clone;
A.prototype.concat=function(a){this.ya=this.a;this.a=this.a*a.a+this.b*a.c;this.b=this.ya*a.b+this.b*a.d;this.ya=this.c;this.c=this.c*a.a+this.d*a.c;this.d=this.ya*a.b+this.d*a.d;this.ya=this.tx;this.tx=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.ya*a.b+this.ty*a.d+a.ty};A.prototype.concat=A.prototype.concat;
A.prototype.Ta=function(){if(0===this.b&&0===this.c)this.a=1/this.a,this.d=1/this.d,this.tx*=-this.a,this.ty*=-this.d;else{var a=this.a*this.d-this.b*this.c;0===a?(this.a=this.d=1,this.tx=this.ty=this.b=this.c=0):(a=1/a,this.ya=this.a,this.zf=this.b,this.Af=this.c,this.wm=this.d,this.a=this.wm*a,this.b=-this.zf*a,this.c=-this.Af*a,this.d=this.ya*a,this.ya=-(this.b*this.tx+this.d*this.ty),this.tx=-(this.a*this.tx+this.c*this.ty),this.ty=this.ya)}};A.prototype.invert=A.prototype.Ta;
A.prototype.Xb=function(){this.a=this.d=1;this.tx=this.ty=this.b=this.c=0};A.prototype.identity=A.prototype.Xb;A.prototype.vh=function(a,b,c){c='undefined'!==typeof c?c:0;var d=Math.cos(c);c=Math.sin(c);this.a=d*a;this.b=c*b;this.c=-c*a;this.d=d*b};A.prototype.createBox=A.prototype.vh;A.prototype.Wj=function(a,b,c){this.vh(a/1638.4,b/1638.4,'undefined'!==typeof c?c:0)};A.prototype.createGradientBox=A.prototype.Wj;
A.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);this.ya=this.a;this.zf=this.c;this.Af=this.tx;this.a=b*this.a-a*this.b;this.b=a*this.ya+b*this.b;this.c=b*this.c-a*this.d;this.d=a*this.zf+b*this.d;this.tx=b*this.tx-a*this.ty;this.ty=a*this.Af+b*this.ty};A.prototype.rotate=A.prototype.rotate;A.prototype.translate=function(a,b){this.tx+=a;this.ty+=b};A.prototype.translate=A.prototype.translate;
A.prototype.scale=function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b};A.prototype.scale=A.prototype.scale;A.prototype.ak=function(a){return new Uk(this.a*a.x+this.c*a.y,this.d*a.y+this.b*a.x)};A.prototype.deltaTransformPoint=A.prototype.ak;A.prototype.Xc=function(a){return new Uk(this.a*a.x+this.c*a.y+this.tx,this.d*a.y+this.b*a.x+this.ty)};A.prototype.transformPoint=A.prototype.Xc;
A.prototype.toString=function(){return Ba+this.a+Ua+this.b+Xa+this.c+Ya+this.d+fb+this.tx+gb+this.ty+Ga};A.prototype.toString=A.prototype.toString;A.prototype.J=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty};A.prototype.copyFrom=A.prototype.J;A.prototype.qa=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};A.prototype.setTo=A.prototype.qa;
A.prototype.ze=function(a,b){switch(a){case 0:break;case 1:b.x=this.b;b.y=this.d;b.z=this.ty;break;case 2:case 3:b.x=0;b.y=0;b.z=1;break;default:b.x=this.a,b.y=this.c,b.z=this.tx}};A.prototype.copyRowTo=A.prototype.ze;A.prototype.B=function(a,b){switch(a){case 0:break;case 1:b.x=this.c;b.y=this.d;b.z=0;break;case 2:case 3:b.x=this.tx;b.y=this.ty;b.z=1;break;default:b.x=this.a,b.y=this.b,b.z=0}};A.prototype.copyColumnTo=A.prototype.B;
A.prototype.ua=function(a,b){switch(a){case 0:break;case 1:case 2:this.b=b.x;this.d=b.y;this.ty=b.z;break;default:this.a=b.x,this.c=b.y,this.tx=b.z}};A.prototype.copyRowFrom=A.prototype.ua;A.prototype.Y=function(a,b){switch(a){case 0:break;case 1:case 2:this.b=b.x;this.d=b.y;this.ty=b.z;break;default:this.a=b.x,this.c=b.y,this.tx=b.z}};A.prototype.copyColumnFrom=A.prototype.Y;A.prototype.g={names:[{name:'Matrix',h:Cf}]};u(Cf,A);function Vk(){this._worldMatrix=new A}Vk.prototype.G=function(a,b){if(this.fill){if(x(this.fill,Tk)){var c=v(this.fill,Tk);if(c.matrix)var d=c.matrix;a.globalAlpha=b.alphaMultiplier}else a.globalAlpha=1;d&&(a.save(),a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty));a.fill();d&&a.restore()}};Vk.prototype.draw=Vk.prototype.G;Vk.prototype.ba=function(a){if(this.fill){var b=this.fill.matrix;b?this._worldMatrix.J(b):this._worldMatrix.Xb();b=a.matr;a.Hi(this._worldMatrix);a.fill();a.matr=b}};
Vk.prototype.gldraw=Vk.prototype.ba;Vk.prototype.g={names:[{name:'GraphicsEndFill',h:Re}],ja:[Sk,Rk]};u(Re,Vk);function Wk(){}u('flash.display.GraphicsPathCommand.NO_OP',0);u('flash.display.GraphicsPathCommand.MOVE_TO',1);u('flash.display.GraphicsPathCommand.LINE_TO',2);u('flash.display.GraphicsPathCommand.CURVE_TO',3);u('flash.display.GraphicsPathCommand.WIDE_MOVE_TO',4);u('flash.display.GraphicsPathCommand.WIDE_LINE_TO',5);u('flash.display.GraphicsPathCommand.CUBIC_CURVE_TO',6);u('flash.display.GraphicsPathCommand.ARC',7);u('flash.display.GraphicsPathCommand.CLOSE_PATH',8);
u('flash.display.GraphicsPathCommand.DRAW_TRIANGLES',9);Wk.prototype.g={names:[{name:'GraphicsPathCommand',h:Ue}]};u(Ue,Wk);function Xk(){}Xk.prototype.g={names:[{name:'IGraphicsPath',h:'flash.display.IGraphicsPath'}]};function B(a,b,c){this.commands=[];this.data=[];this.tris=[];this.commands='undefined'!==typeof a?a:null;this.data='undefined'!==typeof b?b:null;null==this.commands&&(this.commands=[]);null==this.data&&(this.data=[]);this.qg='undefined'!==typeof c?c:se}B.prototype.Bd=!0;B.prototype.gpuPath2DDirty=B.prototype.Bd;B.prototype.clear=function(){this.commands.length=0;this.data.length=0;this.tris.length=0};B.prototype.clear=B.prototype.clear;
B.prototype.moveTo=function(a,b){this.commands.push(1);this.data.push(a,b)};B.prototype.moveTo=B.prototype.moveTo;B.prototype.lineTo=function(a,b){this.commands.push(2);this.data.push(a,b)};B.prototype.lineTo=B.prototype.lineTo;B.prototype.ea=function(a,b,c,d){this.commands.push(3);this.data.push(a,b,c,d)};B.prototype.curveTo=B.prototype.ea;B.prototype.va=function(a,b,c,d,e,f){this.commands.push(6);this.data.push(a,b,c,d,e,f)};B.prototype.cubicCurveTo=B.prototype.va;
B.prototype.Qf=function(a,b){this.commands.push(5);this.data.push(0,0,a,b)};B.prototype.wideLineTo=B.prototype.Qf;B.prototype.Rf=function(a,b){this.commands.push(4);this.data.push(0,0,a,b)};B.prototype.wideMoveTo=B.prototype.Rf;B.prototype.arc=function(a,b,c,d,e){this.commands.push(7);this.data.push(a,b,c,d,e)};B.prototype.arc=B.prototype.arc;
B.prototype.G=function(a){if(this.commands.length){a.beginPath();for(var b=0,c=0,d=this.commands.length,e=0;e<d;e++)switch(this.commands[e]){case 1:a.moveTo(this.data[b++],this.data[b++]);break;case 2:a.lineTo(this.data[b++],this.data[b++]);break;case 3:a.quadraticCurveTo(this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 6:a.bezierCurveTo(this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 4:b+=2;a.moveTo(this.data[b++],this.data[b++]);
break;case 5:b+=2;a.lineTo(this.data[b++],this.data[b++]);break;case 7:a.arc(this.data[b++],this.data[b++],this.data[b++],this.data[b++],this.data[b++]);break;case 9:for(var f=this.tris[c++],g=a,k=f[0],f=f[1],m=f.length,r=0;r<m;){var t=f[r++],w=f[r++],H=f[r++],E=k[2*t],t=k[2*t+1],z=k[2*w],w=k[2*w+1],K=k[2*H],H=k[2*H+1];g.moveTo(E,t);g.lineTo(z,w);g.lineTo(K,H);g.lineTo(E,t)}break;case 8:a.closePath()}}};B.prototype.draw=B.prototype.G;B.prototype.ba=function(a,b){a.Ec(this,b)};B.prototype.gldraw=B.prototype.ba;
B.prototype.closePath=function(){this.commands.push(8)};B.prototype.closePath=B.prototype.closePath;B.prototype.na=function(a,b,c){this.tris.push([a,b,c]);this.commands.push(9)};B.prototype.drawTriangles=B.prototype.na;Object.defineProperties(B.prototype,{winding:{get:n('qg'),set:l('qg')}});B.prototype.g={names:[{name:'GraphicsPath',h:Te}],ja:[Xk,Rk]};u(Te,B);function Yk(){this.Ub=new Vk}Ck(Yk,Qk);Yk.prototype.Sa=function(a,b,c){return wi+((a>>16&255)*c.redMultiplier+c.redOffset>>0)+Qa+((a>>8&255)*c.greenMultiplier+c.greenOffset>>0)+Qa+((a&255)*c.greenMultiplier+c.greenOffset>>0)+Qa+(b*c.alphaMultiplier+c.alphaOffset)+Ga};Yk.prototype.getCssColor=Yk.prototype.Sa;Yk.prototype.qb=function(){return new B};Yk.prototype.createPath=Yk.prototype.qb;
Yk.prototype.gc=function(a,b,c,d,e){a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.globalCompositeOperation=d;c=b.graphicsData.length;for(d=0;d<c;d++)b.graphicsData[d].G(a,e);b.lastFill&&(this.Ub.fill=b.lastFill,this.Ub.G(a,e));b.lastStroke&&a.stroke();a.fillStyle=null;a.strokeStyle=null};Yk.prototype.renderGraphics=Yk.prototype.gc;Yk.prototype.mb=function(a,b,c,d,e){a.globalAlpha=e.alphaMultiplier;a.globalCompositeOperation=d;a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.drawImage(b.image,0,0)};
Yk.prototype.renderImage=Yk.prototype.mb;Yk.prototype.Pc=function(a,b,c,d,e,f,g,k){a.globalAlpha=f.alphaMultiplier;a.globalCompositeOperation=e;a.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.font=c.Xj;a.fillStyle=c.Yj;a.textBaseline=lj;a.fillText(b,g,k)};Yk.prototype.renderText=Yk.prototype.Pc;Yk.prototype.g={names:[{name:'BaseRenderer',h:ye}]};u(ye,Yk);function Zk(){}var $k,al,bl=0;u('SpriteFlexjs.startTime',bl);u('SpriteFlexjs.debug',!1);u('SpriteFlexjs.wmode','direct');var cl=new Yk;u('SpriteFlexjs.renderer',cl);var dl=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};u('SpriteFlexjs.requestAnimationFrame',dl);Zk.prototype.g={names:[{name:Fb,h:Fb}]};u(Fb,Zk);function el(){}el.prototype.g={names:[{name:'BitmapTexture',h:ze}]};u(ze,el);function fl(a,b){this.repetition=b;this.image=a}fl.prototype.g={names:[{name:'GLCanvasPattern',h:Ae}]};u(Ae,fl);function gl(a,b){this.usage=b;this.data=a}gl.prototype.N=!0;gl.prototype.dirty=gl.prototype.N;
gl.prototype.xb=function(a){null==this.buff&&(this.buff=a.Qb(this.data.length),this.buff.gl.bindBuffer(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.data,this.usage),this.N=!1);this.N&&(this.buff.gl.bindBuffer(this.buff.gl.ELEMENT_ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferSubData(this.buff.gl.ELEMENT_ARRAY_BUFFER,0,this.data),this.N=!1);return this.buff};gl.prototype.getBuff=gl.prototype.xb;
gl.prototype.g={names:[{name:'GLIndexBufferSet',h:Ee}]};u(Ee,gl);function hl(a,b,c){this.usage=c;this.data32PerVertex=b;this.data=a}hl.prototype.N=!0;hl.prototype.dirty=hl.prototype.N;
hl.prototype.xb=function(a){null==this.buff&&(this.buff=a.Sb(this.data.length/this.data32PerVertex,this.data32PerVertex),this.buff.gl.bindBuffer(this.buff.gl.ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferData(this.buff.gl.ARRAY_BUFFER,this.data,this.usage),this.N=!1);this.N&&(this.buff.gl.bindBuffer(this.buff.gl.ARRAY_BUFFER,this.buff.buff),this.buff.gl.bufferSubData(this.buff.gl.ARRAY_BUFFER,0,this.data),this.N=!1);return this.buff};hl.prototype.getBuff=hl.prototype.xb;
hl.prototype.g={names:[{name:'GLVertexBufferSet',h:Ge}]};u(Ge,hl);function il(a,b,c,d){this.usage=d;this.pos=new hl(a,2,d);this.uv=new hl(b,2,d);this.index=new gl(c,d)}il.prototype.cc=-1;il.prototype.numTriangles=il.prototype.cc;Object.defineProperties(il.prototype,{color:{get:function(){if(null==this.fd||this.fd.data.length!=this.pos.data.length/2)this.fd=new hl(new Uint32Array(this.pos.data.length/2),4,this.usage);return this.fd},set:l('fd')}});il.prototype.g={names:[{name:'GLDrawable',h:Ce}]};u(Ce,il);function jl(){this.matr=new A}
Object.defineProperties(jl.prototype,{drawable:{get:function(){if(this.path.Bd){this.path.Bd=!1;for(var a=this.path.polys,b=0,c=0,d=this.path.polys.length,e=0;e<d;e++){var f=this.path.polys.array[e].length,b=b+f;6<=f&&(c+=3*(f/2-2))}for(var g=this.path.tris.length,k=!1,e=0;e<g;e++)f=this.path.tris[e],b+=f[0].length,c+=f[1].length,f[2]&&(k=!0);if(null==this.pos||this.pos.length!=b)this.pos=new Float32Array(b);if(null==this.index||this.index.length!=c)this.index=new Uint16Array(c);!k||null!=this.uv&&
this.uv.length==b||(this.uv=new Float32Array(b));for(var m=c=b=0,e=0;e<d;e++){for(var r=a.array[e],f=r.length,t=f/2,f=0;f<t;f++){var w=r.array[2*f],H=r.array[2*f+1];this.pos[c++]=w;this.pos[c++]=H;2<=f&&(this.index[m++]=b,this.index[m++]=b+f-1,this.index[m++]=b+f)}b+=f}for(e=0;e<g;e++){f=this.path.tris[e];a=f[0];d=f[1];r=f[2];t=a.length;for(f=0;f<t;f++)this.pos[c]=a[f],r&&(this.uv[c]=r[f]),c++;t=d.length;for(f=0;f<t;f++)this.index[m++]=b+d[f];b+=a.length/2}null==this._drawable?this._drawable=new il(this.pos,
this.pos,this.index,WebGLRenderingContext.STATIC_DRAW):(this._drawable.pos.data=this.pos,this._drawable.uv.data=k?this.uv:this.pos,this._drawable.index.data=this.index,this._drawable.pos.N=!0,this._drawable.uv.N=!0,this._drawable.index.N=!0)}return this._drawable}}});jl.prototype.g={names:[{name:'GLPath2D',h:Fe}]};u(Fe,jl);function C(a,b,c,d){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.width='undefined'!==typeof c?c:0;this.height='undefined'!==typeof d?d:0}C.prototype.clone=function(){return new C(this.x,this.y,this.width,this.height)};C.prototype.clone=C.prototype.clone;C.prototype.yb=function(){return 0>=this.width||0>=this.height};C.prototype.isEmpty=C.prototype.yb;C.prototype.uf=function(){this.height=this.width=this.y=this.x=0};C.prototype.setEmpty=C.prototype.uf;
C.prototype.Ve=function(a,b){this.x-=a;this.width+=2*a;this.y-=b;this.height+=2*b};C.prototype.inflate=C.prototype.Ve;C.prototype.el=function(a){this.x-=a.x;this.width+=2*a.x;this.y-=a.y;this.height+=2*a.y};C.prototype.inflatePoint=C.prototype.el;C.prototype.offset=function(a,b){this.x+=a;this.y+=b};C.prototype.offset=C.prototype.offset;C.prototype.Bl=function(a){this.x+=a.x;this.y+=a.y};C.prototype.offsetPoint=C.prototype.Bl;
C.prototype.contains=function(a,b){return a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height};C.prototype.contains=C.prototype.contains;C.prototype.th=function(a){return a.x>=this.x&&a.x<this.x+this.width&&a.y>=this.y&&a.y<this.y+this.height};C.prototype.containsPoint=C.prototype.th;C.prototype.Qj=function(a){var b=a.x+a.width,c=a.y+a.height,d=this.x+this.width,e=this.y+this.height;return a.x>=this.x&&a.x<d&&a.y>=this.y&&a.y<e&&b>this.x&&b<=d&&c>this.y&&c<=e};
C.prototype.containsRect=C.prototype.Qj;C.prototype.fl=function(a){var b=new C;if(this.yb()||a.yb())return b.uf(),b;b.x=Math.max(this.x,a.x);b.y=Math.max(this.y,a.y);b.width=Math.min(this.x+this.width,a.x+a.width)-b.x;b.height=Math.min(this.y+this.height,a.y+a.height)-b.y;(0>=b.width||0>=b.height)&&b.uf();return b};C.prototype.intersection=C.prototype.fl;
C.prototype.hl=function(a){if(this.yb()||a.yb())return!1;var b=Math.min(this.y+this.height,a.y+a.height)-Math.max(this.y,a.y);return 0>=Math.min(this.x+this.width,a.x+a.width)-Math.max(this.x,a.x)||0>=b?!1:!0};C.prototype.intersects=C.prototype.hl;
C.prototype.Vi=function(a){var b=null;if(this.yb())return a.clone();if(a.yb())return this.clone();b=new C;b.x=Math.min(this.x,a.x);b.y=Math.min(this.y,a.y);b.width=Math.max(this.x+this.width,a.x+a.width)-b.x;b.height=Math.max(this.y+this.height,a.y+a.height)-b.y;return b};C.prototype.union=C.prototype.Vi;C.prototype.Fc=function(a){return a.x===this.x&&a.y===this.y&&a.width===this.width&&a.height===this.height};C.prototype.equals=C.prototype.Fc;
C.prototype.toString=function(){return Fa+this.x+ib+this.y+hb+this.width+cb+this.height+Ga};C.prototype.toString=C.prototype.toString;C.prototype.J=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height};C.prototype.copyFrom=C.prototype.J;C.prototype.qa=function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d};C.prototype.setTo=C.prototype.qa;
Object.defineProperties(C.prototype,{left:{get:n(qk),set:function(a){this.width+=this.x-a;this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){this.width=a-this.x}},top:{get:n(sk),set:function(a){this.height+=this.y-a;this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){this.height=a-this.y}},topLeft:{get:function(){return new Uk(this.x,this.y)},set:function(a){this.width+=this.x-a.x;this.height+=this.y-a.y;this.x=a.x;this.y=a.y}},bottomRight:{get:function(){return new Uk(this.right,
this.bottom)},set:function(a){this.width=a.x-this.x;this.height=a.y-this.y}},size:{get:function(){return new Uk(this.width,this.height)},set:function(a){this.width=a.x;this.height=a.y}}});C.prototype.g={names:[{name:'Rectangle',h:Gf}]};u(Gf,C);function kl(){}kl.prototype.g={names:[{name:'IBitmapDrawable',h:'flash.display.IBitmapDrawable'}]};function D(a,b,c,d){this.sb(a,b,'undefined'!==typeof c?c:!0,'undefined'!==typeof d?d:4294967295)}D.prototype.hd=!1;D.prototype.sb=function(a,b,c,d){d='undefined'!==typeof d?d:4294967295;this.Bj='undefined'!==typeof c?c:!0;this.image=v(document.createElement(zd),HTMLCanvasElement);this.image.width=this.Cj=a;this.image.height=this.uj=b;this.ctx=v(this.image.getContext(nb),CanvasRenderingContext2D);this.Yb=this.ctx.getImageData(0,0,a,b);this.data=this.Yb.data;this.fillRect(this.rect,d)};
D.prototype.Ke=function(a,b,c){this.ctx.drawImage(a,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0);this.Yb=this.ctx.getImageData(0,0,this.width,this.height);this.data=this.Yb.data};D.prototype.fromImage=D.prototype.Ke;D.prototype.clone=p(null);D.prototype.clone=D.prototype.clone;D.prototype.Oe=function(a,b){var c=4*(b*this.width+a);return this.data[c]<<16|this.data[c+1]<<8|this.data[c+2]};D.prototype.getPixel=D.prototype.Oe;
D.prototype.Fh=function(a,b){var c=4*(b*this.width+a);return this.data[c+3]<<24|this.data[c]<<16|this.data[c+1]<<8|this.data[c+2]};D.prototype.getPixel32=D.prototype.Fh;D.prototype.hm=function(a,b,c){a=4*(b*this.width+a);this.data[a]=c>>16&255;this.data[a+1]=c>>8&255;this.data[a+2]=c&255;this.hd||this.ctx.putImageData(this.Yb,0,0)};D.prototype.setPixel=D.prototype.hm;
D.prototype.Qd=function(a,b,c){a=4*(b*this.width+a);this.data[a]=c>>16&255;this.data[a+1]=c>>8&255;this.data[a+2]=c&255;this.data[a+3]=c>>>24;this.hd||this.ctx.putImageData(this.Yb,0,0)};D.prototype.setPixel32=D.prototype.Qd;D.prototype.colorTransform=h();D.prototype.colorTransform=D.prototype.colorTransform;D.prototype.compare=p(null);D.prototype.compare=D.prototype.compare;D.prototype.Rj=h();D.prototype.copyChannel=D.prototype.Rj;
D.prototype.Sj=function(a,b,c){this.Jc();for(var d=0;d<b.width;d++)for(var e=0;e<b.height;e++)this.Qd(d+c.x,e+c.y,a.Fh(d+b.x,e+b.y));this.ad()};D.prototype.copyPixels=D.prototype.Sj;D.prototype.D=h();D.prototype.dispose=D.prototype.D;D.prototype.G=function(a){this.Ah(a)};D.prototype.draw=D.prototype.G;D.prototype.Ah=function(a){x(a,D)&&(a=v(a,D),this.Ke(a.ctx))};D.prototype.drawWithQuality=D.prototype.Ah;
D.prototype.fillRect=function(a,b){this.Jc();for(var c=0;c<this.width;++c)for(var d=0;d<this.height;++d)this.Qd(d,c,this.transparent?b:4278190080|b);this.ad()};D.prototype.fillRect=D.prototype.fillRect;D.prototype.kk=h();D.prototype.floodFill=D.prototype.kk;D.prototype.pk=p(null);D.prototype.getColorBoundsRect=D.prototype.pk;D.prototype.rk=p(null);D.prototype.getPixels=D.prototype.rk;D.prototype.Tj=h();D.prototype.copyPixelsToByteArray=D.prototype.Tj;D.prototype.uk=p(null);D.prototype.getVector=D.prototype.uk;
D.prototype.xk=p(!1);D.prototype.hitTest=D.prototype.xk;D.prototype.wl=h();D.prototype.merge=D.prototype.wl;D.prototype.ci=function(){this.Jc();for(var a=0;a<this.width;++a)for(var b=0;b<this.height;++b)this.Qd(b,a,4278190080|16777215*Math.random());this.ad()};D.prototype.noise=D.prototype.ci;D.prototype.Fl=h();D.prototype.paletteMap=D.prototype.Fl;D.prototype.lf=function(){this.ci()};D.prototype.perlinNoise=D.prototype.lf;D.prototype.Ll=p(0);D.prototype.pixelDissolve=D.prototype.Ll;
D.prototype.scroll=h();D.prototype.scroll=D.prototype.scroll;D.prototype.im=h();D.prototype.setPixels=D.prototype.im;D.prototype.mm=h();D.prototype.setVector=D.prototype.mm;D.prototype.threshold=p(0);D.prototype.threshold=D.prototype.threshold;D.prototype.Jc=function(){this.hd=!0};D.prototype.lock=D.prototype.Jc;D.prototype.ad=function(){this.hd=!1;this.ctx.putImageData(this.Yb,0,0)};D.prototype.unlock=D.prototype.ad;D.prototype.wk=p(null);D.prototype.histogram=D.prototype.wk;D.prototype.encode=p(null);
D.prototype.encode=D.prototype.encode;Object.defineProperties(D.prototype,{width:{get:n('Cj')},height:{get:n('uj')},transparent:{get:n('Bj')},rect:{get:function(){return new C(0,0,this.width,this.height)}}});D.prototype.g={names:[{name:'BitmapData',h:Ke}],ja:[kl]};u(Ke,D);function ll(){}u('flash.display3D.Context3DBlendFactor.ONE',Zh);u('flash.display3D.Context3DBlendFactor.ZERO',tk);u('flash.display3D.Context3DBlendFactor.SOURCE_ALPHA',Ri);u('flash.display3D.Context3DBlendFactor.SOURCE_COLOR',Si);u('flash.display3D.Context3DBlendFactor.ONE_MINUS_SOURCE_ALPHA',bi);u('flash.display3D.Context3DBlendFactor.ONE_MINUS_SOURCE_COLOR',ci);u('flash.display3D.Context3DBlendFactor.DESTINATION_ALPHA',Vd);u('flash.display3D.Context3DBlendFactor.DESTINATION_COLOR',Wd);
u('flash.display3D.Context3DBlendFactor.ONE_MINUS_DESTINATION_ALPHA',$h);u('flash.display3D.Context3DBlendFactor.ONE_MINUS_DESTINATION_COLOR',ai);function ml(a,b){switch(b){case Zh:return a.ONE;case tk:return a.ZERO;case Ri:return a.SRC_ALPHA;case Si:return a.SRC_COLOR;case bi:return a.ONE_MINUS_SRC_ALPHA;case ci:return a.ONE_MINUS_SRC_COLOR;case Vd:return a.DST_ALPHA;case Wd:return a.DST_COLOR;case $h:return a.ONE_MINUS_DST_ALPHA;case ai:return a.ONE_MINUS_DST_COLOR}return 0}
u('flash.display3D.Context3DBlendFactor.getGLVal',ml);ll.prototype.g={names:[{name:'Context3DBlendFactor',h:df}]};u(df,ll);function nl(){}u('flash.display3D.Context3DCompareMode.ALWAYS',cc);u('flash.display3D.Context3DCompareMode.NEVER',Lh);u('flash.display3D.Context3DCompareMode.LESS',ch);u('flash.display3D.Context3DCompareMode.LESS_EQUAL',dh);u('flash.display3D.Context3DCompareMode.EQUAL',ge);u('flash.display3D.Context3DCompareMode.GREATER_EQUAL',Gg);u('flash.display3D.Context3DCompareMode.GREATER',Fg);u('flash.display3D.Context3DCompareMode.NOT_EQUAL',Sh);
function ol(a,b){switch(b){case cc:return a.ALWAYS;case Lh:return a.NEAREST;case ch:return a.LESS;case dh:return a.LESS|a.EQUAL;case ge:return a.EQUAL;case Gg:return a.GREATER|a.EQUAL;case Fg:return a.GREATER;case Sh:return a.NOTEQUAL}return 0}u('flash.display3D.Context3DCompareMode.getGLVal',ol);nl.prototype.g={names:[{name:'Context3DCompareMode',h:ef}]};u(ef,nl);function pl(){}u('flash.display3D.Context3DProgramType.VERTEX',Xj);u('flash.display3D.Context3DProgramType.FRAGMENT',Uf);pl.prototype.g={names:[{name:'Context3DProgramType',h:gf}]};u(gf,pl);function ql(){}u('flash.display3D.Context3DTriangleFace.NONE',Ph);u('flash.display3D.Context3DTriangleFace.BACK',vc);u('flash.display3D.Context3DTriangleFace.FRONT',Zf);u('flash.display3D.Context3DTriangleFace.FRONT_AND_BACK',$f);function rl(a,b){switch(b){case Ph:return a.NONE;case vc:return a.FRONT;case Zf:return a.BACK;case $f:return a.FRONT_AND_BACK}return 0}u('flash.display3D.Context3DTriangleFace.getGLVal',rl);ql.prototype.g={names:[{name:'Context3DTriangleFace',h:kf}]};u(kf,ql);function sl(){}u('flash.display3D.Context3DVertexBufferFormat.FLOAT_1',Pf);u('flash.display3D.Context3DVertexBufferFormat.FLOAT_2',Qf);u('flash.display3D.Context3DVertexBufferFormat.FLOAT_3',Rf);u('flash.display3D.Context3DVertexBufferFormat.FLOAT_4',Sf);u('flash.display3D.Context3DVertexBufferFormat.BYTES_4',wd);sl.prototype.g={names:[{name:'Context3DVertexBufferFormat',h:lf}]};u(lf,sl);function tl(){}tl.prototype.dd=function(a){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.buff);this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(a),this.gl.STATIC_DRAW)};tl.prototype.uploadFromVector=tl.prototype.dd;tl.prototype.ra=h();tl.prototype.uploadFromByteArray=tl.prototype.ra;tl.prototype.D=h();tl.prototype.dispose=tl.prototype.D;tl.prototype.g={names:[{name:'IndexBuffer3D',h:mf}]};u(mf,tl);function ul(){this.Mi={};this.ug={}}
ul.prototype.upload=function(a,b){this.fshader=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.vshader=this.gl.createShader(this.gl.VERTEX_SHADER);a.position=b.position=0;this.gl.shaderSource(this.vshader,a.ec(a.length));this.gl.compileShader(this.vshader);if(!this.gl.getShaderParameter(this.vshader,this.gl.COMPILE_STATUS))throw this.vshader+ea+a+ea+this.gl.getShaderInfoLog(this.vshader);this.gl.shaderSource(this.fshader,b.ec(b.length));this.gl.compileShader(this.fshader);if(!this.gl.getShaderParameter(this.fshader,
this.gl.COMPILE_STATUS))throw b+ea+this.gl.getShaderInfoLog(this.fshader);this.gl.attachShader(this.program,this.vshader);this.gl.attachShader(this.program,this.fshader);this.gl.linkProgram(this.program);if(!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw this.gl.getProgramInfoLog(this.program);};ul.prototype.upload=ul.prototype.upload;ul.prototype.D=function(){this.gl.deleteShader(this.fshader);this.gl.deleteShader(this.vshader);this.gl.deleteProgram(this.program)};
ul.prototype.dispose=ul.prototype.D;ul.prototype.getUniformLocation=function(a){var b=this.Mi[a];null==b&&(b=this.Mi[a]=this.gl.getUniformLocation(this.program,a));return b};ul.prototype.getUniformLocation=ul.prototype.getUniformLocation;ul.prototype.getAttribLocation=function(a){var b=this.ug[a];null==b&&(b=this.ug[a]=this.gl.getAttribLocation(this.program,a));a=Number(b);this.gl.enableVertexAttribArray(a);return a};ul.prototype.getAttribLocation=ul.prototype.getAttribLocation;
ul.prototype.g={names:[{name:'Program3D',h:nf}]};u(nf,ul);function vl(){}vl.prototype.dd=function(a){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buff);this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(a),this.gl.STATIC_DRAW)};vl.prototype.uploadFromVector=vl.prototype.dd;vl.prototype.ra=h();vl.prototype.uploadFromByteArray=vl.prototype.ra;vl.prototype.D=h();vl.prototype.dispose=vl.prototype.D;vl.prototype.g={names:[{name:'VertexBuffer3D',h:of}]};u(of,vl);function wl(){}q=wl.prototype;q.addEventListener=h();q.dispatchEvent=h();q.Fa=h();q.removeEventListener=h();q.fj=h();q.g={names:[{name:Bb,h:'flash.events.IEventDispatcher'}]};function xl(a){this.P={};this.sb('undefined'!==typeof a?a:null)}xl.prototype.sb=h();xl.prototype.addEventListener=function(a,b){var c=this.P[a]=this.P[a]||[],d=c.indexOf(b);-1!=d&&c.splice(d,1);c.push(b)};xl.prototype.addEventListener=xl.prototype.addEventListener;xl.prototype.removeEventListener=function(a,b){var c=this.P[a];if(c){var d=c.indexOf(b);-1!=d&&c.splice(d,1);0===c.length&&(this.P[a]=null,delete this.P[a])}};xl.prototype.removeEventListener=xl.prototype.removeEventListener;
xl.prototype.dispatchEvent=function(a){return a.target?yl(this,a.clone()):yl(this,a)};xl.prototype.dispatchEvent=xl.prototype.dispatchEvent;xl.prototype.Fa=function(a){return null!=this.P[a]};xl.prototype.hasEventListener=xl.prototype.Fa;xl.prototype.fj=p(!1);xl.prototype.willTrigger=xl.prototype.fj;function yl(a,b){b.target=a;b.currentTarget=a;var c=a.P[b.type];if(c)for(var d=c.length,e=0;e<d;e++)(0,c[e])(b);return!1}xl.prototype.g={names:[{name:Ab,h:wf}],ja:[wl]};u(wf,xl);function zl(){xl.call(this)}Ck(zl,xl);zl.prototype.D=h();zl.prototype.dispose=zl.prototype.D;zl.prototype.g={names:[{name:'TextureBase',h:sf}]};u(sf,zl);function Al(){xl.call(this)}Ck(Al,zl);Al.prototype.Ia=h();Al.prototype.uploadFromBitmapData=Al.prototype.Ia;Al.prototype.ra=h();Al.prototype.uploadFromByteArray=Al.prototype.ra;Al.prototype.cd=h();Al.prototype.uploadCompressedTextureFromByteArray=Al.prototype.cd;Al.prototype.g={names:[{name:'CubeTexture',h:pf}]};u(pf,Al);function Bl(){xl.call(this)}Ck(Bl,zl);Bl.prototype.Ia=h();Bl.prototype.uploadFromBitmapData=Bl.prototype.Ia;Bl.prototype.ra=h();Bl.prototype.uploadFromByteArray=Bl.prototype.ra;Bl.prototype.g={names:[{name:'RectangleTexture',h:qf}]};u(qf,Bl);function Cl(){xl.call(this)}Ck(Cl,zl);Cl.prototype.repeat=!0;Cl.prototype.repeat=Cl.prototype.repeat;Cl.prototype.Ia=function(a,b){this.$i(a.image,'undefined'!==typeof b?b:0)};Cl.prototype.uploadFromBitmapData=Cl.prototype.Ia;
Cl.prototype.$i=function(a,b){b='undefined'!==typeof b?b:0;this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture);this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,a);this.repeat?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE));0<b?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST));this.gl.bindTexture(this.gl.TEXTURE_2D,null)};
Cl.prototype.uploadFromImg=Cl.prototype.$i;Cl.prototype.ra=h();Cl.prototype.uploadFromByteArray=Cl.prototype.ra;Cl.prototype.cd=h();Cl.prototype.uploadCompressedTextureFromByteArray=Cl.prototype.cd;Cl.prototype.g={names:[{name:'Texture',h:rf}]};u(rf,Cl);function Dl(){xl.call(this)}Ck(Dl,zl);Dl.prototype.Jj=h();Dl.prototype.attachCamera=Dl.prototype.Jj;Object.defineProperties(Dl.prototype,{videoWidth:{get:p(0)},videoHeight:{get:p(0)}});Dl.prototype.g={names:[{name:'VideoTexture',h:tf}]};u(tf,Dl);function F(){this.Bc={};this.Cc={};xl.call(this)}Ck(F,xl);F.prototype.D=h();F.prototype.dispose=F.prototype.D;F.prototype.Nb=function(a,b,c,d){d='undefined'!==typeof d?d:!0;this.canvas.width=a;this.canvas.height=b;this.canvas.style.width=a+ni;this.canvas.style.height=b+ni;this.gl.viewport(0,0,a,b);d?(this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.STENCIL_TEST)):(this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.STENCIL_TEST))};F.prototype.configureBackBuffer=F.prototype.Nb;
F.prototype.clear=function(a,b,c,d,e,f){e='undefined'!==typeof e?e:1;f='undefined'!==typeof f?f:0;this.gl.clearColor('undefined'!==typeof a?a:0,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:1);this.gl.clearDepth(e);this.gl.clearStencil(f);this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)};F.prototype.clear=F.prototype.clear;
F.prototype.na=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:-1;this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.buff);this.gl.drawElements(this.gl.TRIANGLES,0>c?a.count:3*c,this.gl.UNSIGNED_SHORT,2*b)};F.prototype.drawTriangles=F.prototype.na;F.prototype.Mc=h();F.prototype.present=F.prototype.Mc;F.prototype.Eb=function(a){this.sd!=a&&(this.sd=a,this.gl.useProgram(a.program))};F.prototype.setProgram=F.prototype.Eb;
F.prototype.ab=function(a,b,c){this.zi(Xj===a?Vj+b:xe+b,c)};F.prototype.setProgramConstantsFromVector=F.prototype.ab;F.prototype.pa=function(a,b,c,d){this.yi(Xj===a?Vj+b:xe+b,c,'undefined'!==typeof d?d:!1)};F.prototype.setProgramConstantsFromMatrix=F.prototype.pa;F.prototype.Rd=h();F.prototype.setProgramConstantsFromByteArray=F.prototype.Rd;F.prototype.zi=function(a,b){this.gl.uniform4fv(this.getUniformLocation(a),b)};F.prototype.setProgramConstantsFromVectorGL=F.prototype.zi;
F.prototype.yi=function(a,b,c){(c='undefined'!==typeof c?c:!1)&&b.Hb();this.gl.uniformMatrix4fv(this.getUniformLocation(a),!1,b.rawData);c&&b.Hb()};F.prototype.setProgramConstantsFromMatrixGL=F.prototype.yi;F.prototype.jm=h();F.prototype.setProgramConstantsFromByteArrayGL=F.prototype.jm;F.prototype.getUniformLocation=function(a){return this.sd.getUniformLocation(a)};F.prototype.nb=function(a,b,c,d){this.Bi(Rj+a,b,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:Sf)};
F.prototype.setVertexBufferAt=F.prototype.nb;F.prototype.Bi=function(a,b,c,d){c='undefined'!==typeof c?c:0;d='undefined'!==typeof d?d:Sf;if(this.Cc[a]!=b){this.Cc[a]=b;a=this.sd.getAttribLocation(a);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,b.buff);b=this.gl.FLOAT;var e=0,f=!1;switch(d){case Pf:e=1;break;case Qf:e=2;break;case Rf:e=3;break;case Sf:e=4;break;case wd:e=4,b=this.gl.UNSIGNED_BYTE,f=!0}this.gl.vertexAttribPointer(a,e,b,f,c,c)}};F.prototype.setVertexBufferAtGL=F.prototype.Bi;
F.prototype.hc=function(a,b){this.gl.enable(this.gl.BLEND);this.gl.blendEquation(this.gl.FUNC_ADD);this.gl.blendFunc(ml(this.gl,a),ml(this.gl,b))};F.prototype.setBlendFactors=F.prototype.hc;F.prototype.Pd=function(a,b,c,d){this.gl.colorMask(a,b,c,d)};F.prototype.setColorMask=F.prototype.Pd;F.prototype.Sc=function(a,b){this.gl.depthFunc(ol(this.gl,b));this.gl.depthMask(a)};F.prototype.setDepthTest=F.prototype.Sc;
F.prototype.kc=function(a,b){null==b?this.Uc(a,null):x(b,Cl)?this.Uc(a,v(b,Cl)):x(b,Al)?v(b,Al):x(b,Bl)?v(b,Bl):x(b,Dl)&&v(b,Dl)};F.prototype.setTextureAt=F.prototype.kc;F.prototype.jc=function(a){if(!x(a,Cl)&&!x(a,Al)&&!x(a,Bl)&&null!=a)throw'texture argument not derived from TextureBase (can be Texture, CubeTexture, or if supported, RectangleTexture)';};F.prototype.setRenderToTexture=F.prototype.jc;F.prototype.Tc=h();F.prototype.setRenderToBackBuffer=F.prototype.Tc;
F.prototype.ic=function(a){a===Ph?this.gl.disable(this.gl.CULL_FACE):(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(rl(this.gl,a)))};F.prototype.setCulling=F.prototype.ic;F.prototype.Td=h();F.prototype.setStencilActions=F.prototype.Td;F.prototype.Ud=h();F.prototype.setStencilReferenceValue=F.prototype.Ud;F.prototype.Sd=function(a){null==a?this.gl.disable(this.gl.SCISSOR_TEST):(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(a.x,a.y,a.width,a.height))};F.prototype.setScissorRectangle=F.prototype.Sd;
F.prototype.Sb=function(){var a=new vl;a.buff=this.gl.createBuffer();a.gl=this.gl;return a};F.prototype.createVertexBuffer=F.prototype.Sb;F.prototype.Qb=function(a){var b=new tl;b.buff=this.gl.createBuffer();b.gl=this.gl;b.count=a;return b};F.prototype.createIndexBuffer=F.prototype.Qb;F.prototype.createTexture=function(){var a=new Cl;a.gl=this.gl;a.texture=this.gl.createTexture();return a};F.prototype.createTexture=F.prototype.createTexture;F.prototype.Pb=p(null);F.prototype.createCubeTexture=F.prototype.Pb;
F.prototype.Rb=p(null);F.prototype.createRectangleTexture=F.prototype.Rb;F.prototype.createProgram=function(){var a=new ul;a.gl=this.gl;a.program=this.gl.createProgram();return a};F.prototype.createProgram=F.prototype.createProgram;F.prototype.ub=h();F.prototype.drawToBitmapData=F.prototype.ub;F.prototype.vf=h();F.prototype.setSamplerStateAt=F.prototype.vf;F.prototype.Uc=function(a,b){this.Ai(ag+a,a,b)};
F.prototype.Ai=function(a,b,c){this.Bc[a]!=c&&(this.Bc[a]=c)&&(this.gl.activeTexture(WebGLRenderingContext[Gb+b]),this.gl.bindTexture(this.gl.TEXTURE_2D,c.texture),this.gl.uniform1i(this.sd.getUniformLocation(a),b))};F.prototype.setTextureAtGL=F.prototype.Ai;F.prototype.Ac=p(null);F.prototype.createVideoTexture=F.prototype.Ac;
Object.defineProperties(F.prototype,{driverInfo:{get:p(null)},enableErrorChecking:{get:p(!1),set:h()},profile:{get:p(null)},backBufferWidth:{get:p(0)},backBufferHeight:{get:p(0)},maxBackBufferWidth:{get:p(0),set:h()},maxBackBufferHeight:{get:p(0),set:h()}});Object.defineProperties(F,{supportsVideoTexture:{get:p(!1)}});F.prototype.g={names:[{name:'Context3D',h:cf}]};u(cf,F);function El(){}u('flash.display3D.Context3DTextureFormat.BGRA',Bc);u('flash.display3D.Context3DTextureFormat.RGBA_HALF_FLOAT',xi);u('flash.display3D.Context3DTextureFormat.COMPRESSED',Id);u('flash.display3D.Context3DTextureFormat.COMPRESSED_ALPHA',Jd);u('flash.display3D.Context3DTextureFormat.BGR_PACKED','bgrPacked565');u('flash.display3D.Context3DTextureFormat.BGRA_PACKED','bgraPacked4444');El.prototype.g={names:[{name:'Context3DTextureFormat',h:jf}]};u(jf,El);function Fl(a,b,c){this.sb(a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1)}u('flash.events.Event.ACTIVATE','activate');u('flash.events.Event.ADDED','added');u('flash.events.Event.ADDED_TO_STAGE',ac);u('flash.events.Event.BROWSER_ZOOM_CHANGE','browserZoomChange');u('flash.events.Event.CANCEL','cancel');u('flash.events.Event.CHANGE','change');u('flash.events.Event.CLEAR','clear');u('flash.events.Event.CLOSE','close');u('flash.events.Event.COMPLETE','complete');
u('flash.events.Event.CONNECT','connect');u('flash.events.Event.COPY','copy');u('flash.events.Event.CUT','cut');u('flash.events.Event.DEACTIVATE','deactivate');u('flash.events.Event.ENTER_FRAME',fe);u('flash.events.Event.FRAME_CONSTRUCTED','frameConstructed');u('flash.events.Event.EXIT_FRAME','exitFrame');u('flash.events.Event.FRAME_LABEL','frameLabel');u('flash.events.Event.ID3','id3');u('flash.events.Event.INIT',Tg);u('flash.events.Event.MOUSE_LEAVE','mouseLeave');u('flash.events.Event.OPEN','open');
u('flash.events.Event.PASTE','paste');u('flash.events.Event.REMOVED','removed');u('flash.events.Event.REMOVED_FROM_STAGE',qi);u('flash.events.Event.RENDER','render');u('flash.events.Event.RESIZE',ti);u('flash.events.Event.SCROLL','scroll');u('flash.events.Event.TEXT_INTERACTION_MODE_CHANGE','textInteractionModeChange');u('flash.events.Event.SELECT','select');u('flash.events.Event.SELECT_ALL','selectAll');u('flash.events.Event.SOUND_COMPLETE','soundComplete');
u('flash.events.Event.TAB_CHILDREN_CHANGE','tabChildrenChange');u('flash.events.Event.TAB_ENABLED_CHANGE','tabEnabledChange');u('flash.events.Event.TAB_INDEX_CHANGE','tabIndexChange');u('flash.events.Event.UNLOAD','unload');u('flash.events.Event.FULLSCREEN',cg);u('flash.events.Event.CONTEXT3D_CREATE',Md);u('flash.events.Event.TEXTURE_READY',kj);u('flash.events.Event.VIDEO_FRAME','videoFrame');u('flash.events.Event.SUSPEND','suspend');u('flash.events.Event.CHANNEL_MESSAGE','channelMessage');
u('flash.events.Event.CHANNEL_STATE','channelState');u('flash.events.Event.WORKER_STATE','workerState');Fl.prototype.wb=p(null);Fl.prototype.formatToString=Fl.prototype.wb;Fl.prototype.sb=function(a,b,c){this.ld=a;this.pj=b;this.qj=c};Fl.prototype.clone=function(){return new Fl(this.type,this.bubbles,this.cancelable)};Fl.prototype.clone=Fl.prototype.clone;Fl.prototype.toString=function(){return this.wb()};Fl.prototype.toString=Fl.prototype.toString;Fl.prototype.stopPropagation=h();
Fl.prototype.stopPropagation=Fl.prototype.stopPropagation;Fl.prototype.stopImmediatePropagation=h();Fl.prototype.stopImmediatePropagation=Fl.prototype.stopImmediatePropagation;Fl.prototype.preventDefault=h();Fl.prototype.preventDefault=Fl.prototype.preventDefault;Fl.prototype.kl=p(!1);Fl.prototype.isDefaultPrevented=Fl.prototype.kl;
Object.defineProperties(Fl.prototype,{type:{get:n('ld')},bubbles:{get:n('pj')},cancelable:{get:n('qj')},target:{get:n('zj'),set:l('zj')},currentTarget:{get:n('sj'),set:l('sj')},eventPhase:{get:p(0)}});Fl.prototype.g={names:[{name:'Event',h:vf}]};u(vf,Fl);function Gl(){}u('flash.geom.Orientation3D.EULER_ANGLES',re);u('flash.geom.Orientation3D.AXIS_ANGLE',uc);u('flash.geom.Orientation3D.QUATERNION',oi);Gl.prototype.g={names:[{name:'Orientation3D',h:Ef}]};u(Ef,Gl);function G(a,b,c,d){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.z='undefined'!==typeof c?c:0;this.w='undefined'!==typeof d?d:0}var Hl=new G(1,0,0);u('flash.geom.Vector3D.X_AXIS',Hl);var Il=new G(0,1,0);u('flash.geom.Vector3D.Y_AXIS',Il);var Jl=new G(0,0,1);u('flash.geom.Vector3D.Z_AXIS',Jl);u('flash.geom.Vector3D.angleBetween',function(a,b){var c=a.x*b.x+a.y*b.y+a.z*b.z,c=c/(a.length*b.length);return Math.acos(c)});u('flash.geom.Vector3D.distance',function(a,b){return a.bb(b).length});
G.prototype.clone=function(){return new G(this.x,this.y,this.z,this.w)};G.prototype.clone=G.prototype.clone;G.prototype.Qa=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};G.prototype.dotProduct=G.prototype.Qa;G.prototype.Tb=function(a){return new G(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x,1)};G.prototype.crossProduct=G.prototype.Tb;G.prototype.normalize=function(){var a=this.length,b=0!=a?1/a:0;this.x*=b;this.y*=b;this.z*=b;return a};G.prototype.normalize=G.prototype.normalize;
G.prototype.xa=function(a){this.x*=a;this.y*=a;this.z*=a};G.prototype.scaleBy=G.prototype.xa;G.prototype.dl=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};G.prototype.incrementBy=G.prototype.dl;G.prototype.Zj=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};G.prototype.decrementBy=G.prototype.Zj;G.prototype.add=function(a){return new G(this.x+a.x,this.y+a.y,this.z+a.z)};G.prototype.add=G.prototype.add;G.prototype.bb=function(a){return new G(this.x-a.x,this.y-a.y,this.z-a.z)};
G.prototype.subtract=G.prototype.bb;G.prototype.Id=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};G.prototype.negate=G.prototype.Id;G.prototype.Fc=function(a,b){return this.x===a.x&&this.y===a.y&&this.z===a.z&&('undefined'!==typeof b&&b?this.w===a.w:!0)};G.prototype.equals=G.prototype.Fc;G.prototype.zl=function(a,b,c){var d=this.x-a.x;if(d=(0>d?0-d:d)<b)if(d=this.y-a.y,d=0>d?0-d:d,d=d<b)d=this.z-a.z,d=0>d?0-d:d,(d=d<b)&&'undefined'!==typeof c&&c&&(d=this.w=a.w,d=0>d?0-d:d,d=d<b);return d};
G.prototype.nearEquals=G.prototype.zl;G.prototype.ki=function(){var a=1/this.w;this.x*=a;this.y*=a;this.z*=a};G.prototype.project=G.prototype.ki;G.prototype.toString=function(){var a=Jb+this.x+Ra+this.y+Ra+this.z;return a+Ga};G.prototype.toString=G.prototype.toString;G.prototype.J=function(a){this.x=a.x;this.y=a.y;this.z=a.z};G.prototype.copyFrom=G.prototype.J;G.prototype.qa=function(a,b,c){this.x=a;this.y=b;this.z=c};G.prototype.setTo=G.prototype.qa;
Object.defineProperties(G.prototype,{length:{get:function(){var a=this.x*this.x+this.y*this.y+this.z*this.z;return 0>=a?0:Math.sqrt(a)}},lengthSquared:{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z}}});G.prototype.g={names:[{name:'Vector3D',h:If}]};u(If,G);function I(a){a='undefined'!==typeof a?a:null;this.rawData=null!=a&&16===a.length?a:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1].slice()}var Kl=new I;
I.prototype.append=function(a){var b=this.rawData[0],c=this.rawData[4],d=this.rawData[8],e=this.rawData[12],f=this.rawData[1],g=this.rawData[5],k=this.rawData[9],m=this.rawData[13],r=this.rawData[2],t=this.rawData[6],w=this.rawData[10],H=this.rawData[14],E=this.rawData[3],z=this.rawData[7],K=this.rawData[11],J=this.rawData[15],O=a.rawData[0],W=a.rawData[4],ka=a.rawData[8],pa=a.rawData[12],ua=a.rawData[1],Aa=a.rawData[5],sa=a.rawData[9],Da=a.rawData[13],Ea=a.rawData[2],kb=a.rawData[6],da=a.rawData[10],
Ha=a.rawData[14],Oa=a.rawData[3],qb=a.rawData[7],Tb=a.rawData[11];a=a.rawData[15];this.rawData[0]=b*O+f*W+r*ka+E*pa;this.rawData[1]=b*ua+f*Aa+r*sa+E*Da;this.rawData[2]=b*Ea+f*kb+r*da+E*Ha;this.rawData[3]=b*Oa+f*qb+r*Tb+E*a;this.rawData[4]=c*O+g*W+t*ka+z*pa;this.rawData[5]=c*ua+g*Aa+t*sa+z*Da;this.rawData[6]=c*Ea+g*kb+t*da+z*Ha;this.rawData[7]=c*Oa+g*qb+t*Tb+z*a;this.rawData[8]=d*O+k*W+w*ka+K*pa;this.rawData[9]=d*ua+k*Aa+w*sa+K*Da;this.rawData[10]=d*Ea+k*kb+w*da+K*Ha;this.rawData[11]=d*Oa+k*qb+w*Tb+
K*a;this.rawData[12]=e*O+m*W+H*ka+J*pa;this.rawData[13]=e*ua+m*Aa+H*sa+J*Da;this.rawData[14]=e*Ea+m*kb+H*da+J*Ha;this.rawData[15]=e*Oa+m*qb+H*Tb+J*a};I.prototype.append=I.prototype.append;I.prototype.nd=function(a,b,c){c='undefined'!==typeof c?c:null;a=Ll(b.x,b.y,b.z,a);null!=c&&a.od(c.x,c.y,c.z);this.append(a)};I.prototype.appendRotation=I.prototype.nd;
I.prototype.Ej=function(a,b,c){this.rawData[0]*=a;this.rawData[1]*=a;this.rawData[2]*=a;this.rawData[3]*=a;this.rawData[4]*=b;this.rawData[5]*=b;this.rawData[6]*=b;this.rawData[7]*=b;this.rawData[8]*=c;this.rawData[9]*=c;this.rawData[10]*=c;this.rawData[11]*=c};I.prototype.appendScale=I.prototype.Ej;I.prototype.od=function(a,b,c){this.rawData[12]+=a;this.rawData[13]+=b;this.rawData[14]+=c};I.prototype.appendTranslation=I.prototype.od;I.prototype.clone=function(){return new I(this.rawData.concat())};
I.prototype.clone=I.prototype.clone;I.prototype.Y=function(a,b){switch(a){case 0:this.rawData[0]=b.x;this.rawData[1]=b.y;this.rawData[2]=b.z;this.rawData[3]=b.w;break;case 1:this.rawData[4]=b.x;this.rawData[5]=b.y;this.rawData[6]=b.z;this.rawData[7]=b.w;break;case 2:this.rawData[8]=b.x;this.rawData[9]=b.y;this.rawData[10]=b.z;this.rawData[11]=b.w;break;case 3:this.rawData[12]=b.x;this.rawData[13]=b.y;this.rawData[14]=b.z;this.rawData[15]=b.w;break;default:throw Error(zb+a+qa);}};
I.prototype.copyColumnFrom=I.prototype.Y;I.prototype.B=function(a,b){switch(a){case 0:b.x=this.rawData[0];b.y=this.rawData[1];b.z=this.rawData[2];b.w=this.rawData[3];break;case 1:b.x=this.rawData[4];b.y=this.rawData[5];b.z=this.rawData[6];b.w=this.rawData[7];break;case 2:b.x=this.rawData[8];b.y=this.rawData[9];b.z=this.rawData[10];b.w=this.rawData[11];break;case 3:b.x=this.rawData[12];b.y=this.rawData[13];b.z=this.rawData[14];b.w=this.rawData[15];break;default:throw Error(zb+a+qa);}};
I.prototype.copyColumnTo=I.prototype.B;I.prototype.J=function(a){this.rawData=a.rawData.concat()};I.prototype.copyFrom=I.prototype.J;I.prototype.ia=function(a,b,c){b='undefined'!==typeof b?b:0;(c='undefined'!==typeof c?c:!1)&&this.Hb();for(var d=a.length-b,e=0;e<d>>0;){var f=e++;this.rawData[f]=a[f+b]}c&&this.Hb()};I.prototype.copyRawDataFrom=I.prototype.ia;
I.prototype.Ob=function(a,b,c){b='undefined'!==typeof b?b:0;(c='undefined'!==typeof c?c:!1)&&this.Hb();for(var d=this.rawData.length,e=0;e<d>>0;){var f=e++;a[f+b]=this.rawData[f]}c&&this.Hb()};I.prototype.copyRawDataTo=I.prototype.Ob;
I.prototype.ua=function(a,b){switch(a){case 0:this.rawData[0]=b.x;this.rawData[4]=b.y;this.rawData[8]=b.z;this.rawData[12]=b.w;break;case 1:this.rawData[1]=b.x;this.rawData[5]=b.y;this.rawData[9]=b.z;this.rawData[13]=b.w;break;case 2:this.rawData[2]=b.x;this.rawData[6]=b.y;this.rawData[10]=b.z;this.rawData[14]=b.w;break;case 3:this.rawData[3]=b.x;this.rawData[7]=b.y;this.rawData[11]=b.z;this.rawData[15]=b.w;break;default:throw Error('Error, Row '+a+qa);}};I.prototype.copyRowFrom=I.prototype.ua;
I.prototype.ze=function(a,b){switch(a){case 0:b.x=this.rawData[0];b.y=this.rawData[4];b.z=this.rawData[8];b.w=this.rawData[12];break;case 1:b.x=this.rawData[1];b.y=this.rawData[5];b.z=this.rawData[9];b.w=this.rawData[13];break;case 2:b.x=this.rawData[2];b.y=this.rawData[6];b.z=this.rawData[10];b.w=this.rawData[14];break;case 3:b.x=this.rawData[3];b.y=this.rawData[7];b.z=this.rawData[11];b.w=this.rawData[15];break;default:throw Error('Error, Row '+a+qa);}};I.prototype.copyRowTo=I.prototype.ze;
I.prototype.uh=function(a){a.rawData=this.rawData.concat()};I.prototype.copyToMatrix3D=I.prototype.uh;
I.prototype.Ae=function(a){a='undefined'!==typeof a?a:null;null==a&&(a=re);var b=[],c=this.clone().rawData.concat(),d=new G(c[12],c[13],c[14]),e=new G;e.x=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);e.y=Math.sqrt(c[4]*c[4]+c[5]*c[5]+c[6]*c[6]);e.z=Math.sqrt(c[8]*c[8]+c[9]*c[9]+c[10]*c[10]);0>c[0]*(c[5]*c[10]-c[6]*c[9])-c[1]*(c[4]*c[10]-c[6]*c[8])+c[2]*(c[4]*c[9]-c[5]*c[8])&&(e.z=-e.z);c[0]/=e.x;c[1]/=e.x;c[2]/=e.x;c[4]/=e.y;c[5]/=e.y;c[6]/=e.y;c[8]/=e.z;c[9]/=e.z;c[10]/=e.z;var f=new G;switch(a){case uc:f.w=
Math.acos((c[0]+c[5]+c[10]-1)/2);a=Math.sqrt((c[6]-c[9])*(c[6]-c[9])+(c[8]-c[2])*(c[8]-c[2])+(c[1]-c[4])*(c[1]-c[4]));0!=a?(f.x=(c[6]-c[9])/a,f.y=(c[8]-c[2])/a,f.z=(c[1]-c[4])/a):f.x=f.y=f.z=0;break;case oi:a=c[0]+c[5]+c[10];0<a?(f.w=Math.sqrt(1+a)/2,f.x=(c[6]-c[9])/(4*f.w),f.y=(c[8]-c[2])/(4*f.w),f.z=(c[1]-c[4])/(4*f.w)):c[0]>c[5]&&c[0]>c[10]?(f.x=Math.sqrt(1+c[0]-c[5]-c[10])/2,f.w=(c[6]-c[9])/(4*f.x),f.y=(c[1]+c[4])/(4*f.x),f.z=(c[8]+c[2])/(4*f.x)):c[5]>c[10]?(f.y=Math.sqrt(1+c[5]-c[0]-c[10])/2,
f.x=(c[1]+c[4])/(4*f.y),f.w=(c[8]-c[2])/(4*f.y),f.z=(c[6]+c[9])/(4*f.y)):(f.z=Math.sqrt(1+c[10]-c[0]-c[5])/2,f.x=(c[8]+c[2])/(4*f.z),f.y=(c[6]+c[9])/(4*f.z),f.w=(c[1]-c[4])/(4*f.z));break;case re:f.y=Math.asin(-c[2]),1!=c[2]&&-1!=c[2]?(f.x=Math.atan2(c[6],c[10]),f.z=Math.atan2(c[1],c[0])):(f.z=0,f.x=Math.atan2(c[4],c[5]))}b.push(d);b.push(f);b.push(e);return b};I.prototype.decompose=I.prototype.Ae;
I.prototype.yh=function(a){var b=a.x,c=a.y;a=a.z;return new G(b*this.rawData[0]+c*this.rawData[4]+a*this.rawData[8]+this.rawData[3],b*this.rawData[1]+c*this.rawData[5]+a*this.rawData[9]+this.rawData[7],b*this.rawData[2]+c*this.rawData[6]+a*this.rawData[10]+this.rawData[11],0)};I.prototype.deltaTransformVector=I.prototype.yh;
I.prototype.Xb=function(){this.rawData[0]=1;this.rawData[1]=0;this.rawData[2]=0;this.rawData[3]=0;this.rawData[4]=0;this.rawData[5]=1;this.rawData[6]=0;this.rawData[7]=0;this.rawData[8]=0;this.rawData[9]=0;this.rawData[10]=1;this.rawData[11]=0;this.rawData[12]=0;this.rawData[13]=0;this.rawData[14]=0;this.rawData[15]=1};I.prototype.identity=I.prototype.Xb;I.prototype.Th=function(a,b){for(var c=0;16>c;){var d=c++;this.rawData[d]+=(a.rawData[d]-this.rawData[d])*b}};I.prototype.interpolateTo=I.prototype.Th;
I.prototype.Ta=function(){var a=this.determinant,b=1E-11<Math.abs(a);if(b){var a=1/a,c=this.rawData[0],d=this.rawData[4],e=this.rawData[8],f=this.rawData[12],g=this.rawData[1],k=this.rawData[5],m=this.rawData[9],r=this.rawData[13],t=this.rawData[2],w=this.rawData[6],H=this.rawData[10],E=this.rawData[14],z=this.rawData[3],K=this.rawData[7],J=this.rawData[11],O=this.rawData[15];this.rawData[0]=a*(k*(H*O-E*J)-m*(w*O-E*K)+r*(w*J-H*K));this.rawData[1]=-a*(g*(H*O-E*J)-m*(t*O-E*z)+r*(t*J-H*z));this.rawData[2]=
a*(g*(w*O-E*K)-k*(t*O-E*z)+r*(t*K-w*z));this.rawData[3]=-a*(g*(w*J-H*K)-k*(t*J-H*z)+m*(t*K-w*z));this.rawData[4]=-a*(d*(H*O-E*J)-e*(w*O-E*K)+f*(w*J-H*K));this.rawData[5]=a*(c*(H*O-E*J)-e*(t*O-E*z)+f*(t*J-H*z));this.rawData[6]=-a*(c*(w*O-E*K)-d*(t*O-E*z)+f*(t*K-w*z));this.rawData[7]=a*(c*(w*J-H*K)-d*(t*J-H*z)+e*(t*K-w*z));this.rawData[8]=a*(d*(m*O-r*J)-e*(k*O-r*K)+f*(k*J-m*K));this.rawData[9]=-a*(c*(m*O-r*J)-e*(g*O-r*z)+f*(g*J-m*z));this.rawData[10]=a*(c*(k*O-r*K)-d*(g*O-r*z)+f*(g*K-k*z));this.rawData[11]=
-a*(c*(k*J-m*K)-d*(g*J-m*z)+e*(g*K-k*z));this.rawData[12]=-a*(d*(m*E-r*H)-e*(k*E-r*w)+f*(k*H-m*w));this.rawData[13]=a*(c*(m*E-r*H)-e*(g*E-r*t)+f*(g*H-m*t));this.rawData[14]=-a*(c*(k*E-r*w)-d*(g*E-r*t)+f*(g*w-k*t));this.rawData[15]=a*(c*(k*H-m*w)-d*(g*H-m*t)+e*(g*w-k*t))}return b};I.prototype.invert=I.prototype.Ta;
I.prototype.hi=function(a,b,c){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;null==b&&(b=new G(0,0,-1));null==c&&(c=new G(0,-1,0));b=b.bb(a);c=c.clone();var d;b.normalize();c.normalize();d=b.clone();d.xa(c.Qa(b));c=c.bb(d);0<c.length?c.normalize():c=0!=b.x?new G(-b.y,b.x,0):new G(1,0,0);d=c.Tb(b);d.normalize();this.rawData[0]=d.x;this.rawData[4]=d.y;this.rawData[8]=d.z;this.rawData[12]=0;this.rawData[1]=c.x;this.rawData[5]=c.y;this.rawData[9]=c.z;this.rawData[13]=0;this.rawData[2]=
b.x;this.rawData[6]=b.y;this.rawData[10]=b.z;this.rawData[14]=0;this.rawData[3]=a.x;this.rawData[7]=a.y;this.rawData[11]=a.z;this.rawData[15]=1};I.prototype.pointAt=I.prototype.hi;
I.prototype.mf=function(a){var b=a.rawData[0],c=a.rawData[4],d=a.rawData[8],e=a.rawData[12],f=a.rawData[1],g=a.rawData[5],k=a.rawData[9],m=a.rawData[13],r=a.rawData[2],t=a.rawData[6],w=a.rawData[10],H=a.rawData[14],E=a.rawData[3],z=a.rawData[7],K=a.rawData[11];a=a.rawData[15];var J=this.rawData[0],O=this.rawData[4],W=this.rawData[8],ka=this.rawData[12],pa=this.rawData[1],ua=this.rawData[5],Aa=this.rawData[9],sa=this.rawData[13],Da=this.rawData[2],Ea=this.rawData[6],kb=this.rawData[10],da=this.rawData[14],
Ha=this.rawData[3],Oa=this.rawData[7],qb=this.rawData[11],Tb=this.rawData[15];this.rawData[0]=b*J+f*O+r*W+E*ka;this.rawData[1]=b*pa+f*ua+r*Aa+E*sa;this.rawData[2]=b*Da+f*Ea+r*kb+E*da;this.rawData[3]=b*Ha+f*Oa+r*qb+E*Tb;this.rawData[4]=c*J+g*O+t*W+z*ka;this.rawData[5]=c*pa+g*ua+t*Aa+z*sa;this.rawData[6]=c*Da+g*Ea+t*kb+z*da;this.rawData[7]=c*Ha+g*Oa+t*qb+z*Tb;this.rawData[8]=d*J+k*O+w*W+K*ka;this.rawData[9]=d*pa+k*ua+w*Aa+K*sa;this.rawData[10]=d*Da+k*Ea+w*kb+K*da;this.rawData[11]=d*Ha+k*Oa+w*qb+K*Tb;
this.rawData[12]=e*J+m*O+H*W+a*ka;this.rawData[13]=e*pa+m*ua+H*Aa+a*sa;this.rawData[14]=e*Da+m*Ea+H*kb+a*da;this.rawData[15]=e*Ha+m*Oa+H*qb+a*Tb};I.prototype.prepend=I.prototype.mf;I.prototype.Ml=function(a,b,c){c='undefined'!==typeof c?c:null;a=Ll(b.x,b.y,b.z,a);null!=c&&a.od(c.x,c.y,c.z);this.mf(a)};I.prototype.prependRotation=I.prototype.Ml;
I.prototype.nf=function(a,b,c){this.rawData[0]*=a;this.rawData[1]*=b;this.rawData[2]*=c;this.rawData[4]*=a;this.rawData[5]*=b;this.rawData[6]*=c;this.rawData[8]*=a;this.rawData[9]*=b;this.rawData[10]*=c;this.rawData[12]*=a;this.rawData[13]*=b;this.rawData[14]*=c};I.prototype.prependScale=I.prototype.nf;I.prototype.ji=function(a,b,c){Kl.Xb();Kl.position=new G(a,b,c);this.mf(Kl)};I.prototype.prependTranslation=I.prototype.ji;
I.prototype.ri=function(a,b){b='undefined'!==typeof b?b:null;if(3>a.length||0==a[2].x||0==a[2].y||0==a[2].z)return!1;null==b&&(b=re);this.Xb();var c=[];c[0]=c[1]=c[2]=a[2].x;c[4]=c[5]=c[6]=a[2].y;c[8]=c[9]=c[10]=a[2].z;switch(b){case re:var d=Math.cos(a[1].x),e=Math.cos(a[1].y),f=Math.cos(a[1].z),g=Math.sin(a[1].x),k=Math.sin(a[1].y),m=Math.sin(a[1].z);this.rawData[0]=e*f*c[0];this.rawData[1]=e*m*c[1];this.rawData[2]=-k*c[2];this.rawData[3]=0;this.rawData[4]=(g*k*f-d*m)*c[4];this.rawData[5]=(g*k*
m+d*f)*c[5];this.rawData[6]=g*e*c[6];this.rawData[7]=0;this.rawData[8]=(d*k*f+g*m)*c[8];this.rawData[9]=(d*k*m-g*f)*c[9];this.rawData[10]=d*e*c[10];this.rawData[11]=0;this.rawData[12]=a[0].x;this.rawData[13]=a[0].y;this.rawData[14]=a[0].z;this.rawData[15]=1;break;default:d=a[1].x,e=a[1].y,f=a[1].z,g=a[1].w,b==uc&&(d*=Math.sin(g/2),e*=Math.sin(g/2),f*=Math.sin(g/2),g=Math.cos(g/2)),this.rawData[0]=(1-2*e*e-2*f*f)*c[0],this.rawData[1]=(2*d*e+2*g*f)*c[1],this.rawData[2]=(2*d*f-2*g*e)*c[2],this.rawData[3]=
0,this.rawData[4]=(2*d*e-2*g*f)*c[4],this.rawData[5]=(1-2*d*d-2*f*f)*c[5],this.rawData[6]=(2*e*f+2*g*d)*c[6],this.rawData[7]=0,this.rawData[8]=(2*d*f+2*g*e)*c[8],this.rawData[9]=(2*e*f-2*g*d)*c[9],this.rawData[10]=(1-2*d*d-2*e*e)*c[10],this.rawData[11]=0,this.rawData[12]=a[0].x,this.rawData[13]=a[0].y,this.rawData[14]=a[0].z,this.rawData[15]=1}0===a[2].x&&(this.rawData[0]=1E-15);0===a[2].y&&(this.rawData[5]=1E-15);0===a[2].z&&(this.rawData[10]=1E-15);return!(0===a[2].x||0===a[2].y||0===a[2].y)};
I.prototype.recompose=I.prototype.ri;I.prototype.Ef=function(a){var b=a.x,c=a.y;a=a.z;return new G(b*this.rawData[0]+c*this.rawData[4]+a*this.rawData[8]+this.rawData[12],b*this.rawData[1]+c*this.rawData[5]+a*this.rawData[9]+this.rawData[13],b*this.rawData[2]+c*this.rawData[6]+a*this.rawData[10]+this.rawData[14],b*this.rawData[3]+c*this.rawData[7]+a*this.rawData[11]+this.rawData[15])};I.prototype.transformVector=I.prototype.Ef;
I.prototype.xm=function(a,b){for(var c=0;c+3<=a.length;){var d=a[c],e=a[c+1],f=a[c+2];b[c]=d*this.rawData[0]+e*this.rawData[4]+f*this.rawData[8]+this.rawData[12];b[c+1]=d*this.rawData[1]+e*this.rawData[5]+f*this.rawData[9]+this.rawData[13];b[c+2]=d*this.rawData[2]+e*this.rawData[6]+f*this.rawData[10]+this.rawData[14];c+=3}};I.prototype.transformVectors=I.prototype.xm;
I.prototype.Hb=function(){var a=this.rawData.concat();this.rawData[1]=a[4];this.rawData[2]=a[8];this.rawData[3]=a[12];this.rawData[4]=a[1];this.rawData[6]=a[9];this.rawData[7]=a[13];this.rawData[8]=a[2];this.rawData[9]=a[6];this.rawData[11]=a[14];this.rawData[12]=a[3];this.rawData[13]=a[7];this.rawData[14]=a[11]};I.prototype.transpose=I.prototype.Hb;u('flash.geom.Matrix3D.interpolate',function(a,b,c){for(var d=new I,e=0;16>e;){var f=e++;d.rawData[f]=a.rawData[f]+(b.rawData[f]-a.rawData[f])*c}return d});
function Ll(a,b,c,d){var e;e=('undefined'!==typeof e?e:null)||new I;d=Math.PI/180*-d;var f=Math.cos(d);d=Math.sin(d);var g=1-f;e.rawData[0]=f+a*a*g;e.rawData[5]=f+b*b*g;e.rawData[10]=f+c*c*g;var f=a*b*g,k=c*d;e.rawData[4]=f+k;e.rawData[1]=f-k;f=a*c*g;k=b*d;e.rawData[8]=f-k;e.rawData[2]=f+k;f=b*c*g;k=a*d;e.rawData[9]=f+k;e.rawData[6]=f-k;return e}
Object.defineProperties(I.prototype,{determinant:{get:function(){return(this.rawData[0]*this.rawData[5]-this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15]-this.rawData[14]*this.rawData[11])-(this.rawData[0]*this.rawData[9]-this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15]-this.rawData[14]*this.rawData[7])+(this.rawData[0]*this.rawData[13]-this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11]-this.rawData[10]*this.rawData[7])+(this.rawData[4]*this.rawData[9]-
this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15]-this.rawData[14]*this.rawData[3])-(this.rawData[4]*this.rawData[13]-this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11]-this.rawData[10]*this.rawData[3])+(this.rawData[8]*this.rawData[13]-this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7]-this.rawData[6]*this.rawData[3])}},position:{get:function(){return new G(this.rawData[12],this.rawData[13],this.rawData[14])},set:function(a){this.rawData[12]=a.x;
this.rawData[13]=a.y;this.rawData[14]=a.z}}});I.prototype.g={names:[{name:'Matrix3D',h:Df}]};u(Df,I);function Ml(){}u('flash.utils.Endian.BIG_ENDIAN',Cc);u('flash.utils.Endian.LITTLE_ENDIAN',gh);Ml.prototype.g={names:[{name:'Endian',h:Nf}]};u(Nf,Ml);function L(){this.bg=Cc;this.dataView=new DataView(new ArrayBuffer(0))}L.prototype.oa=!1;L.prototype.l=0;L.prototype.fg=0;L.prototype.Pl=function(a,b,c){a.position='undefined'!==typeof b?b:0;a.hj(this,this.position,'undefined'!==typeof c?c:0)};L.prototype.readBytes=L.prototype.Pl;L.prototype.hj=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:0;0===c&&(c=a.length-b);Nl(this,c);a.position=b;for(b=0;b<c;b++)this.ga(a.ni())};L.prototype.writeBytes=L.prototype.hj;
L.prototype.Em=function(a){Nl(this,1);this.dataView.setInt8(this.l,a?1:0);this.l++};L.prototype.writeBoolean=L.prototype.Em;L.prototype.ga=function(a){Nl(this,1);this.dataView.setInt8(this.l,a);this.l++};L.prototype.writeByte=L.prototype.ga;L.prototype.pc=function(a){Nl(this,2);this.dataView.setInt16(this.l,a,this.oa);this.l+=2};L.prototype.writeShort=L.prototype.pc;L.prototype.Hm=function(a){Nl(this,4);this.dataView.setInt32(this.l,a,this.oa);this.l+=4};L.prototype.writeInt=L.prototype.Hm;
L.prototype.ed=function(a){Nl(this,4);this.dataView.setUint32(this.l,a,this.oa);this.l+=4};L.prototype.writeUnsignedInt=L.prototype.ed;L.prototype.Gm=function(a){Nl(this,4);this.dataView.setFloat32(this.l,a,this.oa);this.l+=4};L.prototype.writeFloat=L.prototype.Gm;L.prototype.Fm=function(a){Nl(this,8);this.dataView.setFloat64(this.l,a,this.oa);this.l+=8};L.prototype.writeDouble=L.prototype.Fm;
L.prototype.ij=function(a,b){function c(a){return a.charCodeAt(0)}try{var d=(new TextEncoder(b)).encode(a)}catch(f){d=new Uint8Array(a.split(aa).map(c))}for(var e=0;e<d.length;e++)this.ga(d[e])};L.prototype.writeMultiByte=L.prototype.ij;L.prototype.Jm=function(a){var b=this.l+=2;this.pb(a);a=this.l;this.l=b-2;this.pc(b-a);this.l=a};L.prototype.writeUTF=L.prototype.Jm;L.prototype.pb=function(a){this.ij(a,Jj)};L.prototype.writeUTFBytes=L.prototype.pb;
L.prototype.Ol=function(){var a=0!=this.dataView.getInt8(this.l);this.l++;return a};L.prototype.readBoolean=L.prototype.Ol;L.prototype.ni=function(){var a=this.dataView.getInt8(this.l);this.l++;return a};L.prototype.readByte=L.prototype.ni;L.prototype.Oc=function(){var a=this.dataView.getUint8(this.l);this.l++;return a};L.prototype.readUnsignedByte=L.prototype.Oc;L.prototype.Vl=function(){var a=this.dataView.getInt16(this.l,this.oa);this.l+=2;return a};L.prototype.readShort=L.prototype.Vl;
L.prototype.pi=function(){var a=this.dataView.getUint16(this.l,this.oa);this.l+=2;return a};L.prototype.readUnsignedShort=L.prototype.pi;L.prototype.Tl=function(){var a=this.dataView.getInt32(this.l,this.oa);this.l+=4;return a};L.prototype.readInt=L.prototype.Tl;L.prototype.Xl=function(){var a=this.dataView.getUint32(this.l,this.oa);this.l+=4;return a};L.prototype.readUnsignedInt=L.prototype.Xl;L.prototype.Rl=function(){var a=this.dataView.getFloat32(this.l,this.oa);this.l+=4;return a};
L.prototype.readFloat=L.prototype.Rl;L.prototype.Ql=function(){var a=this.dataView.getFloat64(this.l,this.oa);this.l+=8;return a};L.prototype.readDouble=L.prototype.Ql;L.prototype.oi=function(a,b){var c=new Uint8Array(a);c.set(new Uint8Array(this.dataView.buffer.slice(this.l,this.l+a)));this.l+=a;try{var d=(new TextDecoder(b)).decode(c)}catch(e){d=String.fromCharCode.apply(null,c)}return d};L.prototype.readMultiByte=L.prototype.oi;L.prototype.Wl=function(){return this.ec(this.pi())};
L.prototype.readUTF=L.prototype.Wl;L.prototype.ec=function(a){return this.oi(a,Jj)};L.prototype.readUTFBytes=L.prototype.ec;function Nl(a,b){a.l+b>a.length&&(a.length=a.l+b)}L.prototype.Im=h();L.prototype.writeObject=L.prototype.Im;L.prototype.Ul=p(null);L.prototype.readObject=L.prototype.Ul;L.prototype.$j=h();L.prototype.deflate=L.prototype.$j;L.prototype.Oj=h();L.prototype.compress=L.prototype.Oj;L.prototype.Ve=h();L.prototype.inflate=L.prototype.Ve;L.prototype.ym=h();L.prototype.uncompress=L.prototype.ym;
L.prototype.toString=function(){this.position=0;return this.ec(this.length)};L.prototype.toString=L.prototype.toString;L.prototype.clear=function(){this.length=this.position=0};L.prototype.clear=L.prototype.clear;L.prototype.Hj=p(0);L.prototype.atomicCompareAndSwapIntAt=L.prototype.Hj;L.prototype.Ij=p(0);L.prototype.atomicCompareAndSwapLength=L.prototype.Ij;
Object.defineProperties(L.prototype,{length:{get:n('fg'),set:function(a){this.fg=a;var b=new Uint8Array(a);b.set(new Uint8Array(this.dataView.buffer.byteLength>a?this.dataView.buffer.slice(0,a):this.dataView.buffer));this.dataView=new DataView(b.buffer)}},bytesAvailable:{get:function(){return this.length-this.position}},position:{get:n('l'),set:l('l')},objectEncoding:{get:p(0),set:h()},endian:{get:n('bg'),set:function(a){this.bg=a;this.oa=a===gh}},shareable:{get:p(!1),set:h()}});
Object.defineProperties(L,{defaultObjectEncoding:{get:p(0),set:h()}});L.prototype.g={names:[{name:'ByteArray',h:Lf}]};u(Lf,L);function M(a,b){this.Gi={};this.R=new I;this.O=new I;this.matr=new A;this.H=new A;this.se=[];this.ii={};this.cj={};this.qh={};this.Sh={};this.Ga=new il(null,null,null,WebGLRenderingContext.DYNAMIC_DRAW);this.jl='undefined'!==typeof b?b:!1;this.stage=a;this.canvas=a.canvas;this.ctx=new F;this.ctx.canvas=this.canvas;this.ctx.gl=v(this.canvas.getContext(lk,{alpha:!1,antialias:!1})||this.canvas.getContext(ve,{alpha:!1,antialias:!1}),WebGLRenderingContext);this.Ei();this.ctx.hc(Ri,bi);this.ctx.ic(Ph);
var c=new Float32Array([0,0,1,0,0,1,1,1]),d=new Uint16Array([0,2,1,2,1,3]);this.bitmapDrawable=new il(c,c,d,this.ctx.gl.STATIC_DRAW);var e=sc,c=ki;this.hh=this.ctx.createProgram();d=new L;d.pb(e);e=new L;e.pb(c);this.hh.upload(d,e);e=tc;c=li;this.rh=this.ctx.createProgram();d=new L;d.pb(e);e=new L;e.pb(c);this.rh.upload(d,e);a.addEventListener(ti,y(this.Ei,this,$i))}M.prototype.globalAlpha=1;M.prototype.globalAlpha=M.prototype.globalAlpha;q=M.prototype;q.Lb=0;q.bc=0;q.ac=0;q.$d=!0;
q.Ei=function(){this.ctx.Nb(this.stage.stageWidth,this.stage.stageHeight,0,!1)};q.arc=function(a,b,c,d,e){this.currentPath.path.arc(a,b,c,d,e);return null};M.prototype.arc=M.prototype.arc;M.prototype.arcTo=p(null);M.prototype.arcTo=M.prototype.arcTo;M.prototype.beginPath=function(){this.currentPath=new jl;this.currentPath.path=cl.qb();this.currentPath.matr=this.matr;return null};M.prototype.beginPath=M.prototype.beginPath;
M.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.currentPath.path.va(a,b,c,d,e,f);return null};M.prototype.bezierCurveTo=M.prototype.bezierCurveTo;M.prototype.clearRect=function(){this.ctx.clear(1,1,1);this.Lb=0;return null};M.prototype.clearRect=M.prototype.clearRect;M.prototype.clip=p(null);M.prototype.clip=M.prototype.clip;M.prototype.closePath=p(null);M.prototype.closePath=M.prototype.closePath;M.prototype.createImageData=p(null);M.prototype.createImageData=M.prototype.createImageData;
M.prototype.createLinearGradient=p(null);M.prototype.createLinearGradient=M.prototype.createLinearGradient;M.prototype.createPattern=function(a,b){return new fl(a,b)};M.prototype.createPattern=M.prototype.createPattern;M.prototype.createRadialGradient=p(null);M.prototype.createRadialGradient=M.prototype.createRadialGradient;M.prototype.drawImage=function(a){this.tb(a,this.bitmapDrawable,this.matr,null,!0,this.colorTransform.eb,!0,!0);return null};M.prototype.drawImage=M.prototype.drawImage;
M.prototype.Ec=function(a){this.currentPath=a.glpath2d;null==a.glpath2d&&(this.currentPath=a.glpath2d=new jl);this.currentPath.path=a;this.currentPath.matr=this.matr;return null};M.prototype.drawPath=M.prototype.Ec;
M.prototype.tb=function(a,b,c,d,e,f,g,k){if(this.jl){if(k||this.Ua)if(null==a||this.Gd!=a){if(0<this.bc){var m=Ol(this.bc),r=Ol(this.ac),t=this.ii[m],w=this.cj[m],H=this.qh[m],E=this.Sh[r];null==t&&(t=this.ii[m]=new hl(new Float32Array(2*m),2,this.ctx.gl.DYNAMIC_DRAW),Mk(Ac,m,this.bc));null==w&&this.Ua&&(w=this.cj[m]=new hl(new Float32Array(2*m),2,this.ctx.gl.DYNAMIC_DRAW));null==H&&this.$d&&(H=this.qh[m]=new hl(new Uint32Array(m),4,this.ctx.gl.DYNAMIC_DRAW));null==E&&(E=this.Sh[r]=new gl(new Uint16Array(3*
r),this.ctx.gl.DYNAMIC_DRAW),Mk(zc,r,this.ac));m=t.data;if(this.Ua)var z=w.data;if(this.$d)var K=H.data;r=E.data;this.Ga.index=E;this.Ga.pos=t;this.Ga.uv=w;this.Ga.color=H;this.Ga.cc=this.ac;w=t=0;if(this.Ua)var J=this.Gd.width,O=this.Gd.height;H=this.Lb;for(E=0;E<H;E++){var W=this.se[E],ka=W[1],pa=W[2],ua=W[4],Aa=W[6],sa=W[5];if(this.Ua){var Da=W[3];Da&&(this.H.J(pa),this.H.Ta(),this.H.concat(Da),this.H.b*=-1,this.H.c*=-1,this.H.tx*=-1,this.H.ty*=-1)}var Ea=ka.pos.data;if(this.Ua)var kb=ka.uv.data;
for(var W=Ea.length/2,da=0;da<W;da++){var Ha=Ea[2*da],Oa=Ea[2*da+1];ua&&(Ha*=J,Oa*=O);var qb=pa.a*Ha+pa.c*Oa+pa.tx,Ha=pa.d*Oa+pa.b*Ha+pa.ty;m[2*(t+da)]=qb;m[2*(t+da)+1]=Ha;this.Ua&&(Ha=kb[2*da],Oa=kb[2*da+1],Aa&&(Ha*=J,Oa*=O),Da?(qb=this.H.a*Ha+this.H.c*Oa+this.H.tx,Ha=this.H.d*Oa+this.H.b*Ha+this.H.ty,z[2*(t+da)]=qb,z[2*(t+da)+1]=Ha):(z[2*(t+da)]=Ha,z[2*(t+da)+1]=Oa));this.$d&&(K[t+da]=sa)}ka=ka.index.data;pa=ka.length;for(da=0;da<pa;da++)r[w+da]=ka[da]+t;t+=W;w+=pa}this.Ga.index.N=!0;this.Ga.pos.N=
!0;this.Ua&&(this.Ga.uv.N=!0);this.$d&&(this.Ga.color.N=!0);this.mb(this.Gd,this.Ga,null,null,!1,!1,this.Ua);this.Lb=0}this.ac=this.bc=0;this.Gd=a;this.Ua=k}b&&(this.bc+=b.pos.data.length/2,this.ac+=b.index.data.length/3);z=this.se[this.Lb];null==z&&(z=this.se[this.Lb]=[]);this.Lb++;z[0]=a;z[1]=b;z[2]=c;z[3]=d;z[4]=e;z[5]=f;z[6]=g;z[7]=k}else if(a){z=b.color;z.N=!0;z=z.data;K=z.length;for(J=0;J<K;J++)z[J]=f;this.mb(a,b,c,d,e,g,k)}};M.prototype.drawImageInternal=M.prototype.tb;
M.prototype.mb=function(a,b,c,d,e,f,g){al++;if(g){var k,m=a.Aj;if(null==m){k=Ol(a.width);var r=Ol(a.height),m=new D(k,r,!0,0);m.Ke(a);var t=this.ctx.createTexture(k,r,Bc,!1);t.Ia(m,1);m=new el;m.img=a;m.texture=t;m.width=k;m.height=r;a.Aj=m}k=m;this.ctx.Eb(this.hh);this.ctx.kc(0,k.texture);this.ctx.nb(2,b.uv.xb(this.ctx),0,Qf)}else this.ctx.Eb(this.rh);this.ctx.nb(0,b.pos.xb(this.ctx),0,Qf);this.ctx.nb(1,b.color.xb(this.ctx),0,wd);c?(this.R.rawData[0]=2*c.a/this.stage.stageWidth,this.R.rawData[1]=
2*-c.b/this.stage.stageHeight,this.R.rawData[4]=2*c.c/this.stage.stageWidth,this.R.rawData[5]=2*-c.d/this.stage.stageHeight,this.R.rawData[12]=2*c.tx/this.stage.stageWidth-1,this.R.rawData[13]=1-2*c.ty/this.stage.stageHeight):(this.R.rawData[0]=2/this.stage.stageWidth,this.R.rawData[1]=0,this.R.rawData[4]=0,this.R.rawData[5]=-2/this.stage.stageHeight,this.R.rawData[12]=-1,this.R.rawData[13]=1);e&&(this.R.rawData[0]*=a.width,this.R.rawData[1]*=a.width,this.R.rawData[4]*=a.height,this.R.rawData[5]*=
a.height);this.ctx.pa(Xj,0,this.R);g&&(d?(c?(this.H.J(c),this.H.Ta(),this.H.concat(d)):this.H.J(d),this.O.rawData[0]=this.H.a/k.width,this.O.rawData[1]=-this.H.b/k.width,this.O.rawData[4]=-this.H.c/k.height,this.O.rawData[5]=this.H.d/k.height,this.O.rawData[12]=-this.H.tx/k.width,this.O.rawData[13]=-this.H.ty/k.height,f&&(this.O.rawData[0]*=a.width,this.O.rawData[1]*=a.width,this.O.rawData[4]*=a.height,this.O.rawData[5]*=a.height)):(this.O.rawData[0]=1/k.width,this.O.rawData[1]=0,this.O.rawData[4]=
0,this.O.rawData[5]=1/k.height,this.O.rawData[12]=0,this.O.rawData[13]=0,f&&(this.O.rawData[0]*=a.width,this.O.rawData[5]*=a.height)),this.ctx.pa(Xj,4,this.O));this.ctx.na(b.index.xb(this.ctx),0,b.cc)};
M.prototype.fill=function(){this.fillStyleIsImage?this.tb(this.fillStyle.image,this.currentPath.drawable,this.currentPath.matr,this.matr,!1,this.colorTransform.eb,0<this.currentPath.path.tris.length,!0):this.currentPath&&this.tb(this.fillStyle,this.currentPath.drawable,this.currentPath.matr,null,!1,this.fillStyle,!1,!1);return null};M.prototype.fill=M.prototype.fill;M.prototype.fillRect=p(null);M.prototype.fillRect=M.prototype.fillRect;
M.prototype.fillText=function(a,b,c){var d=this.Gi[a];if(null==d){var d=this.Gi[a]=v(document.createElement(zd),HTMLCanvasElement),e=v(d.getContext(nb),CanvasRenderingContext2D);e.font=this.font;var f=e.measureText(a);d.width=f.width;d.height=this.font.substr(0,this.font.indexOf(ni))>>0;e.font=this.font;e.textBaseline=lj;e.fillStyle=this.fillStyle;e.fillText(a,0,0)}this.H.J(this.matr);this.H.translate(b,c);this.tb(d,this.bitmapDrawable,this.H.clone(),null,!0,this.colorTransform.eb,!0,!0);return null};
M.prototype.fillText=M.prototype.fillText;M.prototype.getImageData=p(null);M.prototype.getImageData=M.prototype.getImageData;M.prototype.isPointInPath=p(!1);M.prototype.isPointInPath=M.prototype.isPointInPath;M.prototype.lineTo=function(a,b){this.currentPath.path.lineTo(a,b);return null};M.prototype.lineTo=M.prototype.lineTo;M.prototype.measureText=p(null);M.prototype.measureText=M.prototype.measureText;M.prototype.moveTo=function(a,b){this.currentPath.path.moveTo(a,b);return null};
M.prototype.moveTo=M.prototype.moveTo;M.prototype.putImageData=p(null);M.prototype.putImageData=M.prototype.putImageData;M.prototype.quadraticCurveTo=function(a,b,c,d){this.currentPath.path.ea(a,b,c,d);return null};M.prototype.quadraticCurveTo=M.prototype.quadraticCurveTo;M.prototype.rect=function(a,b,c,d){this.currentPath.path.moveTo(a,b);this.currentPath.path.lineTo(a+c,b);this.currentPath.path.lineTo(a+c,b+d);this.currentPath.path.lineTo(a,b+d);this.currentPath.path.closePath();return null};
M.prototype.rect=M.prototype.rect;M.prototype.setTransform=p(null);M.prototype.setTransform=M.prototype.setTransform;M.prototype.wf=function(a){this.matr=a;return null};M.prototype.setTransform2=M.prototype.wf;M.prototype.stroke=p(null);M.prototype.stroke=M.prototype.stroke;M.prototype.strokeRect=p(null);M.prototype.strokeRect=M.prototype.strokeRect;M.prototype.strokeText=p(null);M.prototype.strokeText=M.prototype.strokeText;
M.prototype.Hi=function(a){var b=this.matr.a/a.a,c=0,d=0,e=this.matr.d/a.d,f=this.matr.tx/a.a+a.tx/a.a,g=this.matr.ty/a.d+a.ty/a.d;if(0!=this.matr.b||0!=this.matr.c||0!=a.b||0!=a.c)b+=this.matr.b*a.c,e+=this.matr.c*a.b,c+=this.matr.a*a.b+this.matr.b*a.d,d+=this.matr.c*a.a+this.matr.d*a.c,f+=this.matr.ty*a.c,g+=this.matr.tx*a.b;a.a=b;a.b=c;a.c=d;a.d=e;a.tx=f;a.ty=g;this.matr=a;return null};M.prototype.transform2=M.prototype.Hi;function Ol(a){for(var b=1;b<a;)b*=2;return b}
M.prototype.g={names:[{name:'GLCanvasRenderingContext2D',h:Be}]};u(Be,M);function Pl(){this.array=[]}Pl.prototype.length=0;Pl.prototype.length=Pl.prototype.length;Pl.prototype.push=function(a){this.array[this.length++]=a};Pl.prototype.push=Pl.prototype.push;Pl.prototype.g={names:[{name:'MemArray',h:Ie}]};u(Ie,Pl);function Ql(){B.call(this);this.polys=new Pl}Ck(Ql,B);Ql.prototype.clear=function(){for(var a=this.polys.array.length,b=0;b<a;b++)this.polys.array[b].length=0;this.polys.length=0;this.tris.length=0};Ql.prototype.clear=Ql.prototype.clear;Ql.prototype.moveTo=function(a,b){Rl(this);this.W.push(a);this.W.push(b)};Ql.prototype.moveTo=Ql.prototype.moveTo;Ql.prototype.lineTo=function(a,b){null==this.W&&Rl(this);this.W.push(a);this.W.push(b)};Ql.prototype.lineTo=Ql.prototype.lineTo;
Ql.prototype.ea=function(a,b,c,d){null==this.W&&Rl(this);this.W.push(a);this.W.push(b);this.W.push(c);this.W.push(d)};Ql.prototype.curveTo=Ql.prototype.ea;Ql.prototype.va=function(a,b,c,d,e,f){null==this.W&&Rl(this);this.W.push(a);this.W.push(b);this.W.push(c);this.W.push(d);this.W.push(e);this.W.push(f)};Ql.prototype.cubicCurveTo=Ql.prototype.va;Ql.prototype.Qf=function(a,b){this.lineTo(a,b)};Ql.prototype.wideLineTo=Ql.prototype.Qf;Ql.prototype.Rf=function(a,b){this.moveTo(a,b)};
Ql.prototype.wideMoveTo=Ql.prototype.Rf;Ql.prototype.arc=function(a,b,c,d,e){var f=Math.PI/4,g=0,k=Math.sin(f),m=Math.cos(f);for(this.moveTo(c+a,g+b);d<e;d+=f){var r=c;c=c*m-g*k;g=r*k+g*m;this.lineTo(c+a,g+b)}};Ql.prototype.arc=Ql.prototype.arc;Ql.prototype.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d)};function Rl(a){a.W=a.polys.array[a.polys.length];null==a.W&&(a.W=a.polys.array[a.polys.length]=new Pl);a.polys.length++}
Ql.prototype.g={names:[{name:'GLGraphicsPath',h:De}]};u(De,Ql);function Sl(){this.Ub=new Vk}Ck(Sl,Yk);Sl.prototype.qb=function(){return new Ql};Sl.prototype.createPath=Sl.prototype.qb;Sl.prototype.Sa=function(a,b,c){return((a>>16&255)*c.redMultiplier+c.redOffset<<0|(a>>8&255)*c.greenMultiplier+c.greenOffset<<8|(a&255)*c.greenMultiplier+c.greenOffset<<16|255*(b*c.alphaMultiplier+c.alphaOffset)<<24)>>>0};Sl.prototype.getCssColor=Sl.prototype.Sa;Sl.prototype.mb=function(a,b,c,d,e){a.tb(b.image,a.bitmapDrawable,c,null,!0,e.eb,!0,!0)};Sl.prototype.renderImage=Sl.prototype.mb;
Sl.prototype.gc=function(a,b,c,d,e){a.wf(c);a.globalCompositeOperation=d;a.colorTransform=e;c=b.graphicsData.length;for(d=0;d<c;d++)b.graphicsData[d].ba(a,e);b.lastFill&&(this.Ub.fill=b.lastFill,this.Ub._worldMatrix=b._worldMatrix,this.Ub.ba(a,e));b.lastStroke&&a.stroke();a.fillStyle=null;a.strokeStyle=null};Sl.prototype.renderGraphics=Sl.prototype.gc;
Sl.prototype.Pc=function(a,b,c,d,e,f,g,k){a.colorTransform=f;a.globalCompositeOperation=e;a.wf(d);a.font=c.Xj;a.fillStyle=c.Yj;a.textBaseline=lj;a.fillText(b,g,k)};Sl.prototype.renderText=Sl.prototype.Pc;Sl.prototype.finish=function(a){a.tb(null,null,null,null,!0,null,!0,!0)};Sl.prototype.finish=Sl.prototype.finish;Sl.prototype.g={names:[{name:'WebGLRenderer',h:Je}]};u(Je,Sl);function Tl(){xl.call(this)}Ck(Tl,xl);u('flash.display.LoaderInfo.getLoaderInfoByDefinition',p(null));
Object.defineProperties(Tl.prototype,{loaderURL:{get:p(null)},url:{get:p(null)},isURLInaccessible:{get:p(!1)},bytesLoaded:{get:p(0)},bytesTotal:{get:p(0)},swfVersion:{get:p(0)},actionScriptVersion:{get:p(0)},frameRate:{get:p(0)},parameters:{get:function(){var a=null,b={};for(a in null)b[a]=null[a];return b}},width:{get:p(0)},height:{get:p(0)},contentType:{get:p(null)},sharedEvents:{get:p(null)},parentSandboxBridge:{get:p(null),set:h()},childSandboxBridge:{get:p(null),set:h()},sameDomain:{get:p(!1)},
childAllowsParent:{get:p(!1)},parentAllowsChild:{get:p(!1)},loader:{get:p(null)},content:{get:n('rj'),set:l('rj')},bytes:{get:p(null)}});Tl.prototype.g={names:[{name:'LoaderInfo',h:Ze}]};u(Ze,Tl);function Ul(){xl.call(this)}Ck(Ul,xl);Ul.prototype.rf=function(){this.de=new F;var a=v(document.createElement(zd),HTMLCanvasElement);this.de.canvas=a;a.style.position=Zb;a.style.left=0;a.style.top=0;a.style.zIndex=0;document.body.appendChild(a);this.de.gl=v(a.getContext(lk,{alpha:!1,antialias:!1})||a.getContext(ve,{alpha:!1,antialias:!1}),WebGLRenderingContext);this.dispatchEvent(new Fl(Md))};Ul.prototype.requestContext3D=Ul.prototype.rf;Ul.prototype.si=function(){this.rf()};
Ul.prototype.requestContext3DMatchingProfiles=Ul.prototype.si;Object.defineProperties(Ul.prototype,{context3D:{get:n('de')},x:{get:p(0),set:h()},y:{get:p(0),set:h()},visible:{get:p(!1),set:h()}});Ul.prototype.g={names:[{name:'Stage3D',h:bf}]};u(bf,Ul);function Vl(a,b,c,d,e,f,g,k,m){d='undefined'!==typeof d?d:0;e='undefined'!==typeof e?e:0;f='undefined'!==typeof f?f:0;g='undefined'!==typeof g?g:!1;k='undefined'!==typeof k?k:!1;m='undefined'!==typeof m?m:!1;Fl.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.charCode=d;this.keyCode=e;this.keyLocation=f;this.ctrlKey=g;this.altKey=k;this.shiftKey=m}Ck(Vl,Fl);u('flash.events.KeyboardEvent.KEY_DOWN',Wg);u('flash.events.KeyboardEvent.KEY_UP',Xg);
Vl.prototype.clone=function(){return new Vl(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey)};Vl.prototype.clone=Vl.prototype.clone;Vl.prototype.toString=function(){return this.wb()};Vl.prototype.toString=Vl.prototype.toString;Vl.prototype.bd=h();Vl.prototype.updateAfterEvent=Vl.prototype.bd;
Object.defineProperties(Vl.prototype,{charCode:{get:p(0),set:h()},keyCode:{get:n('rl'),set:l('rl')},keyLocation:{get:n('sl'),set:l('sl')},ctrlKey:{get:n('Ya'),set:l('Ya')},altKey:{get:n('Xa'),set:l('Xa')},shiftKey:{get:n('Za'),set:l('Za')}});Vl.prototype.g={names:[{name:'KeyboardEvent',h:xf}]};u(xf,Vl);function Wl(a,b,c,d,e,f,g,k,m,r,t){d='undefined'!==typeof d?d:void 0;e='undefined'!==typeof e?e:void 0;f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:!1;k='undefined'!==typeof k?k:!1;m='undefined'!==typeof m?m:!1;r='undefined'!==typeof r?r:!1;t='undefined'!==typeof t?t:0;Fl.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.ge=d;this.he=e;this.zb=f;this.Ya=g;this.Xa=k;this.Za=m;this.Ze=r;this.$e=t}Ck(Wl,Fl);u('flash.events.MouseEvent.CLICK',Gd);
u('flash.events.MouseEvent.DOUBLE_CLICK',Yd);u('flash.events.MouseEvent.MOUSE_DOWN',rh);u('flash.events.MouseEvent.MOUSE_MOVE',sh);u('flash.events.MouseEvent.MOUSE_OUT',th);u('flash.events.MouseEvent.MOUSE_OVER',uh);u('flash.events.MouseEvent.MOUSE_UP',vh);u('flash.events.MouseEvent.RELEASE_OUTSIDE','releaseOutside');u('flash.events.MouseEvent.MOUSE_WHEEL',wh);u('flash.events.MouseEvent.ROLL_OUT','rollOut');u('flash.events.MouseEvent.ROLL_OVER',yi);u('flash.events.MouseEvent.MIDDLE_CLICK','middleClick');
u('flash.events.MouseEvent.MIDDLE_MOUSE_DOWN','middleMouseDown');u('flash.events.MouseEvent.MIDDLE_MOUSE_UP','middleMouseUp');u('flash.events.MouseEvent.RIGHT_CLICK','rightClick');u('flash.events.MouseEvent.RIGHT_MOUSE_DOWN','rightMouseDown');u('flash.events.MouseEvent.RIGHT_MOUSE_UP','rightMouseUp');u('flash.events.MouseEvent.CONTEXT_MENU',Nd);Wl.prototype.ge=0;Wl.prototype.he=0;
Wl.prototype.clone=function(){return new Wl(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.zb,this.Ya,this.Xa,this.Za,this.Ze,this.$e)};Wl.prototype.clone=Wl.prototype.clone;Wl.prototype.toString=function(){return this.wb()};Wl.prototype.toString=Wl.prototype.toString;Wl.prototype.bd=h();Wl.prototype.updateAfterEvent=Wl.prototype.bd;
Object.defineProperties(Wl.prototype,{localX:{get:n('ge'),set:l('ge')},localY:{get:n('he'),set:l('he')},relatedObject:{get:n('zb'),set:l('zb')},ctrlKey:{get:n('Ya'),set:l('Ya')},altKey:{get:n('Xa'),set:l('Xa')},shiftKey:{get:n('Za'),set:l('Za')},buttonDown:{get:n('Ze'),set:l('Ze')},delta:{get:n('$e'),set:l('$e')},stageX:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},stageY:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},isRelatedObjectInaccessible:{get:n('bf'),
set:l('bf')},movementX:{get:p(0),set:h()},movementY:{get:p(0),set:h()}});Wl.prototype.g={names:[{name:'MouseEvent',h:yf}]};u(yf,Wl);function Xl(a,b,c,d,e,f,g,k,m,r,t,w,H,E){d='undefined'!==typeof d?d:0;e='undefined'!==typeof e?e:!1;f='undefined'!==typeof f?f:NaN;g='undefined'!==typeof g?g:NaN;k='undefined'!==typeof k?k:NaN;m='undefined'!==typeof m?m:NaN;r='undefined'!==typeof r?r:NaN;t='undefined'!==typeof t?t:null;w='undefined'!==typeof w?w:!1;H='undefined'!==typeof H?H:!1;E='undefined'!==typeof E?E:!1;Fl.call(this,a,'undefined'!==typeof b?b:!0,'undefined'!==typeof c?c:!1);this.gf=d;this.af=e;this.localX=f;this.localY=g;this.df=
k;this.ef=m;this.cf=r;this.zb=t;this.Ya=w;this.Xa=H;this.Za=E}Ck(Xl,Fl);u('flash.events.TouchEvent.TOUCH_BEGIN',mj);u('flash.events.TouchEvent.TOUCH_END',nj);u('flash.events.TouchEvent.TOUCH_MOVE',oj);u('flash.events.TouchEvent.TOUCH_OVER','touchOver');u('flash.events.TouchEvent.TOUCH_OUT','touchOut');u('flash.events.TouchEvent.TOUCH_ROLL_OVER','touchRollOver');u('flash.events.TouchEvent.TOUCH_ROLL_OUT','touchRollOut');u('flash.events.TouchEvent.TOUCH_TAP','touchTap');
u('flash.events.TouchEvent.PROXIMITY_BEGIN','proximityBegin');u('flash.events.TouchEvent.PROXIMITY_END','proximityEnd');u('flash.events.TouchEvent.PROXIMITY_MOVE','proximityMove');u('flash.events.TouchEvent.PROXIMITY_OUT','proximityOut');u('flash.events.TouchEvent.PROXIMITY_OVER','proximityOver');u('flash.events.TouchEvent.PROXIMITY_ROLL_OUT','proximityRollOut');u('flash.events.TouchEvent.PROXIMITY_ROLL_OVER','proximityRollOver');
Xl.prototype.clone=function(){return new Xl(this.type,this.bubbles,this.cancelable,this.gf,this.af,this.localX,this.localY,this.df,this.ef,this.cf,this.zb,this.Ya,this.Xa,this.Za)};Xl.prototype.clone=Xl.prototype.clone;Xl.prototype.toString=function(){return this.wb()};Xl.prototype.toString=Xl.prototype.toString;Xl.prototype.bd=h();Xl.prototype.updateAfterEvent=Xl.prototype.bd;
Object.defineProperties(Xl.prototype,{localX:{get:p(0),set:h()},localY:{get:p(0),set:h()},touchPointID:{get:n('gf'),set:l('gf')},isPrimaryTouchPoint:{get:n('af'),set:l('af')},sizeX:{get:n('df'),set:l('df')},sizeY:{get:n('ef'),set:l('ef')},pressure:{get:n('cf'),set:l('cf')},relatedObject:{get:n('zb'),set:l('zb')},ctrlKey:{get:n('Ya'),set:l('Ya')},altKey:{get:n('Xa'),set:l('Xa')},shiftKey:{get:n('Za'),set:l('Za')},stageX:{get:function(){return isNaN(this.localX)||isNaN(this.localY)?Number.NaN:0}},stageY:{get:function(){return isNaN(this.localX)||
isNaN(this.localY)?Number.NaN:0}},isRelatedObjectInaccessible:{get:n('bf'),set:l('bf')}});Xl.prototype.g={names:[{name:'TouchEvent',h:Af}]};u(Af,Xl);function Yl(){xl.call(this);this.gj();this.vj=new Tl;0===bl&&(bl=Date.now());this.frameRate=60;this.sa();this.yj=[new Ul,new Ul,new Ul,new Ul].slice();window.addEventListener(ti,y(this.gj,this,ok),!1)}Ck(Yl,xl);q=Yl.prototype;q.La=0;q.Ma=0;q.Hd=!1;q.jf=!1;q.gj=function(){this.me=window.innerWidth;this.le=window.innerHeight;this.canvas.width=this.me;this.canvas.height=this.le;this.canvas.style.width=this.me+ni;this.canvas.style.height=this.le+ni;this.dispatchEvent(new Fl(ti))};
q.sa=function(){dl.call(window,y(this.sa,this,Wb));this.Hd&&(this.dispatchEvent(new Wl(sh,!0,!1,this.La,this.Ma)),this.Hd=!1);this.jf&&(this.dispatchEvent(new Xl(oj,!0,!1,0,!0,this.La,this.Ma)),this.jf=!1);this.dispatchEvent(new Fl(fe))};q.il=h();Yl.prototype.invalidate=Yl.prototype.il;Yl.prototype.ll=p(!1);Yl.prototype.isFocusInaccessible=Yl.prototype.ll;
Yl.prototype.qd=function(a){var b,c;switch(a.type){case pj:b=nj;c=vh;break;case qj:b=nj;c=vh;break;case rj:b=oj;c=sh;break;case sj:b=mj,c=rh,a.preventDefault()}b&&(a.targetTouches.length&&(this.La=a.targetTouches[0].pageX-this.canvas.offsetLeft,this.Ma=a.targetTouches[0].pageY-this.canvas.offsetTop),this.Fa(b)&&(b!=oj?this.dispatchEvent(new Xl(b,!0,!1,0,!0,this.La,this.Ma)):this.jf=!0),this.Fa(c)&&(c!=sh?this.dispatchEvent(new Wl(c,!0,!1,this.La,this.Ma)):this.Hd=!0),b===nj&&this.Fa(Gd)&&this.dispatchEvent(new Wl(Gd,
!0,!1,this.La,this.Ma)))};Yl.prototype.oh=function(a){var b;switch(a.type){case Yg:b=Wg;break;case $g:b=Xg}this.Fa(b)&&this.dispatchEvent(new Vl(b,!0,!1,a.charCode,a.keyCode,a.location,a.ctrlKey,a.altKey,a.shiftKey))};
Yl.prototype.ta=function(a){var b;switch(a.type){case Gd:b=Gd;break;case Od:b=Nd;break;case Sd:b=Yd;break;case xh:b=rh;break;case yh:b=yi;break;case zh:b=th;break;case Ah:b=sh;break;case Ch:b=uh;break;case Bh:b=th;break;case Dh:b=vh;break;case Eh:b=wh}b&&(this.La=a.pageX-this.canvas.offsetLeft,this.Ma=a.pageY-this.canvas.offsetTop,this.Fa(b)&&(b!=sh?this.dispatchEvent(new Wl(b,!0,!1,this.La,this.Ma,null,a.ctrlKey,a.altKey,a.shiftKey,0<a.button,a.wheelDelta)):this.Hd=!0))};
Object.defineProperties(Yl.prototype,{frameRate:{get:n('tj'),set:l('tj')},loaderInfo:{get:n('vj')},scaleMode:{get:p(null),set:h()},align:{get:p(null),set:h()},stageWidth:{get:n('me'),set:h()},stageHeight:{get:n('le'),set:h()},showDefaultContextMenu:{get:p(!1),set:h()},colorCorrection:{get:p(null),set:h()},colorCorrectionSupport:{get:p(null)},stageFocusRect:{get:p(!1),set:h()},quality:{get:p(null),set:h()},displayState:{get:function(){return document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen?
cg:Rh},set:function(a){-1!=a.indexOf(cg)?(this.K.requestFullscreen||this.K.webkitRequestFullScreen||this.K.mozRequestFullScreen||this.K.msRequestFullscreen).call(this.K):(document.exitFullscreen||document.webkitExitFullScreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)}},fullScreenSourceRect:{get:p(null),set:h()},mouseLock:{get:p(!1),set:h()},stage3Ds:{get:n('yj')},color:{get:p(0),set:h()},fullScreenWidth:{get:p(0)},fullScreenHeight:{get:p(0)},wmodeGPU:{get:p(!1)},softKeyboardRect:{get:p(null)},
allowsFullScreen:{get:p(!1)},allowsFullScreenInteractive:{get:p(!1)},contentsScaleFactor:{get:p(0)},browserZoomFactor:{get:p(0)},canvas:{get:function(){this.K||(this.K=v(document.createElement(zd),HTMLCanvasElement),this.K.addEventListener(Gd,y(this.ta,this,Bd),!1),this.K.addEventListener(Od,y(this.ta,this,Bd),!1),this.K.addEventListener(Sd,y(this.ta,this,Bd),!1),this.K.addEventListener(xh,y(this.ta,this,Bd),!1),this.K.addEventListener(yh,y(this.ta,this,Bd),!1),this.K.addEventListener(zh,y(this.ta,
this,Bd),!1),this.K.addEventListener(Ah,y(this.ta,this,Bd),!1),this.K.addEventListener(Ch,y(this.ta,this,Bd),!1),this.K.addEventListener(Bh,y(this.ta,this,Bd),!1),this.K.addEventListener(Dh,y(this.ta,this,Bd),!1),this.K.addEventListener(Eh,y(this.ta,this,Bd),!1),this.K.addEventListener(pj,y(this.qd,this,Cd),!1),this.K.addEventListener(qj,y(this.qd,this,Cd),!1),this.K.addEventListener(rj,y(this.qd,this,Cd),!1),this.K.addEventListener(sj,y(this.qd,this,Cd),!1),document.addEventListener(Yg,y(this.oh,
this,Ad),!1),document.addEventListener($g,y(this.oh,this,Ad),!1),this.K.style.position=Zb,this.K.style.left=0,this.K.style.top=0,this.K.style.zIndex=1,document.body.appendChild(v(this.K,HTMLCanvasElement)));return this.K}},ctx:{get:function(){this.Yf||(this.Yf=this.canvas.getContext(nb));return this.Yf}},ctx2d:{get:function(){if(!this.Zf){var a=v(document.createElement(zd),HTMLCanvasElement);this.Zf=v(a.getContext(nb),CanvasRenderingContext2D)}return this.Zf}},displayContextInfo:{get:p(null)},mouseX:{get:n('La')},
mouseY:{get:n('Ma')}});Yl.prototype.g={names:[{name:'Stage',h:af}]};u(af,Yl);function Zl(a,b,c,d,e,f,g,k){this.redMultiplier='undefined'!==typeof a?a:1;this.greenMultiplier='undefined'!==typeof b?b:1;this.blueMultiplier='undefined'!==typeof c?c:1;this.alphaMultiplier='undefined'!==typeof d?d:1;this.redOffset='undefined'!==typeof e?e:0;this.greenOffset='undefined'!==typeof f?f:0;this.blueOffset='undefined'!==typeof g?g:0;this.alphaOffset='undefined'!==typeof k?k:0}Zl.prototype.eb=4294967295;Zl.prototype.tint=Zl.prototype.eb;
Zl.prototype.concat=function(a){this.alphaOffset+=this.alphaMultiplier*a.alphaOffset;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=this.redMultiplier*a.redOffset;this.redMultiplier*=a.redMultiplier;this.greenOffset+=this.greenMultiplier*a.greenOffset;this.greenMultiplier*=a.greenMultiplier;this.blueOffset+=this.blueMultiplier*a.blueOffset;this.blueMultiplier*=a.blueMultiplier};Zl.prototype.concat=Zl.prototype.concat;
Zl.prototype.toString=function(){return Ca+this.redMultiplier+ab+this.greenMultiplier+Va+this.blueMultiplier+Sa+this.alphaMultiplier+eb+this.redOffset+bb+this.greenOffset+Wa+this.blueOffset+Ta+this.alphaOffset+Ga};Zl.prototype.toString=Zl.prototype.toString;
Object.defineProperties(Zl.prototype,{color:{get:function(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset},set:function(a){this.redMultiplier=this.greenMultiplier=this.blueMultiplier=0;this.redOffset=a>>16&255;this.greenOffset=a>>8&255;this.blueOffset=a&255}},redMultiplier:{get:n('xc'),set:function(a){this.xc=a;this.eb=255*this.xc<<0|255*this.vc<<8|255*this.sc<<16|255*this.rc<<24}},greenMultiplier:{get:n(Vj),set:function(a){this.vc=a;this.eb=255*this.xc<<0|255*this.vc<<8|255*this.sc<<
16|255*this.rc<<24}},blueMultiplier:{get:n('sc'),set:function(a){this.sc=a;this.eb=255*this.xc<<0|255*this.vc<<8|255*this.sc<<16|255*this.rc<<24}},alphaMultiplier:{get:n('rc'),set:function(a){this.rc=a;this.eb=255*this.xc<<0|255*this.vc<<8|255*this.sc<<16|255*this.rc<<24}}});Zl.prototype.g={names:[{name:'ColorTransform',h:Bf}]};u(Bf,Zl);function $l(a){this.L=new A;this.Ba=new Zl;this.Ca=new Zl;this.ce=new A;this.fe=new A;this.sb(a)}q=$l.prototype;q.ye=!0;q.N=!0;q.We=!0;q.sb=l('ud');q.sk=p(null);$l.prototype.getRelativeMatrix3D=$l.prototype.sk;$l.prototype.I=function(){this.We=this.N=!0};$l.prototype.updateTransforms=$l.prototype.I;$l.prototype.Mf=function(){this.ye=!0};$l.prototype.updateColorTransforms=$l.prototype.Mf;
Object.defineProperties($l.prototype,{matrix:{get:n('L'),set:function(a){this.L=a;this.I()}},colorTransform:{get:n('Ba'),set:function(a){this.Ba=a;this.Mf()}},concatenatedMatrix:{get:function(){this.N&&(this.ce.J(this.matrix),this.ud.parent&&this.ce.concat(this.ud.parent.transform.concatenatedMatrix),this.N=!1);return this.ce}},concatenatedColorTransform:{get:function(){this.ye&&(this.Ca.alphaOffset=this.Ba.alphaOffset,this.Ca.alphaMultiplier=this.Ba.alphaMultiplier,this.Ca.redOffset=this.Ba.redOffset,
this.Ca.redMultiplier=this.Ba.redMultiplier,this.Ca.greenOffset=this.Ba.greenOffset,this.Ca.greenMultiplier=this.Ba.greenMultiplier,this.Ca.blueOffset=this.Ba.blueOffset,this.Ca.blueMultiplier=this.Ba.blueMultiplier,this.ud.parent&&this.Ca.concat(this.ud.parent.transform.concatenatedColorTransform),this.ye=!1);return this.Ca}},pixelBounds:{get:p(null)},matrix3D:{get:p(null),set:h()},perspectiveProjection:{get:p(null),set:h()},invMatrix:{get:function(){this.We&&(this.fe.J(this.concatenatedMatrix),
this.fe.Ta(),this.We=!1);return this.fe}}});$l.prototype.g={names:[{name:'Transform',h:Hf}]};u(Hf,$l);u('flash.utils.getTimer',function(){return Date.now()-bl});function N(){xl.call(this);this.transform=new $l(this);this.innerID=am++;this.name=Ug+this.innerID;0===this.innerID&&(this.ca=new Yl,this.ca.addEventListener(fe,y(this.nj,this,Ub)),this.ca.addEventListener(Gd,y(this.Jb,this,Vb)),this.ca.addEventListener(Nd,y(this.Jb,this,Vb)),this.ca.addEventListener(Yd,y(this.Jb,this,Vb)),this.ca.addEventListener(rh,y(this.Jb,this,Vb)),this.ca.addEventListener(sh,y(this.Jb,this,Vb)),this.ca.addEventListener(vh,y(this.Jb,this,Vb)))}Ck(N,xl);var am=0;q=N.prototype;
q.lg=0;q.Qc=0;q.Nc=1;q.yc=!0;q.I=function(){this.transform.I()};N.prototype.updateTransforms=N.prototype.I;N.prototype.Ih=function(a){return this.transform.invMatrix.Xc(a)};N.prototype.globalToLocal=N.prototype.Ih;N.prototype.ol=function(a){return this.transform.concatenatedMatrix.Xc(a)};N.prototype.localToGlobal=N.prototype.ol;N.prototype.lk=function(a){return this.hb(a)};N.prototype.getBounds=N.prototype.lk;N.prototype.hb=function(a){var b=this.Ib();return!b||null!=a&&a!=this?this.Ib():b};
N.prototype.getRect=N.prototype.hb;N.prototype.Ib=p(null);N.prototype.__getRect=N.prototype.Ib;N.prototype.yk=p(!1);N.prototype.hitTestObject=N.prototype.yk;N.prototype.Kh=function(a,b){var c=this.Ib();return c?c.th(this.Ih(new Uk(a,b))):!1};N.prototype.hitTestPoint=N.prototype.Kh;N.prototype.vk=p(null);N.prototype.globalToLocal3D=N.prototype.vk;N.prototype.nl=p(null);N.prototype.local3DToGlobal=N.prototype.nl;N.prototype.sa=h();N.prototype.__update=N.prototype.sa;
N.prototype.nj=function(){var a=this.stage.ctx;a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.stage.stageWidth,this.stage.stageHeight);$k=0;cl.start(a);this.sa(a);cl.finish(a)};
N.prototype.Jb=function(a){var b=this.qc(a);if(a.type===sh){for(var c=this.ml;c&&c!=b;)c.dispatchEvent(new Wl(th,!1,!1,a.localX,a.localY)),c.dispatchEvent(new Wl(yi,!1,!1,a.localX,a.localY)),c=c.parent;var d=new Wl(uh,!0,!1,a.localX,a.localY),e=new Wl(yi,!0,!1,a.localX,a.localY);b&&b!=c&&(b.dispatchEvent(d),b.dispatchEvent(e));this.ml=b}b&&b.dispatchEvent(a)};N.prototype.qc=p(null);
N.prototype.dispatchEvent=function(a){var b=N.Z.dispatchEvent.call(this,a);a.bubbles&&this.parent&&this.parent.dispatchEvent(a);return b};N.prototype.dispatchEvent=N.prototype.dispatchEvent;
Object.defineProperties(N.prototype,{stage:{get:n('ca'),set:function(a){this.ca!=a&&((this.ca=a)?this.dispatchEvent(new Fl(ac)):this.dispatchEvent(new Fl(qi)))}},root:{get:p(null)},name:{get:n('Da'),set:l('Da')},parent:{get:n('_parent')},mask:{get:p(null),set:h()},visible:{get:n('yc'),set:l('yc')},x:{get:function(){return this.transform.matrix.tx},set:function(a){this.transform.matrix.tx=a;this.I()}},y:{get:function(){return this.transform.matrix.ty},set:function(a){this.transform.matrix.ty=a;this.I()}},
z:{get:p(0),set:h()},scaleX:{get:function(){var a=this.transform.matrix;return 0===a.b?a.a:Math.sqrt(a.a*a.a+a.b*a.b)},set:function(a){var b=this.transform.matrix;0===b.c?b.a=a:(b.a=this.Nc*a,b.b=this.Qc*a);this.I()}},scaleY:{get:function(){var a=this.transform.matrix;return 0===a.c?a.d:Math.sqrt(a.c*a.c+a.d*a.d)},set:function(a){var b=this.transform.matrix;0===b.c?b.d=a:(b.c=-this.Qc*a,b.d=this.Nc*a);this.I()}},scaleZ:{get:p(1),set:h()},mouseX:{get:function(){return this.stage?this.transform.invMatrix.Xc(new Uk(this.stage.mouseX,
this.stage.mouseY)).x:0}},mouseY:{get:function(){return this.stage?this.transform.invMatrix.Xc(new Uk(this.stage.mouseX,this.stage.mouseY)).y:0}},rotation:{get:n('lg'),set:function(a){this.lg=a;var b=this.transform.matrix;a=a*Math.PI/180;this.Qc=Math.sin(a);this.Nc=Math.cos(a);a=0===b.b?b.a:Math.sqrt(b.a*b.a+b.b*b.b);var c=0===b.c?b.d:Math.sqrt(b.c*b.c+b.d*b.d);b.a=this.Nc*a;b.b=this.Qc*a;b.c=-this.Qc*c;b.d=this.Nc*c;this.I()}},rotationX:{get:p(0),set:h()},rotationY:{get:p(0),set:h()},rotationZ:{get:p(0),
set:h()},alpha:{get:function(){return this.transform.colorTransform.alphaMultiplier},set:function(a){this.transform.colorTransform.alphaMultiplier=a;this.transform.Mf()}},width:{get:function(){var a=this.hb(this.parent);return a?a.width:0},set:h()},height:{get:function(){var a=this.hb(this.parent);return a?a.height:0},set:h()},cacheAsBitmap:{get:p(!1),set:h()},opaqueBackground:{get:p(null),set:h()},scrollRect:{get:p(null),set:h()},filters:{get:p(null),set:h()},blendMode:{get:n('oj'),set:l('oj')},
scale9Grid:{get:p(null),set:h()},metaData:{get:p(null),set:h()}});N.prototype.g={names:[{name:'DisplayObject',h:Me}],ja:[kl]};u(Me,N);function bm(){N.call(this)}Ck(bm,N);bm.prototype.ig=!0;bm.prototype.ag=!1;bm.prototype.Zl=p(!1);bm.prototype.requestSoftKeyboard=bm.prototype.Zl;Object.defineProperties(bm.prototype,{tabEnabled:{get:p(!0),set:h()},tabIndex:{get:p(0),set:h()},focusRect:{get:p(null),set:h()},mouseEnabled:{get:n('ig'),set:l('ig')},doubleClickEnabled:{get:n('ag'),set:l('ag')},softKeyboardInputAreaOfInterest:{get:p(null),set:h()},needsSoftKeyboard:{get:p(!1),set:h()}});
bm.prototype.g={names:[{name:'InteractiveObject',h:Ye}]};u(Ye,bm);function P(){this.children=[];N.call(this)}Ck(P,bm);P.prototype.hg=!0;P.prototype.gb=function(a){return this.qe(a,this.children.length)};P.prototype.addChild=P.prototype.gb;P.prototype.qe=function(a,b){var c=this.children.indexOf(a);-1!=c&&this.children.splice(c,1);this.children.splice(b,0,a);a.stage=this.stage;a._parent=this;return a};P.prototype.addChildAt=P.prototype.qe;P.prototype.removeChild=function(a){var b=this.children.indexOf(a);return-1!=b?this.qf(b):a};P.prototype.removeChild=P.prototype.removeChild;
P.prototype.qf=function(a){var b=this.children[a];b&&(b._parent=null,b.stage=null);this.children.splice(a,1);return b};P.prototype.removeChildAt=P.prototype.qf;P.prototype.Me=function(a){return this.children.indexOf(a)};P.prototype.getChildIndex=P.prototype.Me;P.prototype.bm=function(a,b){this.removeChild(a);this.qe(a,b)};P.prototype.setChildIndex=P.prototype.bm;P.prototype.mk=function(a){return this.children[a]};P.prototype.getChildAt=P.prototype.mk;
P.prototype.nk=function(a){for(var b=this.children.length,c=0;c<b;c++){var d=this.children[c];if(d.name===a)return d}return null};P.prototype.getChildByName=P.prototype.nk;P.prototype.qk=p(null);P.prototype.getObjectsUnderPoint=P.prototype.qk;P.prototype.Fj=p(!1);P.prototype.areInaccessibleObjectsUnderPoint=P.prototype.Fj;P.prototype.contains=function(a){return-1!=this.children.indexOf(a)};P.prototype.contains=P.prototype.contains;
P.prototype.Fi=function(a,b){var c=this.children[a];this.children[a]=this.children[b];this.children[b]=c};P.prototype.swapChildrenAt=P.prototype.Fi;P.prototype.vm=function(a,b){this.Fi(this.Me(a),this.Me(b))};P.prototype.swapChildren=P.prototype.vm;P.prototype.Yl=function(a,b){a='undefined'!==typeof a?a:0;for(var c=Math.min(this.numChildren-1,a+('undefined'!==typeof b?b:2147483647)-1);c>=a;c--)this.qf(c)};P.prototype.removeChildren=P.prototype.Yl;P.prototype.rm=h();P.prototype.stopAllMovieClips=P.prototype.rm;
P.prototype.sa=function(a){if(this.visible)for(var b=this.children.length,c=0;c<b;c++)this.children[c].sa(a)};P.prototype.__update=P.prototype.sa;P.prototype.I=function(){P.Z.I.call(this);for(var a=this.children.length,b=0;b<a;b++)this.children[b].I()};P.prototype.updateTransforms=P.prototype.I;P.prototype.qc=function(a){if(this.mouseEnabled&&this.mouseChildren&&this.visible)for(var b=this.children.length-1;0<=b;b--){var c=this.children[b].qc(a);if(c)return c}return null};
P.prototype.hb=function(a){for(var b=P.Z.hb.call(this,a),c=this.children.length,d=0;d<c;d++){var e=this.children[d].hb(a);null==b?b=e:e&&b.Vi(e)}return b};P.prototype.getRect=P.prototype.hb;
Object.defineProperties(P.prototype,{numChildren:{get:function(){return this.children.length}},stage:{get:n('ca'),set:function(a){this.ca!=a&&((this.ca=a)?this.dispatchEvent(new Fl(ac)):this.dispatchEvent(new Fl(qi)));for(var b=this.children.length,c=0;c<b;c++)this.children[c].stage=a}},tabChildren:{get:p(!1),set:h()},mouseChildren:{get:n('hg'),set:l('hg')}});P.prototype.g={names:[{name:'DisplayObjectContainer',h:Ne}]};u(Ne,P);function cm(){}u('flash.display.GradientType.LINEAR',fh);u('flash.display.GradientType.RADIAL','radial');cm.prototype.g={names:[{name:'GradientType',h:Oe}]};u(Oe,cm);function dm(a,b,c,d,e,f,g,k){this.ld='undefined'!==typeof a?a:fh;this.colors='undefined'!==typeof b?b:null;this.alphas='undefined'!==typeof c?c:null;this.ratios='undefined'!==typeof d?d:null;this.matrix='undefined'!==typeof e?e:null;this.ng='undefined'!==typeof f?f:hi;this.dg='undefined'!==typeof g?g:ui;this.focalPointRatio='undefined'!==typeof k?k:0}dm.prototype.G=function(a){null==this.Hc&&(this.Hc=this.type===fh?a.createLinearGradient(0,0,1,1):a.createRadialGradient(0,0,1,0,0,1));a.fillStyle=this.Hc};
dm.prototype.draw=dm.prototype.G;dm.prototype.ba=function(a){null==this.Hc&&(this.Hc=this.type==fh?a.createLinearGradient(0,0,1,1):a.createRadialGradient(0,0,1,0,0,1));a.fillStyle=v(this.Hc,String);a.fillStyleIsImage=!1};dm.prototype.gldraw=dm.prototype.ba;Object.defineProperties(dm.prototype,{type:{get:n('ld'),set:l('ld')},spreadMethod:{get:n('ng'),set:l('ng')},interpolationMethod:{get:n('dg'),set:l('dg')}});dm.prototype.g={names:[{name:'GraphicsGradientFill',h:Se}],ja:[Sk,Rk]};u(Se,dm);function em(a,b){this._glcolor=[];this.color='undefined'!==typeof a?a:0;this.alpha='undefined'!==typeof b?b:1}em.prototype.color=0;em.prototype.color=em.prototype.color;em.prototype.alpha=1;em.prototype.alpha=em.prototype.alpha;em.prototype.G=function(a,b){a.fillStyle=cl.Sa(this.color,this.alpha,b,null)};em.prototype.draw=em.prototype.G;em.prototype.ba=function(a,b){a.fillStyle=cl.Sa(this.color,this.alpha,b,this._glcolor);a.fillStyleIsImage=!1};em.prototype.gldraw=em.prototype.ba;
em.prototype.g={names:[{name:'GraphicsSolidFill',h:Ve}],ja:[Sk,Rk]};u(Ve,em);function fm(){}fm.prototype.g={names:[{name:'IGraphicsStroke',h:'flash.display.IGraphicsStroke'}]};function gm(a,b,c,d,e,f,g){this.thickness=a='undefined'!==typeof a?a:NaN;this.pixelHinting='undefined'!==typeof b?b:!1;this.Xf='undefined'!==typeof d?d:Ph;this.eg='undefined'!==typeof e?e:zi;this.miterLimit='undefined'!==typeof f?f:3;this.mg='undefined'!==typeof c?c:Rh;this.fill='undefined'!==typeof g?g:null}gm.prototype.G=function(a,b){if(isNaN(this.thickness))a.stroke();else if(a.lineWidth=this.thickness,x(this.fill,em)){var c=v(this.fill,em);a.strokeStyle=cl.Sa(c.color,c.alpha,b,null)}};
gm.prototype.draw=gm.prototype.G;gm.prototype.ba=function(a,b){if(isNaN(this.thickness))a.stroke();else if(a.lineWidth=this.thickness,x(this.fill,em)){var c=this.fill;cl.Sa(c.color,c.alpha,b,c._glcolor);a.strokeStyle=c._glcolor}};gm.prototype.gldraw=gm.prototype.ba;Object.defineProperties(gm.prototype,{caps:{get:n('Xf'),set:l('Xf')},joints:{get:n('eg'),set:l('eg')},scaleMode:{get:n('mg'),set:l('mg')}});gm.prototype.g={names:[{name:'GraphicsStroke',h:We}],ja:[fm,Rk]};u(We,gm);function hm(a,b,c,d){this.vertices='undefined'!==typeof a?a:null;this.indices='undefined'!==typeof b?b:null;this.uvtData='undefined'!==typeof c?c:null;this.$f='undefined'!==typeof d?d:Ph}hm.prototype.G=function(){Mk(tj)};hm.prototype.draw=hm.prototype.G;hm.prototype.ba=h();hm.prototype.gldraw=hm.prototype.ba;Object.defineProperties(hm.prototype,{culling:{get:n('$f'),set:l('$f')}});hm.prototype.g={names:[{name:'GraphicsTrianglePath',h:Xe}],ja:[Xk,Rk]};u(Xe,hm);function Q(){this.graphicsData=[];this.fi=[];this._worldMatrix=new A}Q.prototype.Ld=0;Q.prototype.Wa=!1;u('flash.display.Graphics.debug',!1);Q.prototype.clear=function(){this.U=this.lastStroke=null;this.Ld=0;this.graphicsData=[];this.bound=null};Q.prototype.clear=Q.prototype.clear;Q.prototype.wg=function(a,b){b='undefined'!==typeof b?b:1;this.Vb();this.lastFill=new em(a,b);this.graphicsData.push(this.lastFill)};Q.prototype.beginFill=Q.prototype.wg;
Q.prototype.xg=function(a,b,c,d,e,f,g,k){e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:hi;g='undefined'!==typeof g?g:ui;k='undefined'!==typeof k?k:0;this.Vb();this.lastFill=new dm(a,b,c,d,e,f,g,k);this.graphicsData.push(this.lastFill)};Q.prototype.beginGradientFill=Q.prototype.xg;Q.prototype.vg=function(a,b,c,d){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:!0;d='undefined'!==typeof d?d:!1;this.Vb();this.lastFill=new Tk(a,b,c,d);this.graphicsData.push(this.lastFill)};
Q.prototype.beginBitmapFill=Q.prototype.vg;Q.prototype.Vb=function(){if(this.U){if(this.lastFill){var a=new Vk;a.fill=this.lastFill;this.graphicsData.push(a);this.lastFill=null}this.lastStroke&&!isNaN(this.lastStroke.thickness)&&(this.lastStroke=new gm(NaN),this.graphicsData.push(this.lastStroke));this.U=null}};Q.prototype.endStrokAndFill=Q.prototype.Vb;
Q.prototype.$h=function(a,b,c,d,e,f,g,k){this.lastStroke&&(this.lastStroke.fill=new dm(a,b,c,d,'undefined'!==typeof e?e:null,'undefined'!==typeof f?f:hi,'undefined'!==typeof g?g:ui,'undefined'!==typeof k?k:0))};Q.prototype.lineGradientStyle=Q.prototype.$h;
Q.prototype.Ic=function(a,b,c,d,e,f,g,k){a='undefined'!==typeof a?a:NaN;b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:1;d='undefined'!==typeof d?d:!1;e='undefined'!==typeof e?e:Rh;f='undefined'!==typeof f?f:null;g='undefined'!==typeof g?g:null;k='undefined'!==typeof k?k:3;this.Vb();isNaN(a)||(this.lastStroke=new gm(0===a?1:a,d,e,f,g,k,new em(b,c)),this.graphicsData.push(this.lastStroke))};Q.prototype.lineStyle=Q.prototype.Ic;
Q.prototype.fk=function(a,b,c,d){this.Wa=!0;this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.U.closePath();this.Wa=!1;im(this,a,b);im(this,a+c,b+d)};Q.prototype.drawRect=Q.prototype.fk;
Q.prototype.gk=function(a,b,c,d,e,f){f='undefined'!==typeof f?f:NaN;this.Wa=!0;isNaN(f)&&(f=e);this.moveTo(a+e,b);this.lineTo(a+c-e,b);this.ea(a+c,b,a+c,b+f);this.lineTo(a+c,b+d-f);this.ea(a+c,b+d,a+c-e,b+d);this.lineTo(a+e,b+d);this.ea(a,b+d,a,b+d-f);this.lineTo(a,b+f);this.ea(a,b,a+e,b);this.Wa=!1;im(this,a,b);im(this,a+c,b+d)};Q.prototype.drawRoundRect=Q.prototype.gk;
Q.prototype.hk=function(a,b,c,d,e,f,g,k){this.Wa=!0;this.moveTo(a+e,b);this.lineTo(a+c-f,b);this.ea(a+c,b,a+c,b+f);this.lineTo(a+c,b+d-k);this.ea(a+c,b+d,a+c-k,b+d);this.lineTo(a+g,b+d);this.ea(a,b+d,a,b+d-g);this.lineTo(a,b+e);this.ea(a,b,a+e,b);this.Wa=!1;im(this,a,b);im(this,a+c,b+d)};Q.prototype.drawRoundRectComplex=Q.prototype.hk;Q.prototype.ck=function(a,b,c){jm(this);this.U.moveTo(a+c,b);this.U.arc(a,b,c,0,2*Math.PI);im(this,a-c,b-c);im(this,a+c,b+c)};Q.prototype.drawCircle=Q.prototype.ck;
Q.prototype.dk=function(a,b,c,d){this.Wa=!0;var e=c/2*.5522848,f=d/2*.5522848,g=a+c,k=b+d,m=a+c/2,r=b+d/2;this.moveTo(a,r);this.va(a,r-f,m-e,b,m,b);this.va(m+e,b,g,r-f,g,r);this.va(g,r+f,m+e,k,m,k);this.va(m-e,k,a,r+f,a,r);this.Wa=!1;im(this,a,b);im(this,a+c,b+d)};Q.prototype.drawEllipse=Q.prototype.dk;Q.prototype.moveTo=function(a,b){jm(this);this.U.moveTo(a,b);im(this,a,b)};Q.prototype.moveTo=Q.prototype.moveTo;Q.prototype.lineTo=function(a,b){jm(this);this.U.lineTo(a,b);im(this,a,b)};
Q.prototype.lineTo=Q.prototype.lineTo;Q.prototype.ea=function(a,b,c,d){jm(this);this.U.ea(a,b,c,d);im(this,a,b);im(this,c,d)};Q.prototype.curveTo=Q.prototype.ea;Q.prototype.va=function(a,b,c,d,e,f){jm(this);this.U.va(a,b,c,d,e,f);im(this,a,b);im(this,c,d);im(this,e,f)};Q.prototype.cubicCurveTo=Q.prototype.va;
function im(a,b,c){a.Wa||(null==a.bound&&(a.bound=new C(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)),a.bound.left>b&&(a.bound.left=b),a.bound.right<b&&(a.bound.right=b),a.bound.top>c&&(a.bound.top=c),a.bound.bottom<c&&(a.bound.bottom=c))}function jm(a){null==a.U&&(a.U=a.fi[a.Ld],null==a.U&&(a.U=a.fi[a.Ld]=cl.qb()),a.U.clear(),a.U.Bd=!0,a.Ld++,a.graphicsData.push(a.U))}Q.prototype.Je=function(){this.Vb()};Q.prototype.endFill=Q.prototype.Je;
Q.prototype.J=function(a){this.graphicsData=a.graphicsData.slice()};Q.prototype.copyFrom=Q.prototype.J;Q.prototype.Zh=function(a,b,c,d){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:!0;d='undefined'!==typeof d?d:!1;this.lastStroke&&x(this.lastStroke,gm)&&(v(this.lastStroke,gm).fill=new Tk(a,b,c,d))};Q.prototype.lineBitmapStyle=Q.prototype.Zh;Q.prototype.Ec=function(a,b){jm(this);this.U.commands.push.apply(null,a);this.U.data.push.apply(null,b)};Q.prototype.drawPath=Q.prototype.Ec;
Q.prototype.na=function(a,b,c){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;jm(this);this.U.na(a,b,c)};Q.prototype.drawTriangles=Q.prototype.na;
Q.prototype.ek=function(a){var b=null,b=b=b=null;if(null!=a)for(var c=0;c<a.length;c++)if(b=a[c],x(b,Xk)){var b=v(b,Xk,!0),d=null,d=null;x(b,B)?(d=v(b,B,!0),this.Ec(d.commands,d.data,d.winding)):x(b,hm)&&(d=v(b,hm,!0),this.na(d.vertices,d.indices,d.uvtData,d.culling))}else if(x(b,Sk))b=v(b,Sk,!0),d=d=d=null,null==b?this.Je():x(b,Vk)?this.Je():x(b,em)?(d=v(b,em,!0),this.wg(d.color,d.alpha)):x(b,dm)?(d=v(b,dm,!0),this.xg(d.type,d.colors,d.alphas,d.ratios,d.matrix,d.spreadMethod,d.interpolationMethod,
d.focalPointRatio)):x(b,Tk)&&(d=v(b,Tk,!0),this.vg(d.bitmapData,d.matrix,d.repeat,d.smooth));else if(x(b,fm)){var b=v(b,fm,!0),e=null,e=d=e=e=null;null!=b&&x(b,gm)&&(d=v(b,gm));d&&d.fill&&x(d.fill,Sk)&&(e=d.fill);null==d||null==e?this.Ic():x(e,em)?(e=v(e,em,!0),this.Ic(d.thickness,e.color,e.alpha,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit)):x(e,dm)?(e=v(e,dm,!0),this.Ic(d.thickness,0,1,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit),this.$h(e.type,e.colors,e.alphas,e.ratios,
e.matrix,e.spreadMethod,e.interpolationMethod,e.focalPointRatio)):x(e,Tk)&&(e=v(e,Tk,!0),this.Ic(d.thickness,0,1,d.pixelHinting,d.scaleMode,d.caps,d.joints,d.miterLimit),this.Zh(e.bitmapData,e.matrix,e.repeat,e.smooth))}};Q.prototype.drawGraphicsData=Q.prototype.ek;Q.prototype.Sl=function(){return this.graphicsData.slice()};Q.prototype.readGraphicsData=Q.prototype.Sl;Q.prototype.G=function(a,b,c,d){this.graphicsData.length&&(cl.gc(a,this,b,c,d),$k++)};Q.prototype.draw=Q.prototype.G;
Q.prototype.g={names:[{name:'Graphics',h:Pe}]};u(Pe,Q);function km(){P.call(this);this.graphics=new Q}Ck(km,P);km.prototype.pm=h();km.prototype.startDrag=km.prototype.pm;km.prototype.sm=h();km.prototype.stopDrag=km.prototype.sm;km.prototype.qm=h();km.prototype.startTouchDrag=km.prototype.qm;km.prototype.tm=h();km.prototype.stopTouchDrag=km.prototype.tm;km.prototype.Ib=function(){return this.graphics.bound};km.prototype.__getRect=km.prototype.Ib;
km.prototype.sa=function(a){this.visible&&this.graphics.graphicsData.length&&this.graphics.G(a,this.transform.concatenatedMatrix,this.blendMode,this.transform.concatenatedColorTransform);this.Fa(fe)&&this.dispatchEvent(new Fl(fe));km.Z.sa.call(this,a)};km.prototype.__update=km.prototype.sa;km.prototype.qc=function(a){if(this.mouseEnabled&&this.visible){if(a=km.Z.qc.call(this,a))return a;if(this.Kh(this.stage.mouseX,this.stage.mouseY))return this}return null};
Object.defineProperties(km.prototype,{buttonMode:{get:p(!1),set:h()},dropTarget:{get:p(null)},hitArea:{get:p(null),set:h()},useHandCursor:{get:p(!1),set:h()}});km.prototype.g={names:[{name:'Sprite',h:$e}]};u($e,km);function lm(){}u('flash.display.BlendMode.NORMAL',Rh);u('flash.display.BlendMode.LAYER',bh);u('flash.display.BlendMode.MULTIPLY',Hh);u('flash.display.BlendMode.SCREEN','screen');u('flash.display.BlendMode.LIGHTEN','lighten');u('flash.display.BlendMode.DARKEN','darken');u('flash.display.BlendMode.ADD',$b);u('flash.display.BlendMode.SUBTRACT','subtract');u('flash.display.BlendMode.DIFFERENCE','difference');u('flash.display.BlendMode.INVERT','invert');u('flash.display.BlendMode.OVERLAY','overlay');
u('flash.display.BlendMode.HARDLIGHT','hard-light');u('flash.display.BlendMode.ALPHA',bc);u('flash.display.BlendMode.ERASE','erase');u('flash.display.BlendMode.SHADER','shader');lm.prototype.g={names:[{name:'BlendMode',h:Le}]};u(Le,lm);function R(){this.ambient=new G(.1,.1,.1,.1);this.terrainTextureSets=[];this.color=new G(1,1,1,1);this.wireframeColor=new G(.5,0,.5,0);this.sourceFactor=Zh;this.destinationFactor=tk;this.passCompareMode=ch;this.culling=Zf;this.borderColor=new G(1,0,0,1)}R.prototype.ph=!0;R.prototype.castShadow=R.prototype.ph;R.prototype.Cd=!1;R.prototype.gpuSkin=R.prototype.Cd;R.prototype.Va=!0;R.prototype.lightAble=R.prototype.Va;R.prototype.yd=!0;R.prototype.fogAble=R.prototype.yd;R.prototype.sg=!1;
R.prototype.Dj=!0;R.prototype.ambientAble=R.prototype.Dj;R.prototype.Zd=!0;R.prototype.specularAble=R.prototype.Zd;R.prototype.Di=50;R.prototype.specularPower=R.prototype.Di;R.prototype.og=!1;R.prototype.Df=2;R.prototype.toonStep=R.prototype.Df;R.prototype.pf=!0;R.prototype.receiveShadows=R.prototype.pf;R.prototype.re=0;R.prototype.alphaThreshold=R.prototype.re;R.prototype.Jh=!1;R.prototype.gray=R.prototype.Jh;R.prototype.rg=!1;R.prototype.Wh=!1;R.prototype.isDistanceField=R.prototype.Wh;
R.prototype.m=!0;R.prototype.invalid=R.prototype.m;R.prototype.depthMask=!0;R.prototype.depthMask=R.prototype.depthMask;R.prototype.border=!1;R.prototype.border=R.prototype.border;R.prototype.G=h();R.prototype.draw=R.prototype.G;
Object.defineProperties(R.prototype,{normalMapAble:{get:n('xj'),set:l('xj')},wireframeAble:{get:n('rg'),set:function(a){this.rg=a;this.m=!0}},blendModel:{set:function(a){switch(a){case Rh:this.sourceFactor=Zh;this.destinationFactor=tk;break;case bh:this.sourceFactor=Ri;this.destinationFactor=bi;break;case Hh:this.sourceFactor=tk;this.destinationFactor=Si;break;case $b:this.sourceFactor=Ri;this.destinationFactor=Zh;break;case bc:this.sourceFactor=tk,this.destinationFactor=Ri}}},toonAble:{get:n('og'),
set:function(a){this.og=a;this.m=!0}},alpha:{get:function(){return this.color.w},set:function(a){this.color.w=a}},writeDepth:{get:n('sg'),set:function(a){if(this.sg=a)this.yd=this.Va=!1}}});R.prototype.g={names:[{name:'MaterialBase',h:jg}]};u(jg,R);function mm(){}mm.prototype.Pa=h();mm.prototype.creat=mm.prototype.Pa;mm.prototype.g={names:[{name:'Creator',h:oc}]};u(oc,mm);function nm(){xl.call(this);this.za={}}Ck(nm,xl);nm.prototype.Pe=function(a){return this.za[a]};nm.prototype.getProperty=nm.prototype.Pe;nm.prototype.setProperty=function(a,b){this.za[a]=b};nm.prototype.setProperty=nm.prototype.setProperty;nm.prototype.Qe=function(a){return this.za.hasOwnProperty(a)};nm.prototype.hasProperty=nm.prototype.Qe;nm.prototype.Be=function(a){delete this.za[a]};nm.prototype.deleteProperty=nm.prototype.Be;nm.prototype.He=function(){var a=[],b;for(b in this.za)a.push(b);return a};
nm.prototype.elementNames=nm.prototype.He;nm.prototype.g={names:[{name:'Proxy',h:Of}]};u(Of,nm);function om(a,b){nm.call(this);this.type=a;this.index='undefined'!==typeof b?b:0}Ck(om,nm);u('as3Shader.Var.TYPE_C',1);u('as3Shader.Var.TYPE_T',2);u('as3Shader.Var.TYPE_VA',3);u('as3Shader.Var.TYPE_V',4);u('as3Shader.Var.TYPE_FS',5);u('as3Shader.Var.TYPE_OC',6);u('as3Shader.Var.TYPE_OP',7);om.prototype.Na=1;om.prototype.constLenght=om.prototype.Na;om.prototype.o=!1;om.prototype.used=om.prototype.o;
om.prototype.c=function(a,b){b='undefined'!==typeof b?b:0;var c=new om(this.type,this.index);c.parent=this;if(this.component)if(x(this.component,String)&&x(a,String)){for(var d=v(a,String),e=v(this.component,String),f=aa,g=0;g<d.length;g++)var k=this.charCodeAt(d,g)-this.charCodeAt(qk,0),f=k<e.length?f+e.charAt(k):f+d.charAt(g);a=f}else throw he;c.component=a;c.componentOffset=b;c.Na=this.Na;return c};om.prototype.c=om.prototype.c;om.prototype.charCodeAt=function(a,b){return a.charAt(b)==jk?123:a.charCodeAt(b)};
om.prototype.toString=function(){return[this.type,this.index]+aa};om.prototype.toString=om.prototype.toString;Object.defineProperties(om.prototype,{root:{get:function(){return null==this.parent?this:this.parent.root}}});om.prototype.g={names:[{name:'Var',h:'as3Shader.Var'}]};u('as3Shader.Var',om);function pm(){}pm.prototype.addEventListener=h();pm.prototype.removeEventListener=h();pm.prototype.dispatchEvent=h();pm.prototype.g={names:[{name:Bb,h:'org.apache.flex.events.IEventDispatcher'}]};function qm(){}Ck(qm,mm);qm.prototype.Pa=function(a){var b=a.lines,c=a.logs;this.$a=a.programType==Xj?Qj:we;a=aa;for(var d=0;d<b.length;d++){var e=c[d];if(e){var f=e,g;for(g in f)e=f[g],a+=mb+e+ea}e=b[d];a+=e[0];for(f=1;f<e.length;f++)a+=fa+this.nc(e[f]);e.flag&&(a+=jb+e.flag+wb);a+=ea}if(e=c[d]){var b=e,k;for(k in b)e=b[k],a+=mb+e+ea}this.data=a};qm.prototype.creat=qm.prototype.Pa;
qm.prototype.Nf=function(a){var b;switch(a.type){case 1:b=this.$a+xd;break;case 5:b=this.$a+Bi;break;case 6:b=Xh;break;case 7:b=di;break;case 2:b=this.$a+gj;break;case 4:b=Qj;break;case 3:b=this.$a+Xb}return b};qm.prototype.nc=function(a){var b=this.Nf(a);if(!a.component||!x(a.component,om))switch(a.type){case 1:case 5:case 2:case 4:case 3:b+=a.index}if(a.component)if(x(a.component,om))var c=v(a.component,om),b=b+(Kb+this.nc(c)+Pa+(a.index+a.componentOffset)+Rb);else b+=lb+a.component;return b};
qm.prototype.g={names:[{name:'AGALCodeCreator',h:mc}]};u(mc,qm);function rm(){this.Ed={}}Ck(rm,mm);var sm={v:'*',m44:'*',m33:'*',m34:'*',add:Pa,sub:'-',fa:'/'},tm={A:[aa,aa],$b:['-',aa],dc:['1/',aa],wa:['clamp(',',0,1)']},um={Wb:'fract',lc:'sqrt',Od:'inversesqrt',$:'normalize',rb:'cross',la:'dot',wd:'dot',cb:'texture2D',Vd:'greaterThanEqual',Vc:'lessThan',Wd:'greaterThan',Rc:ge,Wc:Sh};
rm.prototype.Pa=function(a){var b=a.lines,c=a.logs;this.$a=a.programType==Xj?Qj:we;for(var d=aa,e=aa,f=aa,g=gk,k=0;k<b.length;k++){var m=c[k];if(m){var r=m,t;for(t in r)m=r[t],g+=ca+m+ea}var m=b[k],r=m[0],w=v(m[1],om),H=this.nc(w);null==this.Ed[H]&&(this.Ed[H]=!0,2==w.type?H=vm(w)+fa+H:4==w.type&&(e+=Uj+vm(w)+fa+H+tb));for(var w=[],E=2;E<m.length;E++){var z=m[E],K=this.nc(z.root,!1),J=vm(z);w.push(K);null==this.Ed[K]&&(this.Ed[K]=!0,5==z.type||1==z.type?d+=Ej+J+fa+K+tb:4==z.type?e+=Uj+J+fa+K+tb:3==
z.type&&(f+=rc+J+fa+K+tb))}sm[r]?(g+=ba+H+na+w.join(fa+sm[r]+fa),m.flag&&(g+=jb+m.flag+wb),g+=sb):tm[r]?g+=ba+H+na+tm[r][0]+w+tm[r][1]+sb:(g+=ba+H+na+(um[r]||r)+za+w,m.flag&&(g+=jb+m.flag+wb),g+=Na);g+=ea}if(m=c[k]){var b=m,O;for(O in b)m=b[O],g+=mb+m+ea}this.data=d+e+f+g+uk;a.programType==Uf&&(this.data=mi+this.data)};rm.prototype.creat=rm.prototype.Pa;function vm(a){return 5==a.type?Ci:1==a.Na?Wj:lh+a.Na}
rm.prototype.Nf=function(a){var b;switch(a.type){case 1:b=this.$a+xd;break;case 5:b=this.$a+Bi;break;case 6:b=Dg;break;case 7:b=Eg;break;case 2:b=this.$a+gj;break;case 4:b=Qj;break;case 3:b=this.$a+Xb}return b};
rm.prototype.nc=function(a,b){var c=this.Nf(a);if(!a.component||!x(a.component,om))switch(a.type){case 1:case 5:case 2:case 4:case 3:c+=a.index}if(('undefined'!==typeof b?b:1)&&a.component)if(x(a.component,om))var d=v(a.component,om),c=c+(Kb+this.nc(d)+Pa+(a.index+a.componentOffset)+Rb);else c+=lb+a.component;return c};rm.prototype.g={names:[{name:'GLCodeCreator',h:pc}]};u(pc,rm);function wm(){}u('flash.system.Capabilities.hasMultiChannelAudio',p(!1));
Object.defineProperties(wm,{isEmbeddedInAcrobat:{get:p(!1)},hasEmbeddedVideo:{get:p(!1)},hasAudio:{get:p(!1)},avHardwareDisable:{get:p(!1)},hasAccessibility:{get:p(!1)},hasAudioEncoder:{get:p(!1)},hasMP3:{get:p(!1)},hasPrinting:{get:p(!1)},hasScreenBroadcast:{get:p(!1)},hasScreenPlayback:{get:p(!1)},hasStreamingAudio:{get:p(!1)},hasStreamingVideo:{get:p(!1)},hasVideoEncoder:{get:p(!1)},isDebugger:{get:p(!1)},localFileReadDisable:{get:p(!1)},language:{get:p(null)},manufacturer:{get:p(null)},os:{get:p(null)},
cpuArchitecture:{get:p(null)},playerType:{get:p(Ui)},serverString:{get:p(null)},version:{get:p(null)},screenColor:{get:p(null)},pixelAspectRatio:{get:p(0)},screenDPI:{get:p(0)},screenResolutionX:{get:p(0)},screenResolutionY:{get:p(0)},touchscreenType:{get:p(null)},hasIME:{get:p(!1)},hasTLS:{get:p(!1)},maxLevelIDC:{get:p(null)},supports32BitProcesses:{get:p(!1)},supports64BitProcesses:{get:p(!1)}});wm.prototype.g={names:[{name:'Capabilities',h:Kf}]};u(Kf,wm);function xm(a,b){this.fcode=b;this.vcode=a}xm.prototype.m=!0;xm.prototype.update=function(a){if(this.m||this.context!=a){this.program=a.createProgram();if(x(this.vcode,String)){var b=new L;b.pb(this.vcode);var c=new L;c.pb(this.fcode)}else b=this.vcode,c=this.fcode;this.program.upload(b,c);this.m=!1;this.context=a}};xm.prototype.update=xm.prototype.update;xm.prototype.g={names:[{name:'ProgramSet',h:lg}]};u(lg,xm);function ym(){this.mode=0;this.fogColor=[1,1,1]}u('gl3d.core.Fog.FOG_NONE',0);u('gl3d.core.Fog.FOG_EXP',1);u('gl3d.core.Fog.FOG_EXP2',2);u('gl3d.core.Fog.FOG_LINEAR',3);ym.prototype.Ce=.03;ym.prototype.density=ym.prototype.Ce;ym.prototype.start=10;ym.prototype.start=ym.prototype.start;ym.prototype.end=100;ym.prototype.end=ym.prototype.end;ym.prototype.g={names:[{name:'Fog',h:'gl3d.core.Fog'}]};u('gl3d.core.Fog',ym);function zm(a){this.ha=new G;this.Ea=new G;this.aa=new G;this.da=new G;I.call(this,'undefined'!==typeof a?a:null)}Ck(zm,I);zm.prototype.pl=function(a,b,c){this.aa.J(b);this.aa.bb(a);this.aa.normalize();this.aa.w=0;this.ha.J(c);Am(this,this.ha,this.aa);this.ha.normalize();this.ha.w=0;this.Ea.J(this.aa);Am(this,this.Ea,this.ha);this.Ea.w=0;this.da.x=this.ha.Qa(a);this.da.y=this.Ea.Qa(a);this.da.z=this.aa.Qa(a);this.da.w=1;this.ua(0,this.ha);this.ua(1,this.Ea);this.ua(2,this.aa);this.ua(3,this.da)};
zm.prototype.lookAtLH=zm.prototype.pl;zm.prototype.ql=function(a,b,c){this.aa.J(a);this.aa.bb(b);this.aa.normalize();this.aa.w=0;this.ha.J(c);Am(this,this.ha,this.aa);this.ha.normalize();this.ha.w=0;this.Ea.J(this.aa);Am(this,this.Ea,this.ha);this.Ea.w=0;this.da.x=this.ha.Qa(a);this.da.y=this.Ea.Qa(a);this.da.z=this.aa.Qa(a);this.da.w=1;this.ua(0,this.ha);this.ua(1,this.Ea);this.ua(2,this.aa);this.ua(3,this.da)};zm.prototype.lookAtRH=zm.prototype.ql;
zm.prototype.Hl=function(a,b,c,d){this.ia([2*c/a,0,0,0,0,2*c/b,0,0,0,0,d/(d-c),1,0,0,c*d/(c-d),0].slice())};zm.prototype.perspectiveLH=zm.prototype.Hl;zm.prototype.Kl=function(a,b,c,d){this.ia([2*c/a,0,0,0,0,2*c/b,0,0,0,0,d/(c-d),-1,0,0,c*d/(c-d),0].slice())};zm.prototype.perspectiveRH=zm.prototype.Kl;zm.prototype.gi=function(a,b,c,d){a=1/Math.tan(a/2);this.ia([a/b,0,0,0,0,a,0,0,0,0,d/(d-c),1,0,0,c*d/(c-d),0].slice())};zm.prototype.perspectiveFieldOfViewLH=zm.prototype.gi;
zm.prototype.Gl=function(a,b,c,d){a=1/Math.tan(a/2);this.ia([a/b,0,0,0,0,a,0,0,0,0,d/(c-d),-1,0,0,c*d/(c-d),0].slice())};zm.prototype.perspectiveFieldOfViewRH=zm.prototype.Gl;zm.prototype.Il=function(a,b,c,d,e,f){this.ia([2*e/(b-a),0,0,0,0,-2*e/(c-d),0,0,-1-2*a/(b-a),1+2*d/(c-d),-f/(e-f),1,0,0,e*f/(e-f),0].slice())};zm.prototype.perspectiveOffCenterLH=zm.prototype.Il;zm.prototype.Jl=function(a,b,c,d,e,f){this.ia([2*e/(b-a),0,0,0,0,-2*e/(c-d),0,0,1+2*a/(b-a),-1-2*d/(c-d),f/(e-f),-1,0,0,e*f/(e-f),0].slice())};
zm.prototype.perspectiveOffCenterRH=zm.prototype.Jl;zm.prototype.ei=function(a,b,c,d){this.ia([2/a,0,0,0,0,2/b,0,0,0,0,1/(d-c),0,0,0,c/(c-d),1].slice())};zm.prototype.orthoLH=zm.prototype.ei;zm.prototype.El=function(a,b,c,d){this.ia([2/a,0,0,0,0,2/b,0,0,0,0,1/(c-d),0,0,0,c/(c-d),1].slice())};zm.prototype.orthoRH=zm.prototype.El;zm.prototype.Cl=function(a,b,c,d,e,f){this.ia([2/(b-a),0,0,0,0,2/(d-c),0,0,0,0,1/(f-e),0,(a+b)/(a-b),(d+c)/(c-d),e/(e-f),1].slice())};zm.prototype.orthoOffCenterLH=zm.prototype.Cl;
zm.prototype.Dl=function(a,b,c,d,e,f){this.ia([2/(b-a),0,0,0,0,2/(d-c),0,0,0,0,1/(e-f),0,(a+b)/(a-b),(d+c)/(c-d),e/(e-f),1].slice())};zm.prototype.orthoOffCenterRH=zm.prototype.Dl;function Am(a,b,c){a.da.x=b.y*c.z-b.z*c.y;a.da.y=b.z*c.x-b.x*c.z;a.da.z=b.x*c.y-b.y*c.x;a.da.w=1;b.J(a.da)}zm.prototype.g={names:[{name:'PerspectiveMatrix3D',h:Hd}]};u(Hd,zm);function Bm(){}Bm.prototype.Md=p(!1);Bm.prototype.pick=Bm.prototype.Md;Bm.prototype.g={names:[{name:'Picking',h:xg}]};u(xg,Bm);function Cm(){}Ck(Cm,Bm);
Cm.prototype.Md=function(a,b,c,d){d='undefined'!==typeof d?d:null;if(a.drawable){this.Uh=a.world2local;var e=this.Uh.Ef(b),f=this.Uh.yh(c),g=e.x,k=e.y,e=e.z,m=f.x,r=f.y,f=f.z,t=a.drawable.index.data;for(a=a.drawable.pos.data;i<len;i+=3){var w=3*t[i],H=3*t[i+1],E=3*t[i+2],z=a[w],K=a[w+1],J=a[w+2],O=a[H]-z,W=a[H+1]-K,ka=a[H+2]-J,H=a[E]-z,w=a[E+1]-K,pa=a[E+2]-J,ua=r*pa-f*w,Aa=f*H-m*pa,sa=m*w-r*H,E=O*ua+W*Aa+ka*sa;0<E?(z=g-z,K=k-K,J=e-J):(z-=g,K-=k,J-=e,E=-E);if(!(1E-4>E||(ua=z*ua+K*Aa+J*sa,0>ua||ua>
E||(Aa=K*ka-J*W,ka=J*O-z*ka,O=z*W-K*O,W=m*Aa+r*ka+f*O,0>W||ua+W>E))))return g=H*Aa+w*ka+pa*O,g*=1/E,d&&(d.x=b.x+g*c.x,d.y=b.y+g*c.y,d.z=b.z+g*c.z),!0}}return!1};Cm.prototype.pick=Cm.prototype.Md;Cm.prototype.g={names:[{name:'AS3Picking',h:wg}]};u(wg,Cm);function Dm(){}var Em,Fm,Gm,S=[16,!0],Hm=Math.PI/180,Im=180/Math.PI,Jm=new G,Km=new G,Lm=new G,Mm=new G,Nm=new G,T=new G;function Om(a,b){(b='undefined'!==typeof b?b:null)||(b=new G);a.B(0,b);return b}u('gl3d.util.Matrix3DUtils.getRight',Om);function Pm(a,b){(b='undefined'!==typeof b?b:null)||(b=new G);a.B(1,b);return b}u('gl3d.util.Matrix3DUtils.getUp',Pm);function Qm(a,b){(b='undefined'!==typeof b?b:null)||(b=new G);a.B(2,b);return b}u('gl3d.util.Matrix3DUtils.getDir',Qm);
u('gl3d.util.Matrix3DUtils.getLeft',function(a,b){(b='undefined'!==typeof b?b:null)||(b=new G);a.B(0,b);b.Id();return b});u('gl3d.util.Matrix3DUtils.getDown',function(a,b){(b='undefined'!==typeof b?b:null)||(b=new G);a.B(1,b);b.Id();return b});u('gl3d.util.Matrix3DUtils.getBackward',function(a,b){(b='undefined'!==typeof b?b:null)||(b=new G);a.B(2,b);b.Id();return b});u('gl3d.util.Matrix3DUtils.getPosition',function(a,b){(b='undefined'!==typeof b?b:null)||(b=new G);a.B(3,b);return b});
function Rm(a,b){(b='undefined'!==typeof b?b:null)||(b=new G);a.B(0,Km);a.B(1,Lm);a.B(2,Mm);b.x=Km.length;b.y=Lm.length;b.z=Mm.length;return b}u('gl3d.util.Matrix3DUtils.getScale',Rm);function Sm(a,b,c,d,e){e='undefined'!==typeof e?e:1;1==e?(Jm.qa(b,c,d),Jm.w=1,a.Y(3,Jm)):(a.B(3,T),T.x+=(b-T.x)*e,T.y+=(c-T.y)*e,T.z+=(d-T.z)*e,a.Y(3,T))}u('gl3d.util.Matrix3DUtils.setPosition',Sm);
function Tm(a,b,c,d){c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:1;Rm(a,Nm);null==c&&(c=0==b.x&&1==Math.abs(b.y)&&0==b.z?Jl:Il);1!=d&&(Qm(a,Mm),Mm.x+=(b.x-Mm.x)*d,Mm.y+=(b.y-Mm.y)*d,Mm.z+=(b.z-Mm.z)*d,b=Mm,Pm(a,Lm),Lm.x+=(c.x-Lm.x)*d,Lm.y+=(c.y-Lm.y)*d,Lm.z+=(c.z-Lm.z)*d,c=Lm);b.normalize();c=c.Tb(b);c.normalize();d=b.Tb(c);c.xa(Nm.x);d.xa(Nm.y);b.xa(Nm.z);Um(a,c,d,b)}u('gl3d.util.Matrix3DUtils.setOrientation',Tm);
u('gl3d.util.Matrix3DUtils.setNormalOrientation',function(a,b,c){c='undefined'!==typeof c?c:1;if(0!=b.x||0!=b.y||0!=b.z){Rm(a,Nm);Qm(a,Mm);1!=c&&(Pm(a,Lm),Lm.x+=(b.x-Lm.x)*c,Lm.y+=(b.y-Lm.y)*c,Lm.z+=(b.z-Lm.z)*c,b=Lm);b.normalize();c=1==Math.abs(Mm.Qa(b))?Om(a,Km):Mm;c=b.Tb(c);c.normalize();var d=c.Tb(b);c.xa(Nm.x);b.xa(Nm.y);d.xa(Nm.z);Um(a,c,b,d)}});function Um(a,b,c,d){b.w=0;c.w=0;d.w=0;a.Y(0,b);a.Y(1,c);a.Y(2,d)}
u('gl3d.util.Matrix3DUtils.lookAt',function(a,b,c,d,e,f){e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:1;a.B(3,T);Jm.x=b-T.x;Jm.y=c-T.y;Jm.z=d-T.z;Tm(a,Jm,e,f)});u('gl3d.util.Matrix3DUtils.setTranslation',function(a,b,c,d,e){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:0;d='undefined'!==typeof d?d:0;('undefined'!==typeof e?e:1)?a.ji(b,c,d):a.od(b,c,d)});
u('gl3d.util.Matrix3DUtils.translateX',function(a,b,c){c='undefined'!==typeof c?c:!0;a.B(3,T);a.B(0,Km);c?(T.x+=b*Km.x,T.y+=b*Km.y,T.z+=b*Km.z):T.x+=b;a.Y(3,T)});u('gl3d.util.Matrix3DUtils.translateY',function(a,b,c){c='undefined'!==typeof c?c:!0;a.B(3,T);a.B(1,Lm);c?(T.x+=b*Lm.x,T.y+=b*Lm.y,T.z+=b*Lm.z):T.y+=b;a.Y(3,T)});u('gl3d.util.Matrix3DUtils.translateZ',function(a,b,c){c='undefined'!==typeof c?c:!0;a.B(3,T);a.B(2,Mm);c?(T.x+=b*Mm.x,T.y+=b*Mm.y,T.z+=b*Mm.z):T.z+=b;a.Y(3,T)});
u('gl3d.util.Matrix3DUtils.translateAxis',function(a,b,c){a.B(3,T);T.x+=b*c.x;T.y+=b*c.y;T.z+=b*c.z;a.Y(3,T)});function Vm(a,b,c,d,e){e='undefined'!==typeof e?e:1;Rm(a,Nm);Em=Nm.x;Fm=Nm.y;Gm=Nm.z;Nm.x+=(b-Nm.x)*e;Nm.y+=(c-Nm.y)*e;Nm.z+=(d-Nm.z)*e;Km.xa(Nm.x/Em);Lm.xa(Nm.y/Fm);Mm.xa(Nm.z/Gm);Um(a,Km,Lm,Mm)}u('gl3d.util.Matrix3DUtils.setScale',Vm);function Wm(a,b){a.B(0,Km);Km.normalize();Km.x*=b;Km.y*=b;Km.z*=b;a.Y(0,Km)}u('gl3d.util.Matrix3DUtils.scaleX',Wm);
function Xm(a,b){a.B(1,Lm);Lm.normalize();Lm.x*=b;Lm.y*=b;Lm.z*=b;a.Y(1,Lm)}u('gl3d.util.Matrix3DUtils.scaleY',Xm);function Ym(a,b){a.B(2,Mm);Mm.normalize();Mm.x*=b;Mm.y*=b;Mm.z*=b;a.Y(2,Mm)}u('gl3d.util.Matrix3DUtils.scaleZ',Ym);function Zm(a,b){b=('undefined'!==typeof b?b:null)||new G;Jm=a.Ae(re)[1];b.x=Jm.x*Im;b.y=Jm.y*Im;b.z=Jm.z*Im;return b}u('gl3d.util.Matrix3DUtils.getRotation',Zm);function $m(a,b,c,d){var e=a.Ae(re);e[1].x=b*Hm;e[1].y=c*Hm;e[1].z=d*Hm;a.ri(e,re)}
u('gl3d.util.Matrix3DUtils.setRotation',$m);u('gl3d.util.Matrix3DUtils.rotateX',function(a,b,c,d){d='undefined'!==typeof d?d:null;an(a,b,('undefined'!==typeof c?c:1)?Om(a,Jm):Hl,d)});u('gl3d.util.Matrix3DUtils.rotateY',function(a,b,c,d){d='undefined'!==typeof d?d:null;an(a,b,('undefined'!==typeof c?c:1)?Pm(a,Jm):Il,d)});u('gl3d.util.Matrix3DUtils.rotateZ',function(a,b,c,d){d='undefined'!==typeof d?d:null;an(a,b,('undefined'!==typeof c?c:1)?Qm(a,Jm):Jl,d)});
function an(a,b,c,d){d='undefined'!==typeof d?d:null;Jm.x=c.x;Jm.y=c.y;Jm.z=c.z;Jm.normalize();a.B(3,T);a.nd(b,Jm,d||T)}u('gl3d.util.Matrix3DUtils.rotateAxis',an);u('gl3d.util.Matrix3DUtils.transformVector',function(a,b,c){(c='undefined'!==typeof c?c:null)||(c=new G);var d=b.x,e=b.y;b=b.z;a.Ob(S);c.x=d*S[0]+e*S[4]+b*S[8]+S[12];c.y=d*S[1]+e*S[5]+b*S[9]+S[13];c.z=d*S[2]+e*S[6]+b*S[10]+S[14];return c});
u('gl3d.util.Matrix3DUtils.deltaTransformVector',function(a,b,c){(c='undefined'!==typeof c?c:null)||(c=new G);var d=b.x,e=b.y;b=b.z;a.Ob(S);c.x=d*S[0]+e*S[4]+b*S[8];c.y=d*S[1]+e*S[5]+b*S[9];c.z=d*S[2]+e*S[6]+b*S[10];return c});u('gl3d.util.Matrix3DUtils.invert',function(a,b){(b='undefined'!==typeof b?b:null)||(b=new I);b.J(a);b.Ta();return b});u('gl3d.util.Matrix3DUtils.equal',function(a,b){for(var c=a.rawData,d=b.rawData,e=0;16>e;){if(c[e]!=d[e])return!1;e++}return!0});var bn=new G,cn=new G;
u('gl3d.util.Matrix3DUtils.interpolateTo',function(a,b,c){a.Ob(S);Km.x=S[0];Km.y=S[1];Km.z=S[2];Lm.x=S[4];Lm.y=S[5];Lm.z=S[6];Mm.x=S[8];Mm.y=S[9];Mm.z=S[10];bn.x=Km.length;bn.y=Lm.length;bn.z=Mm.length;var d=1/bn.x,e=1/bn.y,f=1/bn.z;S[0]*=d;S[1]*=d;S[2]*=d;S[4]*=e;S[5]*=e;S[6]*=e;S[8]*=f;S[9]*=f;S[10]*=f;a.ia(S);b.Ob(S);Km.x=S[0];Km.y=S[1];Km.z=S[2];Lm.x=S[4];Lm.y=S[5];Lm.z=S[6];Mm.x=S[8];Mm.y=S[9];Mm.z=S[10];cn.x=Km.length;cn.y=Lm.length;cn.z=Mm.length;d=1/cn.x;e=1/cn.y;f=1/cn.z;S[0]*=d;S[1]*=d;
S[2]*=d;S[4]*=e;S[5]*=e;S[6]*=e;S[8]*=f;S[9]*=f;S[10]*=f;b.ia(S);a.Th(b,c);bn.x+=(cn.x-bn.x)*c;bn.y+=(cn.y-bn.y)*c;bn.z+=(cn.z-bn.z)*c;a.nf(bn.x,bn.y,bn.z);b.nf(cn.x,cn.y,cn.z)});u('gl3d.util.Matrix3DUtils.resetPosition',function(a){Sm(a,0,0,0)});u('gl3d.util.Matrix3DUtils.resetRotation',function(a){$m(a,0,0,0)});u('gl3d.util.Matrix3DUtils.resetScale',function(a){Vm(a,1,1,1)});
u('gl3d.util.Matrix3DUtils.buildOrthoProjection',function(a,b,c,d,e,f,g){g='undefined'!==typeof g?g:null;var k=NaN,m=NaN,r=NaN;null==g&&(g=new I);k=2/(b-a);m=2/(d-c);r=1/(f-e);S[0]=k;S[5]=m;S[10]=r;S[12]=-.5*(b+a)*k;S[13]=-.5*(d+c)*m;S[14]=-e*r;S[1]=S[2]=S[4]=S[6]=S[8]=S[9]=S[3]=S[7]=S[11]=0;S[15]=1;g.ia(S);return g});
u('gl3d.util.Matrix3DUtils.decompose',function(a,b,c){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;null==b&&(b=re);null==c&&(c=[new G,new G,new G].slice());a.Ob(S);c[0].qa(S[12],S[13],S[14]);a=c[2];a.x=Math.sqrt(S[0]*S[0]+S[1]*S[1]+S[2]*S[2]);a.y=Math.sqrt(S[4]*S[4]+S[5]*S[5]+S[6]*S[6]);a.z=Math.sqrt(S[8]*S[8]+S[9]*S[9]+S[10]*S[10]);0>S[0]*(S[5]*S[10]-S[6]*S[9])-S[1]*(S[4]*S[10]-S[6]*S[8])+S[2]*(S[4]*S[9]-S[5]*S[8])&&(a.z=-a.z);S[0]/=a.x;S[1]/=a.x;S[2]/=a.x;S[4]/=a.y;S[5]/=a.y;
S[6]/=a.y;S[8]/=a.z;S[9]/=a.z;S[10]/=a.z;a=c[1];switch(b){case uc:a.w=Math.acos((S[0]+S[5]+S[10]-1)/2);b=Math.sqrt((S[6]-S[9])*(S[6]-S[9])+(S[8]-S[2])*(S[8]-S[2])+(S[1]-S[4])*(S[1]-S[4]));0!=b?(a.x=(S[6]-S[9])/b,a.y=(S[8]-S[2])/b,a.z=(S[1]-S[4])/b):a.x=a.y=a.z=0;break;case oi:b=S[0]+S[5]+S[10];0<b?(a.w=Math.sqrt(1+b)/2,a.x=(S[6]-S[9])/(4*a.w),a.y=(S[8]-S[2])/(4*a.w),a.z=(S[1]-S[4])/(4*a.w)):S[0]>S[5]&&S[0]>S[10]?(a.x=Math.sqrt(1+S[0]-S[5]-S[10])/2,a.w=(S[6]-S[9])/(4*a.x),a.y=(S[1]+S[4])/(4*a.x),a.z=
(S[8]+S[2])/(4*a.x)):S[5]>S[10]?(a.y=Math.sqrt(1+S[5]-S[0]-S[10])/2,a.x=(S[1]+S[4])/(4*a.y),a.w=(S[8]-S[2])/(4*a.y),a.z=(S[6]+S[9])/(4*a.y)):(a.z=Math.sqrt(1+S[10]-S[0]-S[5])/2,a.x=(S[8]+S[2])/(4*a.z),a.y=(S[6]+S[9])/(4*a.z),a.w=(S[1]-S[4])/(4*a.z));break;case re:a.y=Math.asin(-S[2]),1!=S[2]&&-1!=S[2]?(a.x=Math.atan2(S[6],S[10]),a.z=Math.atan2(S[1],S[0])):(a.z=0,a.x=Math.atan2(S[4],S[5]))}return c});Dm.prototype.g={names:[{name:'Matrix3DUtils',h:Cg}]};u(Cg,Dm);function dn(a){this._world=new I;this._world2local=new I;this.L=new I;this.children=[];this.renderChildren=[];this.picking=new Cm;this.name='undefined'!==typeof a?a:null}dn.prototype.N=!0;dn.prototype.De=!0;dn.prototype.visible=!0;dn.prototype.visible=dn.prototype.visible;var en=new G;dn.prototype.gb=function(a){a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this;if(a==this)throw he;a.I(!0)};dn.prototype.addChild=dn.prototype.gb;
dn.prototype.removeChild=function(a){var b=this.children.indexOf(a);-1!=b&&this.children.splice(b,1);a.parent=null;a.I(!0)};dn.prototype.removeChild=dn.prototype.removeChild;dn.prototype.update=function(a,b){b='undefined'!==typeof b?b:null;if(this.controllers){var c=this.controllers,d;for(d in c){var e=c[d];e&&e.update(a.time)}}(b||this.material)&&(b||this.material).G(this,a);var c=this.renderChildren,f;for(f in c)c[f].update(a,b)};dn.prototype.update=dn.prototype.update;
dn.prototype.lm=function(a,b,c){$m(this.L,a,b,c);this.I(!0)};dn.prototype.setRotation=dn.prototype.lm;dn.prototype.tk=function(a,b){b='undefined'!==typeof b?b:null;null==b&&(b=new G);return b=Zm(('undefined'!==typeof a?a:1)?this.L:this.world,b)};dn.prototype.getRotation=dn.prototype.tk;dn.prototype.I=function(a){if('undefined'!==typeof a&&a){a=this.children;for(var b in a)a[b].I(!0)}this.N=!0};dn.prototype.updateTransforms=dn.prototype.I;
dn.prototype.Nl=function(a,b,c){return this.picking?this.picking.Md(this,a,b,'undefined'!==typeof c?c:null):!1};dn.prototype.rayMeshTest=dn.prototype.Nl;dn.prototype.clone=function(a){a='undefined'!==typeof a?a:!1;var b=new dn;b.copyfrom=this;b.drawable=this.drawable;b.material=this.material;b.matrix=this.matrix.clone();b.skin=this.skin;var c=this.children,d;for(d in c){var e=c[d];e.type!=Db&&b.gb(e.clone(a))}a&&this.drawable&&this.renderChildren.push(b);return b};dn.prototype.clone=dn.prototype.clone;
dn.prototype.D=h();dn.prototype.dispose=dn.prototype.D;
Object.defineProperties(dn.prototype,{x:{get:function(){this.L.B(3,en);return en.x},set:function(a){this.L.B(3,en);en.x=a;this.L.Y(3,en);this.I(!0)}},y:{get:function(){this.L.B(3,en);return en.y},set:function(a){this.L.B(3,en);en.y=a;this.L.Y(3,en);this.I(!0)}},z:{get:function(){this.L.B(3,en);return en.z},set:function(a){this.L.B(3,en);en.z=a;this.L.Y(3,en);this.I(!0)}},scaleX:{get:function(){return Om(this.L,en).length},set:function(a){Wm(this.L,a);this.I(!0)}},scaleY:{get:function(){return Pm(this.L,
en).length},set:function(a){Xm(this.L,a);this.I(!0)}},scaleZ:{get:function(){return Qm(this.L,en).length},set:function(a){Ym(this.L,a);this.I(!0)}},world:{get:function(){this.N&&(this.L.uh(this._world),this.parent&&this.parent.parent&&this._world.append(this.parent.world),this.N=!1,this.De=!0);return this._world},set:function(a){this.L.J(a);this.parent&&this.L.append(this.parent.world2local);this.matrix=this.L}},world2local:{get:function(){if(this.N||this.De)this._world2local.J(this.world),this._world2local.Ta(),
this.De=!1;return this._world2local}},matrix:{get:n('L'),set:function(a){this.L=a;this.I(!0)}}});dn.prototype.g={names:[{name:'Node3D',h:kg}]};u(kg,dn);function fn(a){this.perspective=new zm;dn.call(this,'undefined'!==typeof a?a:null)}Ck(fn,dn);fn.prototype.Pj=function(a,b,c,d,e,f,g){return this.sh((a-.5*c)/c*2,-(b-.5*d)/d*2,e,f,'undefined'!==typeof g?g:null)};fn.prototype.computePickRayDirectionMouse=fn.prototype.Pj;
fn.prototype.sh=function(a,b,c,d,e){e='undefined'!==typeof e?e:null;a=new G(a,b,0);b=this.perspective.clone();b.Ta();b.append(this.world);a=b.Ef(a);a.ki();null!=e&&e.qa(a.x,a.y,a.z);c.qa(this.x,this.y,this.z);d.qa(a.x-this.x,a.y-this.y,a.z-this.z);d.normalize()};fn.prototype.computePickRayDirection=fn.prototype.sh;fn.prototype.g={names:[{name:'Camera3D',h:eg}]};u(eg,fn);function gn(){xl.call(this)}Ck(gn,xl);u('flash.media.Camera.getCamera',p(null));gn.prototype.cm=h();gn.prototype.setCursor=gn.prototype.cm;gn.prototype.dm=h();gn.prototype.setKeyFrameInterval=gn.prototype.dm;gn.prototype.em=h();gn.prototype.setLoopback=gn.prototype.em;gn.prototype.fm=h();gn.prototype.setMode=gn.prototype.fm;gn.prototype.gm=h();gn.prototype.setMotionLevel=gn.prototype.gm;gn.prototype.km=h();gn.prototype.setQuality=gn.prototype.km;gn.prototype.ub=h();gn.prototype.drawToBitmapData=gn.prototype.ub;
gn.prototype.Uj=h();gn.prototype.copyToByteArray=gn.prototype.Uj;gn.prototype.Vj=h();gn.prototype.copyToVector=gn.prototype.Vj;Object.defineProperties(gn.prototype,{activityLevel:{get:p(0)},bandwidth:{get:p(0)},currentFPS:{get:p(0)},fps:{get:p(0)},height:{get:p(0)},index:{get:p(0)},keyFrameInterval:{get:p(0)},loopback:{get:p(!1)},motionLevel:{get:p(0)},motionTimeout:{get:p(0)},muted:{get:p(!1)},name:{get:p(null)},position:{get:p(null)},quality:{get:p(0)},width:{get:p(0)}});
Object.defineProperties(gn,{names:{get:p(null)},isSupported:{get:p(!1)}});gn.prototype.g={names:[{name:'Camera',h:Jf}]};u(Jf,gn);function hn(){}function jn(a){for(var b=1;b<a;)b*=2;return b}u('gl3d.util.MathUtil.getNextPow2',jn);hn.prototype.g={names:[{name:'MathUtil',h:Bg}]};u(Bg,hn);function kn(a,b,c,d,e,f,g){a='undefined'!==typeof a?a:null;this.repeat='undefined'!==typeof c?c:!0;this.filter='undefined'!==typeof g?g:fh;this.async='undefined'!==typeof f?f:!0;this.mipmap='undefined'!==typeof e?e:!0;this.Kc='undefined'!==typeof d?d:!1;this.jb=x(a,Array);this.isRect='undefined'!==typeof b?b:!1;this.data=a;this.Kf(null,!1);x(a,String)&&(this.ready=!1);x(a,gn)&&(this.Fd=!0,this.ready=!1)}kn.prototype.m=!0;kn.prototype.invalid=kn.prototype.m;kn.prototype.S=!0;
kn.prototype.dataInvalid=kn.prototype.S;kn.prototype.jb=!1;kn.prototype.isCube=kn.prototype.jb;kn.prototype.Fd=!1;kn.prototype.isCamera=kn.prototype.Fd;kn.prototype.ready=!0;kn.prototype.ready=kn.prototype.ready;kn.prototype.Yi=function(a){var b=v(this.data,D);b&&(null==this.texture&&(this.texture=a.Rb(b.width,b.height,Bc,this.Kc)),this.S&&(this.Ia(this.texture,b,0),this.S=!1))};kn.prototype.updateRect=kn.prototype.Yi;
kn.prototype.Lf=function(a,b,c,d,e){e='undefined'!==typeof e?e:0;this.width=a;this.height=b;var f,g=0;if(a!=c.width||b!=c.height)f=c,c=new D(a,b,f.transparent,0),c.G(f,new A(a/f.width,0,0,b/f.height),null,null,null,!0);for(;0<a||0<b;){if(0==g){if(this.Ia(d,c,e,g),!this.mipmap)break}else f=new D(Math.max(a,1),Math.max(b,1),c.transparent,0),f.G(c,new A(f.width/c.width,0,0,f.height/c.height)),this.Ia(d,f,e,g),f.D();g++;a/=2;b/=2}};kn.prototype.updateBMDTexture=kn.prototype.Lf;
kn.prototype.Ia=function(a,b,c,d){d='undefined'!==typeof d?d:0;b=new L;b.endian=gh;x(a,Cl)?v(a,Cl).ra(b,0,d):x(a,Al)?v(a,Al).ra(b,0,c,d):x(a,Bl)&&v(a,Bl).ra(b,0)};kn.prototype.Wi=function(a){var b=v(this.data,D);if(this.data){if(null==this.texture){var c=jn(b.width),d=jn(b.height);this.texture=a.createTexture(c,d,Bc,this.Kc)}this.S&&(this.Lf(c,d,b,this.texture),this.S=!1)}};kn.prototype.updateBMD=kn.prototype.Wi;
kn.prototype.Xi=function(a){var b=v(this.data,Array);if(b&&(v(this.texture,Al),this.S)){for(var c=0;6>c;c++){var d=b[c],e=jn(Math.max(d.width,d.height));null==this.texture&&(this.texture=a.Pb(e,Bc,this.Kc));this.Lf(e,e,d,this.texture,c)}this.S=!1}};kn.prototype.updateBMDs=kn.prototype.Xi;kn.prototype.Zi=function(a){v(this.data,gn)&&F.supportsVideoTexture&&null==this.texture&&(this.texture=v(a.Ac(),zl),this.texture.addEventListener(kj,y(this.Dm,this,ik)))};kn.prototype.updateVideo=kn.prototype.Zi;
kn.prototype.Dm=function(){this.ready=!0};
kn.prototype.Kf=function(a,b){function c(){d.ready=!0}var d=this;b='undefined'!==typeof b?b:!0;var e=v(this.data,L);if(e){e.position=0;var f=e.ec(3);if(f!=xb)throw'ATF parsing error, unknown format '+f;e.position=255==e[6]?12:6;var f=e.Oc(),g=null;switch(f&127){case 0:case 1:g=Bc;break;case 2:case 3:case 12:g=Id;this.isDXT1=!0;break;case 4:case 5:case 13:g=Jd;this.isDXT5=!0;break;default:throw'Invalid ATF format';}switch(f>>7){case 0:this.jb=!1;break;case 1:this.jb=!0}this.width=Ik(Math.pow(2,this.data.Oc()));
this.height=Ik(Math.pow(2,this.data.Oc()));this.data.Oc();b&&(null==this.texture&&(this.texture=this.jb?a.Pb(this.width,g,this.Kc,0):a.createTexture(this.width,this.height,g,this.Kc,0)),this.S&&(this.jb?v(this.texture,Al).cd(e,0,this.async):v(this.texture,Cl).cd(e,0,this.async),this.ready=!this.async,this.async&&v(this.texture,Cl).addEventListener(kj,c),this.S=!1))}};kn.prototype.updateATF=kn.prototype.Kf;
kn.prototype.update=function(a){a=a.renderer.gl3d;if(this.m||this.context!=a)null!=this.texture&&this.texture.D(),this.texture=null,this.S=!0,this.m=!1,this.context=a;this.isRect?this.Yi(a):x(this.data,Array)?this.Xi(a):x(this.data,D)?this.Wi(a):x(this.data,L)?this.Kf(a):x(this.data,gn)&&this.Zi(a)};kn.prototype.update=kn.prototype.update;kn.prototype.bind=function(a,b){a.kc(b,this.texture)};kn.prototype.bind=kn.prototype.bind;
Object.defineProperties(kn.prototype,{flags:{get:function(){var a=[];this.mipmap&&!this.Fd&&a.push(oh);this.jb&&a.push(Rd);!this.repeat||this.jb||this.isRect||this.Fd||a.push(ri);this.isDXT1?a.push(ae):this.isDXT5&&a.push(be);this.filter&&a.push(this.filter);return a}}});kn.prototype.g={names:[{name:'TextureSet',h:mg}]};u(mg,kn);function ln(a,b){a='undefined'!==typeof a?a:DISTANT;b='undefined'!==typeof b?b:eh;this.color=new G(1,1,1,1);this.shadowMap=new kn;this.kd=new fn;this.innerConeAngle=Math.PI/6;this.outerConeAngle=Math.PI/3;this.lightType=a;dn.call(this,b)}Ck(ln,dn);u('gl3d.core.Light.AMBIENT',0);u('gl3d.core.Light.DISTANT',1);u('gl3d.core.Light.POINT',2);u('gl3d.core.Light.SPOT',3);ln.prototype.Xd=!1;ln.prototype.shadowMapEnabled=ln.prototype.Xd;ln.prototype.xf=512;ln.prototype.shadowMapSize=ln.prototype.xf;
ln.prototype.Dc=10;ln.prototype.distance=ln.prototype.Dc;ln.prototype.D=function(){ln.Z.D.call(this);this.shadowMap&&this.shadowMap.texture&&this.shadowMap.texture.D()};ln.prototype.dispose=ln.prototype.D;Object.defineProperties(ln.prototype,{shadowCamera:{get:function(){this.kd.matrix.hi(new G(this.x,this.y,this.z),Jl,new G(0,-1,0));this.kd.I();this.kd.perspective.ei(10,10,-5,5);return this.kd}}});ln.prototype.g={names:[{name:'Light',h:hg}]};u(hg,ln);function U(a){this.shader=a}U.prototype.zh=function(a,b,c){a=v(this[a],Function);return null!=a?a(b,c):null};U.prototype.doop=U.prototype.zh;U.prototype.ib=function(a,b,c){for(var d=[],e=Math.max(a.data.length,b.data.length),f=0;f<e;f++)d[f]=c(a.data[f%a.data.length],b.data[f%b.data.length]);return this.shader.Jd(d)};U.prototype.i_doop1=U.prototype.ib;U.prototype.A=function(){throw Mh;};U.prototype.mov=U.prototype.A;U.prototype.add=function(a,b){return this.ib(a,b,y(this.Lh,this,Hg))};
U.prototype.add=U.prototype.add;U.prototype.sub=function(a,b){return this.ib(a,b,y(this.Rh,this,Ng))};U.prototype.sub=U.prototype.sub;U.prototype.v=function(a,b){return this.ib(a,b,y(this.Ph,this,Lg))};U.prototype.mul=U.prototype.v;U.prototype.fa=function(a,b){return this.ib(a,b,y(this.Mh,this,Ig))};U.prototype.div=U.prototype.fa;U.prototype.dc=function(){throw Mh;};U.prototype.rcp=U.prototype.dc;U.prototype.min=function(a,b){return this.ib(a,b,y(this.Oh,this,Kg))};U.prototype.min=U.prototype.min;
U.prototype.max=function(a,b){return this.ib(a,b,y(this.Nh,this,Jg))};U.prototype.max=U.prototype.max;U.prototype.Wb=function(){throw Mh;};U.prototype.frc=U.prototype.Wb;U.prototype.lc=function(){throw Mh;};U.prototype.sqt=U.prototype.lc;U.prototype.Od=function(){throw Mh;};U.prototype.rsq=U.prototype.Od;U.prototype.pow=function(a,b){return this.ib(a,b,y(this.Qh,this,Mg))};U.prototype.pow=U.prototype.pow;U.prototype.log=function(){throw Mh;};U.prototype.log=U.prototype.log;
U.prototype.exp=function(){throw Mh;};U.prototype.exp=U.prototype.exp;U.prototype.$=function(){throw Mh;};U.prototype.nrm=U.prototype.$;U.prototype.sin=function(){throw Mh;};U.prototype.sin=U.prototype.sin;U.prototype.cos=function(){throw Mh;};U.prototype.cos=U.prototype.cos;U.prototype.rb=function(){throw Mh;};U.prototype.crs=U.prototype.rb;U.prototype.la=function(){throw Mh;};U.prototype.dp3=U.prototype.la;U.prototype.wd=function(){throw Mh;};U.prototype.dp4=U.prototype.wd;
U.prototype.abs=function(){throw Mh;};U.prototype.abs=U.prototype.abs;U.prototype.$b=function(){throw Mh;};U.prototype.neg=U.prototype.$b;U.prototype.wa=function(){throw Mh;};U.prototype.sat=U.prototype.wa;U.prototype.m33=function(){throw Mh;};U.prototype.m33=U.prototype.m33;U.prototype.m44=function(){throw Mh;};U.prototype.m44=U.prototype.m44;U.prototype.m34=function(){throw Mh;};U.prototype.m34=U.prototype.m34;U.prototype.Re=function(){throw Mh;};U.prototype.ife=U.prototype.Re;
U.prototype.Ue=function(){throw Mh;};U.prototype.ine=U.prototype.Ue;U.prototype.Se=function(){throw Mh;};U.prototype.ifg=U.prototype.Se;U.prototype.Te=function(){throw Mh;};U.prototype.ifl=U.prototype.Te;U.prototype.Ie=function(){throw Mh;};U.prototype.els=U.prototype.Ie;U.prototype.Ge=function(){throw Mh;};U.prototype.eif=U.prototype.Ge;U.prototype.Bf=function(){throw Mh;};U.prototype.ted=U.prototype.Bf;U.prototype.Vd=function(){throw Mh;};U.prototype.sge=U.prototype.Vd;
U.prototype.Vc=function(){throw Mh;};U.prototype.slt=U.prototype.Vc;U.prototype.Wd=function(){throw Mh;};U.prototype.sgn=U.prototype.Wd;U.prototype.Rc=function(){throw Mh;};U.prototype.seq=U.prototype.Rc;U.prototype.Wc=function(){throw Mh;};U.prototype.sne=U.prototype.Wc;U.prototype.Qk=p(0);U.prototype.i_mov=U.prototype.Qk;U.prototype.Lh=function(a,b){return a+b};U.prototype.i_add=U.prototype.Lh;U.prototype.Rh=function(a,b){return a-b};U.prototype.i_sub=U.prototype.Rh;
U.prototype.Ph=function(a,b){return a*b};U.prototype.i_mul=U.prototype.Ph;U.prototype.Mh=function(a,b){return a/b};U.prototype.i_div=U.prototype.Mh;U.prototype.Tk=function(a){return 1/a};U.prototype.i_rcp=U.prototype.Tk;U.prototype.Oh=function(a,b){return Math.min(a,b)};U.prototype.i_min=U.prototype.Oh;U.prototype.Nh=function(a,b){return Math.max(a,b)};U.prototype.i_max=U.prototype.Nh;U.prototype.Hk=p(0);U.prototype.i_frc=U.prototype.Hk;U.prototype.bl=p(0);U.prototype.i_sqt=U.prototype.bl;
U.prototype.Uk=p(0);U.prototype.i_rsq=U.prototype.Uk;U.prototype.Qh=function(a,b){return Math.pow(a,b)};U.prototype.i_pow=U.prototype.Qh;U.prototype.Mk=p(0);U.prototype.i_log=U.prototype.Mk;U.prototype.Gk=p(0);U.prototype.i_exp=U.prototype.Gk;U.prototype.Sk=p(0);U.prototype.i_nrm=U.prototype.Sk;U.prototype.Zk=p(0);U.prototype.i_sin=U.prototype.Zk;U.prototype.Ak=p(0);U.prototype.i_cos=U.prototype.Ak;U.prototype.Bk=p(0);U.prototype.i_crs=U.prototype.Bk;U.prototype.Ck=p(0);U.prototype.i_dp3=U.prototype.Ck;
U.prototype.Dk=p(0);U.prototype.i_dp4=U.prototype.Dk;U.prototype.zk=p(0);U.prototype.i_abs=U.prototype.zk;U.prototype.Rk=p(0);U.prototype.i_neg=U.prototype.Rk;U.prototype.Vk=p(0);U.prototype.i_sat=U.prototype.Vk;U.prototype.Nk=p(0);U.prototype.i_m33=U.prototype.Nk;U.prototype.Pk=p(0);U.prototype.i_m44=U.prototype.Pk;U.prototype.Ok=p(0);U.prototype.i_m34=U.prototype.Ok;U.prototype.Ik=p(0);U.prototype.i_ife=U.prototype.Ik;U.prototype.Lk=p(0);U.prototype.i_ine=U.prototype.Lk;U.prototype.Jk=p(0);
U.prototype.i_ifg=U.prototype.Jk;U.prototype.Kk=p(0);U.prototype.i_ifl=U.prototype.Kk;U.prototype.Fk=p(0);U.prototype.i_els=U.prototype.Fk;U.prototype.Ek=p(0);U.prototype.i_eif=U.prototype.Ek;U.prototype.cl=p(0);U.prototype.i_ted=U.prototype.cl;U.prototype.Xk=p(0);U.prototype.i_sge=U.prototype.Xk;U.prototype.$k=p(0);U.prototype.i_slt=U.prototype.$k;U.prototype.Yk=p(0);U.prototype.i_sgn=U.prototype.Yk;U.prototype.Wk=p(0);U.prototype.i_seq=U.prototype.Wk;U.prototype.al=p(0);U.prototype.i_sne=U.prototype.al;
U.prototype.g={names:[{name:'NativeOp',h:qc}]};u(qc,U);function V(a,b){a='undefined'!==typeof a?a:Context3DProgramType.mj;this.lines=[];this.logs={};this.creator=('undefined'!==typeof b?b:null)||new qm;this.programType=a;this.Al=new U(this)}q=V.prototype;q.Cf=0;q.Gf=0;q.sf=0;q.ue=0;q.Of=0;q.Oa=0;V.prototype.constMemLen=V.prototype.Oa;V.prototype.m=!0;V.prototype.invalid=V.prototype.m;V.prototype.clear=function(){this.lines=[];this.Oa=this.Of=this.ue=this.sf=this.Gf=this.Cf=0};V.prototype.clear=V.prototype.clear;V.prototype.Mb=h();V.prototype.build=V.prototype.Mb;
V.prototype.di=function(){var a=[],b=[],c=[],d=[];this.uniforms=[];this.samplers=[];this.buffs=[];this.varyings=[];for(var e=0;e<this.lines.length;e++)for(var f=this.lines[e],g=f.length,k=1;k<g;k++){var m=f[k];mn(this,m,e,a,b,c);x(m.component,om)&&mn(this,v(m.component,om),e,a,b,c)}this.Gf&&(this.uniforms=this.Lc(this.uniforms,this.Jf));var e=this.uniforms,r;for(r in e)m=e[r],m=m.index+m.Na,m>this.Oa&&(this.Oa=m);this.programType==Uf&&this.sf&&(this.samplers=this.Lc(this.samplers,this.tf));this.programType==
Xj&&this.ue&&(this.buffs=this.Lc(this.buffs,this.we));this.programType==Xj&&this.Of&&(this.varyings=this.Lc(this.varyings,this.Pf));g=a.length;for(e=1;e<g;e++)if(r=a[e])for(m=r[0],k=0;k<e;k++)if((f=a[k])&&m>f[1]){var t=b[e],w;for(w in t)m=t[w],m.index=k;f[1]=r[1];r[0]=0;r[1]=0;break}for(var H in c){m=c[H];a=v(m.data,Array);w=b=a.length;g=!1;if(4>=b)for(e=0;e<d.length;e+=4){for(k=0;k<=4-b;k++){for(var g=!0,E=0;E<b;E++)if(a[E]!=d[e+k+E]){g=!1;break}if(g)break}if(g)break}if(g){if(m.index=(e/4>>0)+this.Oa,
0<e%4||4!=w)m.component='xyzw'.substr((e+k+E-b)%4,b)}else{4<w&&(w=4);for(g=d.length;;){r=g%4;if(4>=r+w)break;g++}for(E=0;E<b;E++)d[E+g]=a[E];m.index=(g/4>>0)+this.Oa;if(0<r||4!=w)m.component='xyzw'.substr(r,b)}}for(;0!=d.length%4;)d.push(0);this.constPoolVec=d.slice()};V.prototype.optimize=V.prototype.di;
function mn(a,b,c,d,e,f){2==b.type?(a=d[b.index],null==a&&(a=d[b.index]=[c,c]),a[1]=c,c=e[b.index],null==c&&(c=e[b.index]=[]),c.push(b)):1==b.type?-1!=b.index?a.uniforms.push(b):f.push(b):5==b.type?a.samplers.push(b):3==b.type?a.buffs.push(b):4==b.type&&a.varyings.push(b)}
V.prototype.Lc=function(a,b){var c={},d=[],e={},f=0,g;for(g in a){var k=a[g];null==c[k.index]&&(c[k.index]=[],d.push(k),e[k.index]=f,f+=k.Na);c[k.index].push(k)}for(var m in b)k=b[m],c[k.index]&&c[k.index].push(k);for(var r in c){f=e[r];g=c[r];for(var t in g)k=g[t],k.index=f,k.o=!0}return d};V.prototype.optimizeVar=V.prototype.Lc;V.prototype.rd=function(){var a=new om(2,this.Cf);this.Cf++;return a};V.prototype.createTempVar=V.prototype.rd;
function nn(a,b,c){c='undefined'!==typeof c?c:1;a=a.be(-1);a.data=b;a.Na=c;4>b.length&&(a.component='xyzw'.substr(0,b.length));return a}function on(a,b){var c=a.be(a.Gf++,'undefined'!==typeof b?b:1);a.Jf=a.Jf||[];a.Jf.push(c);return c}V.prototype.ka=function(){return on(this)};V.prototype.uniform=V.prototype.ka;V.prototype.matrix=function(){return on(this,4)};V.prototype.matrix=V.prototype.matrix;V.prototype.tl=function(){return on(this,3)};V.prototype.matrix34=V.prototype.tl;
V.prototype.Bh=function(a){return on(this,a)};V.prototype.floatArray=V.prototype.Bh;V.prototype.bi=function(a){return on(this,4*a)};V.prototype.matrixArray=V.prototype.bi;V.prototype.ul=function(a){return on(this,3*a)};V.prototype.matrix34Array=V.prototype.ul;V.prototype.buff=function(){var a=this.Vf(this.ue++);this.we=this.we||[];this.we.push(a);return a};V.prototype.buff=V.prototype.buff;V.prototype.Db=function(){var a=this.Tf(this.sf++);this.tf=this.tf||[];this.tf.push(a);return a};
V.prototype.sampler=V.prototype.Db;V.prototype.Aa=function(){var a=this.Uf(this.Of++);this.Pf=this.Pf||[];this.Pf.push(a);return a};V.prototype.varying=V.prototype.Aa;V.prototype.debug=function(a){this.logs[this.lines.length]=this.logs[this.lines.length]||[];this.logs[this.lines.length].push(a)};V.prototype.debug=V.prototype.debug;
V.prototype.f=function(a,b,c,d,e,f,g){b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:null;e='undefined'!==typeof e?e:null;f='undefined'!==typeof f?f:3;g='undefined'!==typeof g?g:null;var k=[a];if(null!=b){var m=this.Jd(b);k.push(m)}if(null!=c){var r=this.Jd(c);k.push(r)}if(m&&r&&1==m.type&&1==r.type)return this.Al.zh(a,m,r);if(1<f)var t=d||this.rd();g&&(t=t.c(g));t&&k.splice(1,0,t);k.flag=e;this.lines.push(k);return t};V.prototype.f=V.prototype.f;
V.prototype.Jd=function(a){return x(a,om)?v(a,om):this.Sf(a)};V.prototype.object2Var=V.prototype.Jd;V.prototype.vb=function(a,b,c){c='undefined'!==typeof c?c:null;if(0==b.length)return c;if(1==b.length)return this.A(b[0],c);for(var d=b[0],e=1;e<b.length-1;e++)d=this.f(a,d,b[e]);return this.f(a,d,b[b.length-1],c)};V.prototype.f2=V.prototype.vb;V.prototype.Dc=function(a,b,c,d){c='undefined'!==typeof c?c:2;d='undefined'!==typeof d?d:null;return this.length(this.sub(a,b),c,d)};V.prototype.distance=V.prototype.Dc;
V.prototype.length=function(a,b,c){b='undefined'!==typeof b?b:2;c='undefined'!==typeof c?c:null;a=this.v(a,a);var d=[a.x,a.y];2<b&&d.push(a.z);3<b&&d.push(a.w);return this.lc(this.pe(d),c)};V.prototype.length=V.prototype.length;V.prototype.atan=function(a,b){b='undefined'!==typeof b?b:null;return this.fa(this.v(Math.PI/2,a),this.add(1,this.abs(a)),b)};V.prototype.atan=V.prototype.atan;
V.prototype.atan2=function(a,b,c){c='undefined'!==typeof c?c:null;return this.v(2,this.atan(this.fa(a,this.add(this.lc(this.add(this.v(b,b),this.v(a,a))),b))),c)};V.prototype.atan2=V.prototype.atan2;V.prototype.yf=function(a,b,c,d){d='undefined'!==typeof d?d:null;a=this.wa(this.fa(this.sub(c,a),this.sub(b,a)));return this.Zb([a,a,this.sub(3,this.v(2,a))],d)};V.prototype.smoothstep=V.prototype.yf;
V.prototype.hf=function(a,b,c,d){d='undefined'!==typeof d?d:null;return this.add(a,this.v(c,this.sub(b,a)),d)};V.prototype.mix=V.prototype.hf;V.prototype.yl=function(a,b,c){c='undefined'!==typeof c?c:null;a=this.fa(a,b);return this.v(this.Wb(a),b,c)};V.prototype.mod=V.prototype.yl;V.prototype.Le=function(a,b){b='undefined'!==typeof b?b:null;return this.add(this.abs(this.wh(a)),this.abs(this.xh(a)),b)};V.prototype.fwidth=V.prototype.Le;
V.prototype.dj=function(a,b,c){c=('undefined'!==typeof c?c:null)||this.rd();this.A(a,c.x);this.A(b,c.y);return c};V.prototype.vec2=V.prototype.dj;V.prototype.ej=function(a,b,c,d){d=this.dj(a,b,'undefined'!==typeof d?d:null);this.A(c,d.z);return d};V.prototype.vec3=V.prototype.ej;V.prototype.Cm=function(a,b,c,d,e){e=this.ej(a,b,c,'undefined'!==typeof e?e:null);this.A(d,e.w);return e};V.prototype.vec4=V.prototype.Cm;V.prototype.Zb=function(a,b){return this.vb(Gh,a,'undefined'!==typeof b?b:null)};
V.prototype.mul2=V.prototype.Zb;V.prototype.pe=function(a,b){return this.vb($b,a,'undefined'!==typeof b?b:null)};V.prototype.add2=V.prototype.pe;V.prototype.um=function(a,b){return this.vb(fj,a,'undefined'!==typeof b?b:null)};V.prototype.sub2=V.prototype.um;V.prototype.bk=function(a,b){return this.vb(Xd,a,'undefined'!==typeof b?b:null)};V.prototype.div2=V.prototype.bk;V.prototype.vl=function(a,b){return this.vb(mh,a,'undefined'!==typeof b?b:null)};V.prototype.max2=V.prototype.vl;
V.prototype.xl=function(a,b){return this.vb(nh,a,'undefined'!==typeof b?b:null)};V.prototype.min2=V.prototype.xl;V.prototype.Nj=function(a,b,c,d){d='undefined'!==typeof d?d:null;return this.min(c,this.max(a,b),d)};V.prototype.clamp=V.prototype.Nj;V.prototype.floor=function(a,b){b='undefined'!==typeof b?b:null;return this.sub(a,this.Wb(a),b)};V.prototype.floor=V.prototype.floor;
V.prototype.Sf=function(a,b){b='undefined'!==typeof b?b:1;return x(a,Number)||x(a,Number)||x(a,Number)?nn(this,[a],b):x(a,Array)&&4<=a.length?nn(this,[a[0],a[1],a[2],a[3]],b):nn(this,a,b)};V.prototype.F=V.prototype.Sf;V.prototype.kj=function(a){return nn(this,a,4)};V.prototype.M=V.prototype.kj;V.prototype.be=function(a,b){b='undefined'!==typeof b?b:1;var c=new om(1,'undefined'!==typeof a?a:0);c.Na=b;return c};V.prototype.C=V.prototype.be;
V.prototype.lj=function(a){return new om(2,'undefined'!==typeof a?a:0)};V.prototype.T=V.prototype.lj;V.prototype.Vf=function(a){return new om(3,'undefined'!==typeof a?a:0)};V.prototype.VA=V.prototype.Vf;V.prototype.Uf=function(a){return new om(4,'undefined'!==typeof a?a:0)};V.prototype.V=V.prototype.Uf;V.prototype.Tf=function(a){return new om(5,'undefined'!==typeof a?a:0)};V.prototype.FS=V.prototype.Tf;V.prototype.A=function(a,b){return this.f(Fh,a,null,'undefined'!==typeof b?b:null)};
V.prototype.mov=V.prototype.A;V.prototype.add=function(a,b,c){return this.f($b,a,b,'undefined'!==typeof c?c:null)};V.prototype.add=V.prototype.add;V.prototype.sub=function(a,b,c){return this.f(fj,a,b,'undefined'!==typeof c?c:null)};V.prototype.sub=V.prototype.sub;V.prototype.v=function(a,b,c){return this.f(Gh,a,b,'undefined'!==typeof c?c:null)};V.prototype.mul=V.prototype.v;V.prototype.fa=function(a,b,c){return this.f(Xd,a,b,'undefined'!==typeof c?c:null)};V.prototype.div=V.prototype.fa;
V.prototype.dc=function(a,b){return this.f(pi,a,null,'undefined'!==typeof b?b:null)};V.prototype.rcp=V.prototype.dc;V.prototype.min=function(a,b,c){return this.f(nh,a,b,'undefined'!==typeof c?c:null)};V.prototype.min=V.prototype.min;V.prototype.max=function(a,b,c){return this.f(mh,a,b,'undefined'!==typeof c?c:null)};V.prototype.max=V.prototype.max;V.prototype.Wb=function(a,b){return this.f(Yf,a,null,'undefined'!==typeof b?b:null)};V.prototype.frc=V.prototype.Wb;
V.prototype.lc=function(a,b){return this.f(Vi,a,null,'undefined'!==typeof b?b:null)};V.prototype.sqt=V.prototype.lc;V.prototype.Od=function(a,b){return this.f(Ai,a,null,'undefined'!==typeof b?b:null)};V.prototype.rsq=V.prototype.Od;V.prototype.pow=function(a,b,c){return this.f(ji,a,b,'undefined'!==typeof c?c:null)};V.prototype.pow=V.prototype.pow;V.prototype.log=function(a,b){return this.f(hh,a,null,'undefined'!==typeof b?b:null)};V.prototype.log=V.prototype.log;
V.prototype.exp=function(a,b){return this.f(ue,a,null,'undefined'!==typeof b?b:null)};V.prototype.exp=V.prototype.exp;V.prototype.$=function(a,b,c){return this.f(Th,a,null,'undefined'!==typeof b?b:null,null,3,('undefined'!==typeof c?c:null)||rk)};V.prototype.nrm=V.prototype.$;V.prototype.sin=function(a,b){return this.f(Li,a,null,'undefined'!==typeof b?b:null)};V.prototype.sin=V.prototype.sin;V.prototype.cos=function(a,b){return this.f(Pd,a,null,'undefined'!==typeof b?b:null)};V.prototype.cos=V.prototype.cos;
V.prototype.rb=function(a,b,c,d){return this.f(Qd,a,b,'undefined'!==typeof c?c:null,null,3,('undefined'!==typeof d?d:null)||rk)};V.prototype.crs=V.prototype.rb;V.prototype.la=function(a,b,c){return this.f(Zd,a,b,'undefined'!==typeof c?c:null)};V.prototype.dp3=V.prototype.la;V.prototype.wd=function(a,b,c){return this.f($d,a,b,'undefined'!==typeof c?c:null)};V.prototype.dp4=V.prototype.wd;V.prototype.abs=function(a,b){return this.f(Yb,a,null,'undefined'!==typeof b?b:null)};V.prototype.abs=V.prototype.abs;
V.prototype.$b=function(a,b){return this.f(Kh,a,null,'undefined'!==typeof b?b:null)};V.prototype.neg=V.prototype.$b;V.prototype.wa=function(a,b){return this.f(Di,a,null,'undefined'!==typeof b?b:null)};V.prototype.sat=V.prototype.wa;V.prototype.m33=function(a,b,c,d){return this.f(ih,a,b,'undefined'!==typeof c?c:null,null,3,('undefined'!==typeof d?d:null)||rk)};V.prototype.m33=V.prototype.m33;V.prototype.m44=function(a,b,c){return this.f(kh,a,b,'undefined'!==typeof c?c:null)};V.prototype.m44=V.prototype.m44;
V.prototype.m34=function(a,b,c,d){return this.f(jh,a,b,'undefined'!==typeof c?c:null,null,3,('undefined'!==typeof d?d:null)||rk)};V.prototype.m34=V.prototype.m34;V.prototype.wh=function(a,b){return this.f(Td,a,null,'undefined'!==typeof b?b:null)};V.prototype.ddx=V.prototype.wh;V.prototype.xh=function(a,b){return this.f(Ud,a,null,'undefined'!==typeof b?b:null)};V.prototype.ddy=V.prototype.xh;V.prototype.Re=function(a,b,c){return this.f(Og,a,b,'undefined'!==typeof c?c:null)};V.prototype.ife=V.prototype.Re;
V.prototype.Ue=function(a,b,c){return this.f(Sg,a,b,'undefined'!==typeof c?c:null)};V.prototype.ine=V.prototype.Ue;V.prototype.Se=function(a,b,c){return this.f(Pg,a,b,'undefined'!==typeof c?c:null)};V.prototype.ifg=V.prototype.Se;V.prototype.Te=function(a,b,c){return this.f(Qg,a,b,'undefined'!==typeof c?c:null)};V.prototype.ifl=V.prototype.Te;V.prototype.Ie=function(a,b,c){return this.f(de,a,b,'undefined'!==typeof c?c:null)};V.prototype.els=V.prototype.Ie;
V.prototype.Ge=function(a,b,c){return this.f(ce,a,b,'undefined'!==typeof c?c:null)};V.prototype.eif=V.prototype.Ge;V.prototype.Bf=function(a,b,c){return this.f(hj,a,b,'undefined'!==typeof c?c:null)};V.prototype.ted=V.prototype.Bf;V.prototype.Xh=function(a){return this.f(ah,a,null,null,null,1)};V.prototype.kil=V.prototype.Xh;V.prototype.cb=function(a,b,c,d){return this.f(ij,'undefined'!==typeof a?a:null,'undefined'!==typeof b?b:null,'undefined'!==typeof c?c:null,'undefined'!==typeof d?d:null)};
V.prototype.tex=V.prototype.cb;V.prototype.Vd=function(a,b,c){return this.f(Hi,a,b,'undefined'!==typeof c?c:null)};V.prototype.sge=V.prototype.Vd;V.prototype.Vc=function(a,b,c){return this.f(Oi,a,b,'undefined'!==typeof c?c:null)};V.prototype.slt=V.prototype.Vc;V.prototype.Wd=function(a,b,c){return this.f(Ii,a,b,'undefined'!==typeof c?c:null)};V.prototype.sgn=V.prototype.Wd;V.prototype.Rc=function(a,b,c){return this.f(Gi,a,b,'undefined'!==typeof c?c:null)};V.prototype.seq=V.prototype.Rc;
V.prototype.Wc=function(a,b,c){return this.f(Pi,a,b,'undefined'!==typeof c?c:null)};V.prototype.sne=V.prototype.Wc;Object.defineProperties(V.prototype,{code:{get:function(){this.m&&(this.m=!1,this.Mb(),this.di(),this.creator.Pa(this));null==this.creator.data&&this.creator.Pa(this);return this.creator.data}},op:{get:function(){return new om(7)},set:function(a){this.A(a,this.op)}},oc:{get:function(){return new om(6)},set:function(a){this.A(a,this.oc)}}});V.prototype.g={names:[{name:'AS3Shader',h:nc}]};
u(nc,V);function X(a,b,c){this.X=a;this.index='undefined'!==typeof c?c:0;this.j=b}X.prototype.Kg=function(a,b){this.j.o&&b.view.renderer.gl3d.pa(this.X.programType,this.j.index,b.node.world,!0)};X.prototype.bindModelUniform=X.prototype.Kg;X.prototype.dh=function(a,b){this.j.o&&b.view.renderer.gl3d.pa(this.X.programType,this.j.index,b.camera.world2local,!0)};X.prototype.bindViewUniform=X.prototype.dh;
X.prototype.Ng=function(a,b){this.j.o&&b.view.renderer.gl3d.pa(this.X.programType,this.j.index,b.camera.perspective,!0)};X.prototype.bindPerspectiveUniform=X.prototype.Ng;X.prototype.gh=function(a,b){this.j.o&&b.view.renderer.gl3d.pa(this.X.programType,this.j.index,b.node.world2local,!0)};X.prototype.bindWorld2localUniform=X.prototype.gh;X.prototype.Gg=function(a,b){if(this.j.o){var c=b.view.lights[this.index].world.position;c.w=1;b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,c)}};
X.prototype.bindLightPosUniform=X.prototype.Gg;X.prototype.Hg=function(a,b){this.j.o&&b.view.renderer.gl3d.pa(this.X.programType,this.j.index,b.view.lights[this.index].shadowCamera.world,!0)};X.prototype.bindLightShadowCameraWorld=X.prototype.Hg;X.prototype.zg=function(a,b){this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,b.camera.world.position)};X.prototype.bindCameraPosUniform=X.prototype.zg;
X.prototype.Zg=function(a,b){this.j.o&&b.view.renderer.gl3d.Gb(this.X.programType,this.j.index,b.view.time,b.view.time,b.view.time,b.view.time)};X.prototype.bindTimeUniform=X.prototype.Zg;X.prototype.Og=function(a,b){this.j.o&&b.view.renderer.gl3d.Gb(this.X.programType,this.j.index,b.view.ob,b.view.ob,1/b.view.ob,1/b.view.mc)};X.prototype.bindPixelSizeUniform=X.prototype.Og;X.prototype.Yg=function(a,b){this.j.o&&b.view.renderer.gl3d.Gb(this.X.programType,this.j.index,b.diffTexture.width,b.diffTexture.height)};
X.prototype.bindTextureSizeUniform=X.prototype.Yg;X.prototype.bh=function(a,b){this.j.o&&b.view.renderer.gl3d.Gb(this.X.programType,this.j.index,b.uvMuler?b.uvMuler[0]:1,b.uvMuler?b.uvMuler[1]:1,b.uvAdder?b.uvAdder[0]:0,b.uvAdder?b.uvAdder[1]:0)};X.prototype.bindUVMulAddUniform=X.prototype.bh;X.prototype.Dg=function(a,b){this.j.o&&b.view.renderer.gl3d.ab(this.X.programType,this.j.index,b.node.skin.Ci.Om)};X.prototype.bindJointsQuatUniform=X.prototype.Dg;
X.prototype.Cg=function(a,b){if(this.j.o)for(var c=b.node.skin.Ci.Mm,d=this.j.index,e=0;e<c.length;e++)b.view.renderer.gl3d.pa(Xj,d+4*e,c[e],!0)};X.prototype.bindJointsMatrixUniform=X.prototype.Cg;X.prototype.Jg=function(a,b){this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,b.color)};X.prototype.bindMaterialColorUniform=X.prototype.Jg;X.prototype.Eg=function(a,b){this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,b.view.lights[this.index].color)};
X.prototype.bindLightColorUniform=X.prototype.Eg;X.prototype.Fg=function(a,b){var c=b.view.lights[this.index],d=1/(Math.cos(c.innerConeAngle/2)-Math.cos(c.outerConeAngle/2)),e=1-Math.cos(c.innerConeAngle/2)*d;this.j.o&&b.view.renderer.gl3d.Gb(this.X.programType,this.j.index,c.Dc,d,e)};X.prototype.bindLightColorVar=X.prototype.Fg;X.prototype.yg=function(a,b){this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,b.ambient)};X.prototype.bindAmbientUniform=X.prototype.yg;
X.prototype.Tg=function(a,b){this.j.o&&b.view.renderer.gl3d.Gb(this.X.programType,this.j.index,b.Di)};X.prototype.bindSpecularUniform=X.prototype.Tg;X.prototype.fh=function(a,b){this.j.o&&b.view.renderer.gl3d.Fb(this.X.programType,this.j.index,b.wireframeColor)};X.prototype.bindWireframeColorUniform=X.prototype.fh;X.prototype.Ag=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.diffTexture)};X.prototype.bindDiffSampler=X.prototype.Ag;
X.prototype.Mg=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.normalmapTexture)};X.prototype.bindNormalmapSampler=X.prototype.Mg;X.prototype.Ig=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.lightmapTexture)};X.prototype.bindLightmapSampler=X.prototype.Ig;X.prototype.Rg=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.reflectTexture)};X.prototype.bindReflectSampler=X.prototype.Rg;X.prototype.Xg=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.terrainTextureSets[this.index])};
X.prototype.bindTerrainsSampler=X.prototype.Xg;X.prototype.Sg=function(a,b){this.j.o&&(a.textureSets[this.j.index]=b.view.lights[this.index].shadowMap)};X.prototype.bindShadowmapsSampler=X.prototype.Sg;X.prototype.Pg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.skin&&b.node.skin.aj&&b.node.drawable.pos.cpuSkin?b.node.drawable.pos.cpuSkin:b.node.drawable.pos)};X.prototype.bindPosBuff=X.prototype.Pg;
X.prototype.Lg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.skin&&b.node.skin.aj&&b.node.drawable.norm.cpuSkin?b.node.drawable.norm.cpuSkin:b.node.drawable.norm)};X.prototype.bindNormBuff=X.prototype.Lg;X.prototype.Vg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.tangent)};X.prototype.bindTangentBuff=X.prototype.Vg;X.prototype.ah=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.uv)};X.prototype.bindUVBuff=X.prototype.ah;
X.prototype.Qg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.random)};X.prototype.bindRandomBuff=X.prototype.Qg;X.prototype.Ug=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.sphereRandom)};X.prototype.bindSphereRandomBuff=X.prototype.Ug;X.prototype.Wg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.targetPosition)};X.prototype.bindTargetPositionBuff=X.prototype.Wg;X.prototype.$g=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.uv2)};
X.prototype.bindUV2Buff=X.prototype.$g;X.prototype.Bg=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.joint)};X.prototype.bindJointsBuff=X.prototype.Bg;X.prototype.eh=function(a,b){this.j.o&&(a.buffSets[this.j.index]=b.node.drawable.weight)};X.prototype.bindWeightsBuff=X.prototype.eh;X.prototype.g={names:[{name:'GLBinder',h:tg}]};u(tg,X);function Y(a,b){a='undefined'!==typeof a?a:Context3DProgramType.mj;this.namedVars={};this.s=[];V.call(this,a,'undefined'!==typeof b?b:null)}Ck(Y,V);Y.prototype.bind=function(a,b){var c=this.s,d;for(d in c)(0,c[d])(a,b)};Y.prototype.bind=Y.prototype.bind;Y.prototype.Oi=function(){if(this.i(Dj))return this.i(Dj);var a=this.matrix();this.u(Dj,a);var b=new X(this,a);this.s.push(y(b.Kg,b,Pc));return a};Y.prototype.uniformModel=Y.prototype.Oi;
Y.prototype.Si=function(){if(this.i(Mj))return this.i(Mj);var a=this.matrix();this.u(Mj,a);var b=new X(this,a);this.s.push(y(b.dh,b,hd));return a};Y.prototype.uniformView=Y.prototype.Si;Y.prototype.Pi=function(){if(this.i(Fj))return this.i(Fj);var a=this.matrix();this.u(Fj,a);var b=new X(this,a);this.s.push(y(b.Ng,b,Sc));return a};Y.prototype.uniformPerspective=Y.prototype.Pi;
Y.prototype.Ui=function(){if(this.i(Pj))return this.i(Pj);var a=this.matrix();this.u(Pj,a);var b=new X(this,a);this.s.push(y(b.gh,b,kd));return a};Y.prototype.uniformWorld2Local=Y.prototype.Ui;Y.prototype.Zc=function(a){var b=Aj+a;if(this.i(b))return this.i(b);var c=this.ka();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Gg,a,Lc));return c};Y.prototype.uniformLightPos=Y.prototype.Zc;
Y.prototype.Li=function(a){var b=yj+a;if(this.i(b))return this.i(b);var c=this.ka();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Hg,a,Mc));return c};Y.prototype.uniformLightShadowCameraWorld=Y.prototype.Li;Y.prototype.Ff=function(){if(this.i(vj))return this.i(vj);var a=this.ka();this.u(vj,a);var b=new X(this,a);this.s.push(y(b.zg,b,Ec));return a};Y.prototype.uniformCameraPos=Y.prototype.Ff;
Y.prototype.Am=function(){if(this.i(Kj))return this.i(Kj);var a=this.ka();this.u(Kj,a);var b=new X(this,a);this.s.push(y(b.Zg,b,dd));return a};Y.prototype.uniformTime=Y.prototype.Am;Y.prototype.zm=function(){if(this.i(Gj))return this.i(Gj);var a=this.ka();this.u(Gj,a);var b=new X(this,a);this.s.push(y(b.Og,b,Tc));return a};Y.prototype.uniformPixelSize=Y.prototype.zm;
Y.prototype.Ri=function(){if(this.i(Ij))return this.i(Ij);var a=this.ka();this.u(Ij,a);var b=new X(this,a);this.s.push(y(b.Yg,b,cd));return a};Y.prototype.uniformTextureSize=Y.prototype.Ri;Y.prototype.If=function(){if(this.i(Nj))return this.i(Nj);var a=this.ka();this.u(Nj,a);var b=new X(this,a);this.s.push(y(b.bh,b,gd));return a};Y.prototype.uniformUVMulAdder=Y.prototype.If;
Y.prototype.Ki=function(a){if(this.i(xj))return this.i(xj);a=this.Bh(2*a);this.u(xj,a);var b=new X(this,a);this.s.push(y(b.Dg,b,Ic));return a};Y.prototype.uniformJointsQuat=Y.prototype.Ki;Y.prototype.Ji=function(a){if(this.i(wj))return this.i(wj);a=this.bi(a);this.u(wj,a);var b=new X(this,a);this.s.push(y(b.Cg,b,Hc));return a};Y.prototype.uniformJointsMatrix=Y.prototype.Ji;
Y.prototype.Ni=function(){if(this.i(Cj))return this.i(Cj);var a=this.ka();this.u(Cj,a);var b=new X(this,a);this.s.push(y(b.Jg,b,Oc));return a};Y.prototype.uniformMaterialColor=Y.prototype.Ni;Y.prototype.Hf=function(a){var b=zj+a;if(this.i(b))return this.i(b);var c=this.ka();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Eg,a,Jc));return c};Y.prototype.uniformLightColor=Y.prototype.Hf;
Y.prototype.$c=function(a){var b=Bj+a;if(this.i(b))return this.i(b);var c=this.ka();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Fg,a,Kc));return c};Y.prototype.uniformLightVar=Y.prototype.$c;Y.prototype.Ii=function(){if(this.i(uj))return this.i(uj);var a=this.ka();this.u(uj,a);var b=new X(this,a);this.s.push(y(b.yg,b,Dc));return a};Y.prototype.uniformAmbient=Y.prototype.Ii;
Y.prototype.Qi=function(){if(this.i(Hj))return this.i(Hj);var a=this.ka();this.u(Hj,a);var b=new X(this,a);this.s.push(y(b.Tg,b,Yc));return a};Y.prototype.uniformSpecular=Y.prototype.Qi;Y.prototype.Ti=function(){if(this.i(Oj))return this.i(Oj);var a=this.ka();this.u(Oj,a);var b=new X(this,a);this.s.push(y(b.fh,b,jd));return a};Y.prototype.uniformWireframeColor=Y.prototype.Ti;
Y.prototype.ui=function(){if(this.i(Fi))return this.i(Fi);var a=this.Db();this.u(Fi,a);var b=new X(this,a);this.s.push(y(b.Ag,b,Fc));return a};Y.prototype.samplerDiff=Y.prototype.ui;Y.prototype.vi=function(){if(this.i(Qi))return this.i(Qi);var a=this.Db();this.u(Qi,a);var b=new X(this,a);this.s.push(y(b.Mg,b,Rc));return a};Y.prototype.samplerNormalmap=Y.prototype.vi;
Y.prototype.$l=function(){if(this.i(Ni))return this.i(Ni);var a=this.Db();this.u(Ni,a);var b=new X(this,a);this.s.push(y(b.Ig,b,Nc));return a};Y.prototype.samplerLightmap=Y.prototype.$l;Y.prototype.wi=function(){if(this.i(Wi))return this.i(Wi);var a=this.Db();this.u(Wi,a);var b=new X(this,a);this.s.push(y(b.Rg,b,Wc));return a};Y.prototype.samplerReflect=Y.prototype.wi;
Y.prototype.am=function(a){var b=cj+a;if(this.i(b))return this.i(b);var c=this.Db();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Xg,a,bd));return c};Y.prototype.samplerTerrains=Y.prototype.am;Y.prototype.xi=function(a){var b=Xi+a;if(this.i(b))return this.i(b);var c=this.Db();this.u(b,c);a=new X(this,c,a);this.s.push(y(a.Sg,a,Xc));return c};Y.prototype.samplerShadowmaps=Y.prototype.xi;
Y.prototype.jh=function(){var a=this.i(od);if(a)return a;a=this.buff();this.u(od,a);var b=new X(this,a);this.s.push(y(b.Pg,b,Uc));return a};Y.prototype.buffPos=Y.prototype.jh;Y.prototype.ih=function(){if(this.i(md))return this.i(md);var a=this.buff();this.u(md,a);var b=new X(this,a);this.s.push(y(b.Lg,b,Qc));return a};Y.prototype.buffNorm=Y.prototype.ih;Y.prototype.kh=function(){if(this.i(rd))return this.i(rd);var a=this.buff();this.u(rd,a);var b=new X(this,a);this.s.push(y(b.Vg,b,$c));return a};
Y.prototype.buffTangent=Y.prototype.kh;Y.prototype.mh=function(){if(this.i(td))return this.i(td);var a=this.buff();this.u(td,a);var b=new X(this,a);this.s.push(y(b.ah,b,fd));return a};Y.prototype.buffUV=Y.prototype.mh;Y.prototype.Kj=function(){if(this.i(pd))return this.i(pd);var a=this.buff();this.u(pd,a);var b=new X(this,a);this.s.push(y(b.Qg,b,Vc));return a};Y.prototype.buffRandom=Y.prototype.Kj;
Y.prototype.Lj=function(){if(this.i(qd))return this.i(qd);var a=this.buff();this.u(qd,a);var b=new X(this,a);this.s.push(y(b.Ug,b,Zc));return a};Y.prototype.buffSphereRandom=Y.prototype.Lj;Y.prototype.lh=function(){if(this.i(sd))return this.i(sd);var a=this.buff();this.u(sd,a);var b=new X(this,a);this.s.push(y(b.Wg,b,ad));return a};Y.prototype.buffTargetPosition=Y.prototype.lh;
Y.prototype.Mj=function(){if(this.i(ud))return this.i(ud);var a=this.buff();this.u(ud,a);var b=new X(this,a);this.s.push(y(b.$g,b,ed));return a};Y.prototype.buffUV2=Y.prototype.Mj;Y.prototype.ve=function(){if(this.i(ld))return this.i(ld);var a=this.buff();this.u(ld,a);var b=new X(this,a);this.s.push(y(b.Bg,b,Gc));return a};Y.prototype.buffJoints=Y.prototype.ve;Y.prototype.nh=function(){if(this.i(vd))return this.i(vd);var a=this.buff();this.u(vd,a);var b=new X(this,a);this.s.push(y(b.eh,b,id));return a};
Y.prototype.buffWeights=Y.prototype.nh;Y.prototype.i=function(a){return this.namedVars[a]};Y.prototype.getNamedVar=Y.prototype.i;Y.prototype.u=function(a,b){this.namedVars[a]=b};Y.prototype.setNamedVar=Y.prototype.u;Y.prototype.g={names:[{name:'GLAS3Shader',h:sg}]};u(sg,Y);function pn(a,b){Y.call(this,Uf);this.vs=b;this.material=a;this.diffSampler=this.ui();this.normalmapSampler=this.vi();this.reflectSampler=this.wi();this.wireframeColor=this.Ti();this.diffColor=this.Ni();this.specular=this.Qi();this.ambientColor=this.Ii()}Ck(pn,Y);
pn.prototype.Mb=function(){if(this.material.writeDepth)this.oc=this.fa(this.vs.opVarying.z,this.vs.opVarying.w);else{if(this.material.wireframeAble)var a=this.A(this.vs.targetPositionVarying),a=this.yf(0,this.Le(a),a),b=this.v(this.sub(1,this.min(this.min(a.x,a.y),a.z).Pm),this.wireframeColor);a=this.Ch();if(this.material.Va&&this.material.view.lights.length){for(var c=0;c<this.material.view.lights.length;c++){var d=this.material.view.lights[c],e;if(0==d.lightType)e=this.Hf(c);else{e=this.Eh(c);if(2==
d.lightType||3==d.lightType)e=this.v(e,this.Dh(c));3==d.lightType&&(e=this.v(e,this.Hh(c)))}if(d.Xd&&this.material.pf){this.debug(Ki);var d=this.vs.shadowLightPoss[c],f=this.add(this.v(this.fa(d.Km,d.w),[.5,-.5]),.5),f=this.cb(f,this.xi(c)),d=this.fa(d.z,d.w);e=this.v(e,this.Vc(d,f));this.debug(Ji)}var g=null==g?e:this.add(g,e)}this.material.toonAble&&(g=this.fa(this.floor(this.add(.5,this.v(this.material.Df,g))),this.material.Df));this.A(a.w,g.w);b?this.add(b,this.v(g,a),a):this.v(g,a,a)}else b&&
this.add(a,b,a);this.material.reflectTexture&&(g=this.cb(this.vs.reflected,this.reflectSampler,null,this.material.reflectTexture.flags),this.v(a.ae,g.ae,a.ae));if(this.material.yd&&(g=this.material.view.fog,0!=g.mode)){b=this.Dc(this.Ff(),this.vs.modelPosVarying,3);if(1==g.mode)var k=this.dc(this.exp(this.v(b,g.Ce)));else 2==g.mode?k=this.dc(this.exp(this.pow(this.v(b,g.Ce),2))):3==g.mode&&(k=this.wa(this.fa(this.sub(g.end,b),this.sub(g.end,g.start))));this.hf(this.material.view.fog.fogColor,a.ae,
k,a.ae)}if(this.material.border){var m,k=[[1,0],[-1,0],[0,1],[0,-1]],r;for(r in k)g=this.cb(this.add(this.fa(k[r],this.A(this.Ri())),this.vs.uvVarying),this.diffSampler,null,this.material.diffTexture.flags).w,m=null==m?g:this.add(m,g);this.cb(this.add([1/256,0],this.vs.uvVarying),this.diffSampler,null,this.material.diffTexture.flags);this.hf(a.jj,[1,0,0,.5],this.v(this.Rc(a.w,0),this.Wc(m,0)),a.jj)}this.oc=a}};pn.prototype.build=pn.prototype.Mb;
pn.prototype.Ch=function(){if(null==this.material.diffTexture)var a=this.A(this.diffColor);else if(this.material.Wh)var a=this.cb(this.vs.uvVarying,this.diffSampler,null,this.material.diffTexture.flags).w,b=this.Le(a),a=this.wa(this.yf(this.sub(.5,b),this.add(.5,b),a)),a=this.sub(1,a);else a=this.cb(this.vs.uvVarying,this.diffSampler,null,this.material.diffTexture.flags),0<this.material.re&&this.Xh(this.sub(a.w,this.material.re).x);return this.material.Jh?a.Qm:a};pn.prototype.getDiffColor=pn.prototype.Ch;
function qn(a,b,c,d,e){var f=a.rd();a.la(b,e,f.x);a.la(c,e,f.y);a.la(d,e,f.z);return a.$(f)}
pn.prototype.Eh=function(a){var b=this.Hf(a),c=b.w,d=this.specular.x,e=this.vs.normVarying;if(this.material.normalMapAble)var f=this.vs.tangentVarying,g=this.rb(e,f),k=this.sub(this.v(this.cb(this.vs.uvVarying,this.normalmapSampler,null,this.material.normalmapTexture.flags),2),1);a=this.vs.posLightVaryings[a];this.material.normalMapAble?(this.n=k,a=qn(this,f,g,e,a)):this.n=e;k=this.wa(this.la(this.n,a));if(this.material.Zd||this.material.reflectTexture){this.e=this.vs.eyeDirectionVarying;this.material.normalMapAble&&
(this.e=qn(this,f,g,e,this.e));var e=this.$(this.sub(this.Zb([2,this.la(a,this.n),this.n]),a)),m=this.wa(this.la(this.e,e))}return this.material.Zd?this.add(this.ambientColor,this.Zb([b,this.add(k,this.pow(m,d)),c])):this.add(this.ambientColor,this.Zb([b,k,c]))};pn.prototype.getPhongColor=pn.prototype.Eh;pn.prototype.Dh=function(a){var b=this.sub(this.Zc(a),this.vs.modelPosVarying);return this.wa(this.sub(1,this.fa(this.la(b,b),this.v(this.A(this.$c(a).x),this.$c(a).x))))};
pn.prototype.getDistanceColor=pn.prototype.Dh;pn.prototype.Hh=function(a){var b=this.$c(a).y,c=this.$c(a).z,d=this.sub(this.vs.modelPosVarying,this.Zc(a));a=this.la(this.$(this.A(this.Zc(a))),this.$(d));return this.wa(this.add(this.v(b,a),c))};pn.prototype.getSmoothColor=pn.prototype.Hh;pn.prototype.g={names:[{name:'PhongFragmentShader',h:yg}]};u(yg,pn);function rn(a){this.eyeDirectionVarying=this.Aa();this.posLightVaryings=[];this.shadowLightPoss=[];this.normVarying=this.Aa();this.tangentVarying=this.Aa();this.uvVarying=this.Aa();this.targetPositionVarying=this.Aa();this.reflected=this.Aa();this.modelPosVarying=this.Aa();this.opVarying=this.Aa();Y.call(this,Xj);this.material=a;this.pos=this.jh();this.norm=this.ih();this.uv=this.mh();this.tangent=this.kh();this.targetPosition=this.lh();this.weight=this.nh();this.model=this.Oi();this.world2local=
this.Ui();this.view=this.Si();this.perspective=this.Pi()}Ck(rn,Y);
rn.prototype.Mb=function(){var a=this.norm,b=this.pos;if(this.material.Cd){this.material.node.skin.bj?(this.joint=this.v(2,this.ve()),this.joints=this.Ki(this.material.node.skin.joints.length)):(this.joint=this.v(4,this.ve()),this.joints=this.Ji(this.material.node.skin.joints.length));for(var c=0;c<this.material.node.skin.Nm;c++){var d='xyzw'.charAt(c%4);if(this.material.node.skin.bj){this.joint=this.joint.c(d);var e=this.v(this.weight.c(d),this.li(b,this.joints.c(this.joint),this.joints.c(this.joint,
1)))}else this.joint=this.joint.c(d),e=this.v(this.weight.c(d),this.m44(b,this.joints.c(this.joint)));var f=0==c?e:this.add(f,e);if(this.material.Va)var d=this.v(this.weight.c(d),this.material.node.skin.bj?this.of(a,this.A(this.joints.c(this.joint))):this.m33(a,this.joints.c(this.joint))),g=0==c?d:this.add(g,d)}b=f;this.material.Va&&(a=this.$(g))}b=this.m44(b,this.model);g=this.m44(b,this.view);this.op=f=this.m44(g,this.perspective);if(this.material.Va||this.material.reflectTexture){a=this.$(this.m33(a,
this.model));if(this.material.Zd||this.material.reflectTexture)c=this.material.normalMapAble?this.$(this.m33(this.$b(g),this.world2local)):this.$(this.$b(g)),this.A(c,this.eyeDirectionVarying);this.shadowLightPoss.length=this.material.view.lights.length;for(c=0;c<this.material.view.lights.length;c++){var d=this.material.view.lights[c],e=this.Zc(c),e=this.material.normalMapAble?this.$(this.m33(this.sub(this.m44(this.A(e),this.view),g),this.world2local)):this.$(this.sub(this.m44(this.A(e),this.view),
g)),k=this.Aa();this.posLightVaryings.push(k);this.A(e,k);d.Xd&&this.material.pf&&(d=this.Aa(),this.shadowLightPoss[c]=d,this.A(this.m44(b,this.Li(c)),d))}this.material.normalMapAble?this.A(this.$(this.m33(this.m33(a,this.view),this.world2local)),this.normVarying):(c=this.$(this.m33(a,this.view)),this.A(c,this.normVarying));this.material.normalMapAble&&this.A(this.tangent,this.tangentVarying);this.material.reflectTexture&&(c=this.$(this.sub(b,this.Ff())),this.A(this.sub(c,this.Zb([2,a,this.la(a,c)])),
this.reflected))}if(this.material.diffTexture||this.material.normalMapAble)c=this.uv,this.material.uvMuler&&(c=this.v(this.If().Km,c)),this.material.uvAdder&&(c=this.add(this.If().Rm,c)),this.A(c,this.uvVarying);this.material.wireframeAble&&this.A(this.targetPosition,this.targetPositionVarying);c=!1;if(this.material.Va){var a=this.material.view.lights,m;for(m in a)if(d=a[m],2==d.lightType||3==d.lightType)c=!0}this.material.yd&&(0!=this.material.view.fog.mode||c)&&this.A(b,this.modelPosVarying);this.material.writeDepth&&
this.A(f,this.opVarying)};rn.prototype.build=rn.prototype.Mb;rn.prototype.li=function(a,b,c){a=this.add(this.of(a,this.A(b)),c);this.A(1,a.w);return a.jj};rn.prototype.q44=rn.prototype.li;rn.prototype.of=function(a,b){var c=this.v(2,this.rb(b,a));return this.pe([a,this.v(b.w,c),this.rb(b,c)])};rn.prototype.q33=rn.prototype.of;rn.prototype.g={names:[{name:'PhongVertexShader',h:Ag}]};u(Ag,rn);function sn(){}u('flash.display3D.Context3DProfile.BASELINE',wc);u('flash.display3D.Context3DProfile.BASELINE_CONSTRAINED',xc);u('flash.display3D.Context3DProfile.BASELINE_EXTENDED',yc);u('flash.display3D.Context3DProfile.STANDARD',aj);u('flash.display3D.Context3DProfile.STANDARD_CONSTRAINED',bj);u('flash.display3D.Context3DProfile.STANDARD_EXTENDED','standardExtended');sn.prototype.g={names:[{name:'Context3DProfile',h:ff}]};u(ff,sn);function tn(){}u('flash.display3D.Context3DRenderMode.AUTO','auto');u('flash.display3D.Context3DRenderMode.SOFTWARE','software');tn.prototype.g={names:[{name:'Context3DRenderMode',h:hf}]};u(hf,tn);function un(a,b,c,d){d='undefined'!==typeof d?d:aa;Fl.call(this,a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1);this.ff=d}Ck(un,Fl);u('flash.events.TextEvent.LINK','link');u('flash.events.TextEvent.TEXT_INPUT','textInput');un.prototype.clone=function(){return new un(this.type,this.bubbles,this.cancelable,this.ff)};un.prototype.clone=un.prototype.clone;un.prototype.toString=function(){return this.wb()};un.prototype.toString=un.prototype.toString;
Object.defineProperties(un.prototype,{text:{get:n('ff'),set:l('ff')}});un.prototype.g={names:[{name:'TextEvent',h:zf}]};u(zf,un);function vn(a,b,c,d,e){e='undefined'!==typeof e?e:0;un.call(this,a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1,'undefined'!==typeof d?d:aa);this.ai=e}Ck(vn,un);u('flash.events.ErrorEvent.ERROR',he);vn.prototype.clone=function(){return new vn(this.type,this.bubbles,this.cancelable,this.text,this.ai)};vn.prototype.clone=vn.prototype.clone;vn.prototype.toString=function(){return this.wb()};vn.prototype.toString=vn.prototype.toString;Object.defineProperties(vn.prototype,{errorID:{get:n('ai')}});
vn.prototype.g={names:[{name:'ErrorEvent',h:uf}]};u(uf,vn);function Z(a){this.Ha=Array(4);this.Bc={};this.Cc={};this.context=a}Z.prototype.Xe=0;Z.prototype.lastBuffMaxIndex=Z.prototype.Xe;Z.prototype.Ab=0;Z.prototype.nowBuffMaxIndex=Z.prototype.Ab;Z.prototype.Ye=0;Z.prototype.lastTexMaxIndex=Z.prototype.Ye;Z.prototype.Bb=0;Z.prototype.nowTexMaxIndex=Z.prototype.Bb;Z.prototype.xd=0;Z.prototype.drawTriangleCounter=Z.prototype.xd;Z.prototype.drawCounter=0;Z.prototype.drawCounter=Z.prototype.drawCounter;
Z.prototype.clear=function(a,b,c,d,e,f,g){this.context.clear('undefined'!==typeof a?a:0,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:1,'undefined'!==typeof e?e:1,'undefined'!==typeof f?f:0,'undefined'!==typeof g?g:4294967295)};Z.prototype.clear=Z.prototype.clear;Z.prototype.Nb=function(a,b,c,d){this.context.Nb(a,b,c,'undefined'!==typeof d?d:!0)};Z.prototype.configureBackBuffer=Z.prototype.Nb;Z.prototype.Pb=function(a,b,c){return this.context.Pb(a,b,c)};
Z.prototype.createCubeTexture=Z.prototype.Pb;Z.prototype.Qb=function(a){return this.context.Qb(a)};Z.prototype.createIndexBuffer=Z.prototype.Qb;Z.prototype.createProgram=function(){return this.context.createProgram()};Z.prototype.createProgram=Z.prototype.createProgram;Z.prototype.Rb=function(a,b,c,d){return this.context.Rb(a,b,c,d)};Z.prototype.createRectangleTexture=Z.prototype.Rb;Z.prototype.createTexture=function(a,b,c,d){return this.context.createTexture(a,b,c,d)};Z.prototype.createTexture=Z.prototype.createTexture;
Z.prototype.Ac=function(){return this.context.Ac()};Z.prototype.createVideoTexture=Z.prototype.Ac;Z.prototype.Sb=function(a,b){return this.context.Sb(a,b)};Z.prototype.createVertexBuffer=Z.prototype.Sb;Z.prototype.D=function(a){this.context.D('undefined'!==typeof a?a:!0)};Z.prototype.dispose=Z.prototype.D;Z.prototype.ub=function(a){this.te();this.context.ub(a)};Z.prototype.drawToBitmapData=Z.prototype.ub;
Z.prototype.na=function(a,b,c,d){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:-1;('undefined'!==typeof d?d:1)&&this.te();a.update(this);this.xd+=a.data.length/3;this.drawCounter++;this.context.na(a.buff,b,c)};Z.prototype.drawTriangles=Z.prototype.na;Z.prototype.ik=function(a){this.context.ub(a)};Z.prototype.drawToBitmapDataInstance=Z.prototype.ik;
Z.prototype.te=function(){for(;this.Ab<this.Xe;)wn(this,++this.Ab,null);for(;this.Bb<this.Ye;)this.Uc(++this.Bb,null);this.Xe=this.Ab;this.Ye=this.Bb;this.Ab=this.Bb=-1};Z.prototype.beginDraw=Z.prototype.te;Z.prototype.Mc=function(){this.context.Mc()};Z.prototype.present=Z.prototype.Mc;Z.prototype.hc=function(a,b){this.context.hc(a,b)};Z.prototype.setBlendFactors=Z.prototype.hc;Z.prototype.Pd=function(a,b,c,d){this.context.Pd(a,b,c,d)};Z.prototype.setColorMask=Z.prototype.Pd;Z.prototype.ic=function(a){this.context.ic(a)};
Z.prototype.setCulling=Z.prototype.ic;Z.prototype.Sc=function(a,b){this.context.Sc(a,b)};Z.prototype.setDepthTest=Z.prototype.Sc;Z.prototype.Eb=function(a){this.context.Eb(a)};Z.prototype.setProgram=Z.prototype.Eb;Z.prototype.Rd=function(a,b,c,d,e){this.context.Rd(a,b,c,d,e)};Z.prototype.setProgramConstantsFromByteArray=Z.prototype.Rd;Z.prototype.pa=function(a,b,c,d){this.context.pa(a,b,c,'undefined'!==typeof d?d:!1)};Z.prototype.setProgramConstantsFromMatrix=Z.prototype.pa;
Z.prototype.ab=function(a,b,c,d){this.context.ab(a,b,c,'undefined'!==typeof d?d:-1)};Z.prototype.setProgramConstantsFromVector=Z.prototype.ab;Z.prototype.Fb=function(a,b,c){this.Ha[0]=c.x;this.Ha[1]=c.y;this.Ha[2]=c.z;this.Ha[3]=c.w;this.context.ab(a,b,this.Ha)};Z.prototype.setProgramConstantsFromVector3D=Z.prototype.Fb;
Z.prototype.Gb=function(a,b,c,d,e,f){this.Ha[0]='undefined'!==typeof c?c:0;this.Ha[1]='undefined'!==typeof d?d:0;this.Ha[2]='undefined'!==typeof e?e:0;this.Ha[3]='undefined'!==typeof f?f:0;this.context.ab(a,b,this.Ha)};Z.prototype.setProgramConstantsFromXYZW=Z.prototype.Gb;Z.prototype.Tc=function(){this.context.Tc()};Z.prototype.setRenderToBackBuffer=Z.prototype.Tc;Z.prototype.jc=function(a,b,c,d){this.context.jc(a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:0)};
Z.prototype.setRenderToTexture=Z.prototype.jc;Z.prototype.vf=h();Z.prototype.setSamplerStateAt=Z.prototype.vf;Z.prototype.Sd=function(a){this.context.Sd(a)};Z.prototype.setScissorRectangle=Z.prototype.Sd;Z.prototype.Td=function(a,b,c,d,e){this.context.Td(a,b,c,d,e)};Z.prototype.setStencilActions=Z.prototype.Td;Z.prototype.Ud=function(a,b,c){this.context.Ud(a,'undefined'!==typeof b?b:255,'undefined'!==typeof c?c:255)};Z.prototype.setStencilReferenceValue=Z.prototype.Ud;
Z.prototype.kc=function(a,b){this.Uc(a,b);this.Bb<a&&(this.Bb=a)};Z.prototype.setTextureAt=Z.prototype.kc;Z.prototype.Uc=function(a,b){this.Bc[a]!=b&&(this.Bc[a]=b,this.context.kc(a,b))};Z.prototype.nb=function(a,b,c,d){wn(this,a,b,'undefined'!==typeof c?c:0,'undefined'!==typeof d?d:Sf);this.Ab<a&&(this.Ab=a)};Z.prototype.setVertexBufferAt=Z.prototype.nb;function wn(a,b,c,d,e){a.Cc[b]!=c&&(a.Cc[b]=c,a.context.nb(b,c,'undefined'!==typeof d?d:0,'undefined'!==typeof e?e:null))}
Object.defineProperties(Z.prototype,{driverInfo:{get:function(){return this.context.driverInfo}},enableErrorChecking:{get:function(){return this.context.enableErrorChecking},set:function(a){this.context.enableErrorChecking=a}}});Z.prototype.g={names:[{name:'GL',h:pg}]};u(pg,Z);function xn(a){this.collects=[];this.view=a}xn.prototype.yc=!0;xn.prototype.ma=h();xn.prototype.init=xn.prototype.ma;xn.prototype.lb=h();xn.prototype.render=xn.prototype.lb;xn.prototype.xe=function(a){if(a.visible){this.collects.push(a);x(a,ln)&&this.view.lights.push(a);a=a.children;for(var b in a)this.xe(a[b])}};xn.prototype.collect=xn.prototype.xe;xn.prototype.sort=h();xn.prototype.sort=xn.prototype.sort;Object.defineProperties(xn.prototype,{visible:{get:n('yc'),set:l('yc')}});
xn.prototype.g={names:[{name:'Render',h:qg}]};u(qg,xn);function yn(a){xn.call(this,a)}Ck(yn,xn);yn.prototype.ma=function(){yn.Z.ma.call(this);this.stage3d=this.view.stage.stage3Ds[this.view.id];this.stage3d.visible=this.visible;this.stage3d.addEventListener(Md,y(this.om,this,Zi));this.stage3d.addEventListener(he,y(this.nm,this,Yi));for(var a=[aj,bj,yc,wc,xc],b=a.length-1;0<=b;b--)null==a[b]&&a.splice(b,1);this.stage3d.si()};yn.prototype.init=yn.prototype.ma;yn.prototype.nm=function(){this.stage3d.rf()};
yn.prototype.om=function(){this.gl3d=new Z(this.stage3d.context3D);this.gl3d.enableErrorChecking=this.view.enableErrorChecking;this.view.profile=this.stage3d.context3D.profile;this.view.driverInfo=this.gl3d.driverInfo;this.agalVersion=this.view.profile==aj||this.view.profile==bj?2:1};
yn.prototype.lb=function(a,b){if(this.visible&&(yn.Z.lb.call(this,a,b),this.gl3d))if(this.gl3d.driverInfo==yb)this.view.m=!0;else{this.view.m&&(this.stage3d.x=this.view.x,this.stage3d.y=this.view.y,this.gl3d.Nb(this.view.ob,this.view.mc,this.view.antiAlias));this.view.m=!1;this.collects.length=0;this.view.lights.length=0;this.gl3d.xd=0;this.gl3d.drawCounter=0;this.xe(b);this.sort();var c=this.view.lights,d;for(d in c){var e=c[d];if(e.Xd){e.shadowMap.update(this.view);null==e.shadowMap.texture&&(e.shadowMap.texture=
this.gl3d.createTexture(e.xf,e.xf,xi,!0));this.gl3d.jc(e.shadowMap.texture,!0);this.gl3d.clear(1,1,1);null==this.td&&(this.td=new zn,this.td.writeDepth=!0);this.td.materialCamera=e.shadowCamera;var f=this.collects,g;for(g in f)e=f[g],e.material&&e.material.ph&&e.update(this.view,this.td)}}if(this.view.posts.length){for(var k=1<this.view.posts.length?2:1,c=0;c<k;c++)this.view.postRTTs[c].update(this.view),null==this.view.postRTTs[c].texture&&(this.view.postRTTs[c].texture=this.gl3d.Rb(this.view.ob,
this.view.mc,Bc,!0));this.renderTarget=this.view.postRTTs[0]}else this.renderTarget=null;this.renderTarget?this.gl3d.jc(this.renderTarget.texture,!0,this.view.antiAlias):this.gl3d.Tc();this.gl3d.clear((this.view.background>>16&255)/255,(this.view.background>>8&255)/255,(this.view.background&255)/255);var c=this.collects,m;for(m in c)e=c[m],e.update(this.view);if(this.view.posts.length)for(c=0;c<this.view.posts.length;c++)this.view.posts[c].update(this.view,c==this.view.posts.length-1),2==k&&(m=this.view.postRTTs[0],
this.view.postRTTs[0]=this.view.postRTTs[1],this.view.postRTTs[1]=m);this.gl3d.Mc()}};yn.prototype.render=yn.prototype.lb;Object.defineProperties(yn.prototype,{visible:{get:function(){return Kk(yn,this,ek)},set:function(a){Lk(yn,this,ek,a);this.stage3d&&(this.stage3d.visible=a)}}});yn.prototype.g={names:[{name:'Stage3DRender',h:rg}]};u(rg,yn);function An(a){km.call(this);a='undefined'!==typeof a?a:0;this.scene=new dn(Ei);this.camera=new fn;this.lights=[];this.fog=new ym;this.ctrls=[];this.posts=[];this.postRTTs=[new kn(null,!0,!1,!1),new kn(null,!0,!1,!1)].slice();this.id=a;this.scene.gb(this.camera);this.renderer=new yn(this);this.stage?this.ma():this.addEventListener(ac,y(this.ma,this,Tg))}Ck(An,km);An.prototype.ee=!1;An.prototype._enableErrorChecking=An.prototype.ee;An.prototype.Wf=2;An.prototype.ob=200;An.prototype.stage3dWidth=An.prototype.ob;
An.prototype.mc=200;An.prototype.stage3dHeight=An.prototype.mc;An.prototype.time=0;An.prototype.time=An.prototype.time;An.prototype.background=0;An.prototype.background=An.prototype.background;An.prototype.m=!0;An.prototype.invalid=An.prototype.m;An.prototype.ma=function(){this.removeEventListener(ac,y(this.ma,this,Tg));this.renderer.ma()};An.prototype.Bm=function(){var a=this.ctrls,b;for(b in a)a[b].update(this.time)};An.prototype.updateCtrl=An.prototype.Bm;
An.prototype.lb=function(a){this.time='undefined'!==typeof a?a:0;this.renderer.lb(this.camera,this.scene)};An.prototype.render=An.prototype.lb;
Object.defineProperties(An.prototype,{antiAlias:{get:n('Wf'),set:function(a){this.Wf=a;this.m=!0}},x:{get:function(){return Kk(An,this,qk)},set:function(a){Lk(An,this,qk,a);this.m=!0}},y:{get:function(){return Kk(An,this,sk)},set:function(a){Lk(An,this,sk,a);this.m=!0}},enableErrorChecking:{get:n('ee'),set:function(a){this.ee=a;this.renderer.gl3d&&(this.renderer.gl3d.enableErrorChecking=a)}}});An.prototype.g={names:[{name:'View3D',h:og}]};u(og,An);function Bn(a){this.data=a}Bn.prototype.m=!0;Bn.prototype.S=!0;Bn.prototype.dataInvalid=Bn.prototype.S;Bn.prototype.cc=-1;Bn.prototype.numTriangles=Bn.prototype.cc;Bn.prototype.update=function(a){if(this.m||this.context!=a)this.buff=a.Qb(this.data.length),this.m=!1,this.S=!0,this.context=a;this.S&&(this.S=!1,this.buff.dd(this.data,0,this.data.length))};Bn.prototype.update=Bn.prototype.update;Bn.prototype.D=function(){this.buff&&this.buff.D()};Bn.prototype.dispose=Bn.prototype.D;
Bn.prototype.g={names:[{name:'IndexBufferSet',h:gg}]};u(gg,Bn);function Cn(a,b){this.data=a;this.data32PerVertex=b;if(4<b)throw he;}Cn.prototype.m=!0;Cn.prototype.invalid=Cn.prototype.m;Cn.prototype.S=!0;Cn.prototype.dataInvalid=Cn.prototype.S;var Dn=[null,Pf,Qf,Rf,Sf];u('gl3d.core.VertexBufferSet.FORMATS',Dn);
Cn.prototype.update=function(a){if(this.m||this.context!=a)this.data&&(this.buff=a.Sb(this.data.length/this.data32PerVertex,this.data32PerVertex),this.m=!1,this.context=a),this.S=!0;this.data&&this.S&&(this.S=!1,this.buff.dd(this.data,0,this.data.length/this.data32PerVertex))};Cn.prototype.update=Cn.prototype.update;Cn.prototype.bind=function(a,b,c,d){a.nb(b,this.buff,'undefined'!==typeof c?c:0,('undefined'!==typeof d?d:null)||Dn[this.data32PerVertex])};Cn.prototype.bind=Cn.prototype.bind;
Cn.prototype.D=function(){this.buff&&this.buff.D()};Cn.prototype.dispose=Cn.prototype.D;Cn.prototype.g={names:[{name:'VertexBufferSet',h:ng}]};u(ng,Cn);function En(){}En.prototype.mi=4;En.prototype.randomStep=En.prototype.mi;En.prototype.Yd=!0;En.prototype.smooting=En.prototype.Yd;u('gl3d.core.Drawable.optimizeSource',function(a){Fn(a,!1);a.Ja&&Fn(a,!0)});
function Fn(a,b){var c=b?a.Ja:a.index,d={},e=[];if(b){if(a.uv){var f=a.uv,g=[];a.uv=g}if(a.uv2){var k=[];a.uv2=k}a.Ja=e}else{if(a.pos){var m=a.pos,r=[];a.pos=r}if(a.joint){var t=3*a.joint.length/m.length;0==t&&Mk(a.joint.length,m.length);var w=a.joint,H=[];a.joint=H}if(a.weight){var E=a.weight,z=[];a.weight=z}if(a.color){var K=a.color,J=[];a.color=J}if(a.alpha){var O=a.alpha,W=[];a.alpha=W}null==a.Ja&&(a.uv&&(f=a.uv,g=[],a.uv=g),a.uv2&&(k=[],a.uv2=k));a.index=e}var k=0,ka;for(ka in c){var pa=c[ka],
ua=[];e.push(ua);for(var Aa in pa){var sa=pa[Aa],Da=d[sa];if(null==Da&&(Da=k++,d[sa]=Da,r&&r.push(m[3*sa],m[3*sa+1],m[3*sa+2]),f&&g.push(f[2*sa],f[2*sa+1]),J&&J.push(K[3*sa],K[3*sa+1],K[3*sa+2]),W&&W.push(O[sa]),H&&z))for(var Ea=0;Ea<t;Ea++)H.push(w[t*sa+Ea]),z.push(E[t*sa+Ea]);ua.push(Da)}}}
Object.defineProperties(En.prototype,{pos:{get:function(){null==this.jd&&this.source&&this.source.pos&&(this.source.index&&this.source.Ja?this.index:this.jd=new Cn(this.source.pos.slice(),3));return this.jd},set:l('jd')},norm:{get:function(){null==this.ie&&(this.ie=Gn(this));return this.ie},set:l('ie')},tangent:{get:function(){null==this.ne&&(this.ne=Hn(this));return this.ne},set:l('ne')},uv:{get:function(){null==this.Kb&&this.source&&this.source.uv&&(this.source.index&&this.source.Ja?this.index:
this.Kb=new Cn(this.source.uv.slice(),2));null==this.Kb&&(this.Kb=In(this));return this.Kb},set:l('Kb')},random:{get:function(){null==this.je&&(this.je=Jn(this,this.mi));return this.je},set:l('je')},sphereRandom:{get:function(){null==this.ke&&(this.ke=Kn(this));return this.ke},set:l('ke')},targetPosition:{get:function(){null==this.oe&&(this.oe=Ln(this));return this.oe},set:l('oe')},index:{get:function(){if(null==this.wc&&this.source&&this.source.index){if(null!=this.source.Ja){var a=0;this.oldi2newis=
{};var b={},c=[],d=null,e=[];if(this.source.joint)var f=[],g=3*this.source.joint.length/this.source.pos.length;if(this.source.weight)var k=[];for(var m=[],r=this.source.index.length,t=0;t<r;t++)for(d=null;j<len2;j++){null==d&&(d=[],c.push(d));var w=this.source.index[t][j],H=this.source.Ja[t][j];if(this.Yd)var E=w+fa+H,z=b[E];else z=null;if(null==z){z=a++;e.push(this.source.pos[3*w],this.source.pos[3*w+1],this.source.pos[3*w+2]);if(f&&k)for(var K=0;K<g;K++)f.push(this.source.joint[w*g+K]),k.push(this.source.weight[w*
g+K]);m.push(this.source.uv[2*H],this.source.uv[2*H+1]);this.Yd&&(b[E]=z,H=this.oldi2newis[w],null==H&&(this.oldi2newis[w]=H=[]),H.push(z))}d.push(z)}this.jd=new Cn(e.slice(),3);f&&(this.gd=new Cn(f.slice(),g));k&&(this.md=new Cn(k.slice(),g));this.Kb=new Cn(m.slice(),2)}var a=[],c=c||this.source.index,J;for(J in c)for(d=c[J],r=d.length,t=2;t<r;t++)a.push(d[0],d[t-1],d[t]);this.wc=new Bn(a.slice())}null==this.wc&&(this.wc=Mn(this));return this.wc},set:l('wc')},unpackedDrawable:{get:function(){null==
this.pg&&(this.pg=Nn(this));return this.pg}},joint:{get:function(){null==this.gd&&this.source&&this.source.joint&&(this.source.index&&this.source.Ja?this.index:this.gd=new Cn(this.source.joint.slice(),this.source.joint.length/(this.source.pos.length/3)));return this.gd},set:l('gd')},weight:{get:function(){null==this.md&&this.source&&this.source.weight&&(this.source.index&&this.source.Ja?this.index:this.md=new Cn(this.source.weight.slice(),this.source.weight.length/(this.source.pos.length/3)));return this.md},
set:l('md')}});En.prototype.g={names:[{name:'Drawable',h:fg}]};u(fg,En);function On(){}u('gl3d.meshs.Meshs.billboard',function(){return Pn([0,1,2,1,3,2].slice(),Array(12),[0,0,1,0,0,1,1,1].slice(),null)});u('gl3d.meshs.Meshs.plane',function(a){a='undefined'!==typeof a?a:1;return Pn([0,1,2,1,3,2].slice(),[-a,-a,0,a,-a,0,-a,a,0,a,a,0].slice(),[0,1,1,1,0,0,1,0].slice(),null)});
u('gl3d.meshs.Meshs.sphere',function(a,b,c){a='undefined'!==typeof a?a:20;b='undefined'!==typeof b?b:20;c='undefined'!==typeof c?c:.5;for(var d=[],e=[],f=[],g=0;g<=b;g++)for(var k=Math.PI/b*g-Math.PI/2,m=0;m<=a;m++){var r=2*Math.PI/a*m;e.push(Math.cos(r)*Math.cos(k)*c,Math.sin(k)*c,Math.sin(r)*Math.cos(k)*c);f.push(m/a,g/b);r=e.length/3-1;0<g&&0<m&&d.push(r,r-1,r-a-1,r-1,r-a-2,r-a-1)}return Pn(d,e,f,e)});
u('gl3d.meshs.Meshs.test',function(){return Pn([1,0,2].slice(),[1,1,0,1,0,0,0,1,0].slice(),null,null)});
function Qn(a,b,c){a=('undefined'!==typeof a?a:1)/2;b=('undefined'!==typeof b?b:1)/2;c=('undefined'!==typeof c?c:1)/2;return Pn([0,1,2,0,2,3,4,6,5,4,7,6,8,10,9,8,11,10,12,13,14,12,14,15,16,17,18,16,18,19,20,22,21,20,23,22].slice(),[a,b,c,a,-b,c,-a,-b,c,-a,b,c,a,b,-c,a,-b,-c,-a,-b,-c,-a,b,-c,a,b,c,a,b,-c,-a,b,-c,-a,b,c,a,-b,c,a,-b,-c,-a,-b,-c,-a,-b,c,a,b,c,a,b,-c,a,-b,-c,a,-b,c,-a,b,c,-a,b,-c,-a,-b,-c,-a,-b,c].slice(),[1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,
1,0,1,1,0,1,0,0].slice(),[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0].slice())}u('gl3d.meshs.Meshs.cube',Qn);
u('gl3d.meshs.Meshs.terrainData',function(a,b,c,d){a='undefined'!==typeof a?a:64;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:null;var e=[],f=d||new D(a,a,!0,0);null==c?f.lf():f.G(c,new A(a/c.width,0,0,a/c.height),null,null,null,!0);f.Jc();for(c=0;c<a;c++)for(var g=0;g<a;g++){var k=g/(a-1)-.5,m=.1*((255&f.Oe(g,c))/255-.5),r=c/(a-1)-.5;b&&(k*=b.x,m*=b.y,r*=b.z);e.push(k,m,r)}f.ad();null==d&&f.D();return e});
u('gl3d.meshs.Meshs.terrain',function(a,b,c,d){a='undefined'!==typeof a?a:64;b='undefined'!==typeof b?b:null;c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:null;var e=[],f=[],g=[],k=d||new D(a,a,!0,0);null==c?k.lf():k.G(c,new A(a/c.width,0,0,a/c.height),null,null,null,!0);for(c=0;c<a;c++)for(var m=0;m<a;m++){var r=m/(a-1)-.5,t=.1*((255&k.Oe(m,c))/255-.5),w=c/(a-1)-.5;b&&(r*=b.x,t*=b.y,w*=b.z);f.push(r,t,w);g.push(m/(a-1),c/(a-1));m!=a-1&&c!=a-1&&(e.push(c*a+m,c*a+m+1,(c+1)*a+m),e.push(c*
a+m+1,(c+1)*a+1+m,(c+1)*a+m))}a=Pn(e,f,g,null);null==d&&k.D();return a});function Pn(a,b,c,d,e){c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:null;e='undefined'!==typeof e?e:null;var f=new En;a&&(f.index=new Bn(a));b&&(f.pos=new Cn(b,3));c&&(f.uv=new Cn(c,2));d&&(f.norm=new Cn(d,3));e&&(f.tangent=new Cn(e,3));return f}u('gl3d.meshs.Meshs.createDrawable',Pn);
function Nn(a){var b=new En,c=a.index.data;b.index=new Bn([]);for(var d=[ii,Lj,Qh,Vg,mk],e=0;e<c.length;e+=3){b.index.data.push(e,e+1,e+2);var f=d,g;for(g in f){var k=f[g],m=a[k];if(m){var r=b[k];null==r&&(r=b[k]=new Cn(Array(c.length*m.data32PerVertex),m.data32PerVertex));for(var k=m.data32PerVertex,t=0;t<k;t++)r.data[e*k+t]=m.data[c[e]*k+t],r.data[(e+1)*k+t]=m.data[c[e+1]*k+t],r.data[(e+2)*k+t]=m.data[c[e+2]*k+t]}}}return b}u('gl3d.meshs.Meshs.unpack',Nn);
u('gl3d.meshs.Meshs.removeDuplicatedVertices',function(a){for(var b=a.pos.data,c={},d=[],e=0,f=0,g=0;g<b.length/3;g++){var k=b[3*g]+Qa+b[3*g+1]+Qa+b[3*g+2],f=c[k];null==f?(f=e++,c[k]=f,f!=g&&(b[3*f]=b[3*g],b[3*f+1]=b[3*g+1],b[3*f+2]=b[3*g+2])):f>>>=0;d[g]=f}b.length=3*e;a=a.index.data;for(g=0;g<a.length;g++)a[g]=d[a[g]]});
function In(a){a=a.pos.data;for(var b=[];i<len;i++){var c=a[3*i],d=a[3*i+1],e=a[3*i+2],f=Math.sqrt(c*c+d*d+e*e);0!=f&&(c/=f,d/=f,e/=f);b.push(Math.atan2(e,c)/Math.PI/2+.5,Math.asin(d)/Math.PI+.5)}return new Cn(b,2)}u('gl3d.meshs.Meshs.computeUV',In);
function Gn(a){if(a.source&&a.source.Ja&&a.Yd){var b=a.source.pos,c=Array(a.pos.data.length),d=a.oldi2newis;a=a.source.index;for(var e in a)for(var f=a[e],g=3*f[0],k=3*f[1],m=3*f[2],r=b[g],t=b[g+1],w=b[g+2],g=b[k],H=b[k+1],E=b[k+2],k=b[m],z=b[m+1],K=b[m+2],m=(t-z)*(w-E)-(w-K)*(t-H),w=(w-K)*(r-g)-(r-k)*(w-E),r=(r-k)*(t-H)-(t-z)*(r-g);i<len;i++){var t=d[f[i]],J;for(J in t)g=t[J],c[3*g]+=m,c[3*g+1]+=w,c[3*g+2]+=r}for(i=0;i<c.length;i+=3)m=c[i],w=c[i+1],r=c[i+2],b=Math.sqrt(m*m+w*w+r*r),c[i]/=b,c[i+1]/=
b,c[i+2]/=b;return new Cn(c,3)}c=Array(a.pos.data.length);b=a.pos.data;e=a.index.data;for(d=0;d<e.length;d+=3)J=3*e[d],a=3*e[d+1],f=3*e[d+2],t=b[J],m=b[J+1],z=b[J+2],g=b[a],H=b[a+1],E=b[a+2],w=b[f],k=b[f+1],K=b[f+2],r=(m-k)*(z-E)-(z-K)*(m-H),z=(z-K)*(t-g)-(t-w)*(z-E),t=(t-w)*(m-H)-(m-k)*(t-g),c[J]+=r,c[a]+=r,c[f]+=r,c[J+1]+=z,c[a+1]+=z,c[f+1]+=z,c[J+2]+=t,c[a+2]+=t,c[f+2]+=t;for(d=0;d<c.length;d+=3)r=c[d],z=c[d+1],t=c[d+2],b=Math.sqrt(r*r+z*z+t*t),c[d]/=b,c[d+1]/=b,c[d+2]/=b;return new Cn(c,3)}
u('gl3d.meshs.Meshs.computeNormal',Gn);
function Hn(a){var b=Array(a.pos.data.length),c=a.pos.data,d=a.uv.data,e=a.index.data;for(a=0;a<e.length;a+=3){var f=3*e[a],g=3*e[a+1],k=3*e[a+2],m=c[f],r=c[f+1],t=c[f+2],w=c[g],H=c[g+1],E=c[g+2],z=c[k],K=c[k+1],J=c[k+2],O=2*e[a],W=2*e[a+1],ka=2*e[a+2],pa=d[ka],ua=d[ka+1],ka=d[O+1]-ua,ua=d[W+1]-ua,O=(d[O]-pa)*ua-(d[W]-pa)*ka,O=0==O?1:1/O,m=O*(ua*(m-z)-ka*(w-z)),r=O*(ua*(r-K)-ka*(H-K)),t=O*(ua*(t-J)-ka*(E-J));b[f]+=m;b[g]+=m;b[k]+=m;b[f+1]+=r;b[g+1]+=r;b[k+1]+=r;b[f+2]+=t;b[g+2]+=t;b[k+2]+=t}for(a=
0;a<b.length;a+=3)m=b[a],r=b[a+1],t=b[a+2],c=Math.sqrt(m*m+r*r+t*t),0!=c&&(m/=c,r/=c,t/=c),b[a]=m,b[a+1]=r,b[a+2]=t;return new Cn(b,3)}u('gl3d.meshs.Meshs.computeTangent',Hn);function Jn(a,b){b='undefined'!==typeof b?b:4;for(var c=Array(a.pos.data.length/3*4),d=0;d<c.length/4;)for(var e=Math.random(),f=Math.random(),g=Math.random(),k=Math.random(),m=0;m<b;m++,d++)c[4*d]=e,c[4*d+1]=f,c[4*d+2]=g,c[4*d+3]=k;return new Cn(c,4)}u('gl3d.meshs.Meshs.computeRandom',Jn);
function Kn(a){return new Cn(Array(a.pos.data.length/3*4),4)}u('gl3d.meshs.Meshs.computeSphereRandom',Kn);function Ln(a){var b=Array(a.pos.data.length);a=a.index.data;for(var c=0;c<a.length;c+=3){var d=3*a[c];b[d++]=0;b[d++]=0;b[d]=1;d=3*a[c+1];b[d++]=0;b[d++]=1;b[d]=0;d=3*a[c+2];b[d++]=1;b[d++]=0;b[d]=0}return new Cn(b,3)}u('gl3d.meshs.Meshs.computeTargetPosition',Ln);function Mn(a){var b=[];a=a.pos.data.length/3/3;for(var c=0;c<a;c++)b.push(3*c,3*c+1,3*c+2);return new Bn(b)}
u('gl3d.meshs.Meshs.computeIndex',Mn);u('gl3d.meshs.Meshs.mul',function(a,b){b='undefined'!==typeof b?b:1;for(var c=a.index.data,d=a.pos.data,e=a.uv.data,f=[],g=[],k=[],m=c.length,r=d.length/3,t=0;t<b;t++){for(var w=0;w<m;w++)f.push(c[w]+t*r);var H,w=0;for(H=d.length;w<H;w++)g.push(d[w]);w=0;for(H=e.length;w<H;w++)k.push(e[w])}return Pn(f,g,k,null)});On.prototype.g={names:[{name:'Meshs',h:vg}]};u(vg,On);function Rn(){0!=Sn&&(Tn[this[xk]||(this[xk]=++yk)]=this);this.vd=this.vd;this.Kd=this.Kd}var Sn=0,Tn={};Rn.prototype.vd=!1;Rn.prototype.D=function(){if(!this.vd&&(this.vd=!0,this.Ee(),0!=Sn)){var a=this[xk]||(this[xk]=++yk);delete Tn[a]}};Rn.prototype.Ee=function(){if(this.Kd)for(;this.Kd.length;)this.Kd.shift()()};function Un(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Cb=!1;this.ti=!0}Un.prototype.stopPropagation=function(){this.Cb=!0};Un.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ti=!1};var Vn='closure_listenable_'+(1E6*Math.random()|0),Wn=0;function Xn(a,b,c,d,e){this.listener=a;this.Nd=null;this.src=b;this.type=c;this.zc=!!d;this.Dd=e;this.key=++Wn;this.fc=this.pd=!1}function Yn(a){a.fc=!0;a.listener=null;a.Nd=null;a.src=null;a.Dd=null};function Zn(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}var $n='constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf'.split(' ');function ao(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<$n.length;f++)c=$n[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function bo(a){bo[fa](a);return a}bo[fa]=h();var co=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,aa)};function eo(a,b){return a<b?-1:a>b?1:0};var fo=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(typeof a==ej)return typeof b==ej&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function go(a){this.src=a;this.P={};this.Yc=0}go.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.P[f];a||(a=this.P[f]=[],this.Yc++);var g=ho(a,b,d,e);-1<g?(b=a[g],c||(b.pd=!1)):(b=new Xn(b,this.src,f,!!d,e),b.pd=c,a.push(b));return b};go.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.P))return!1;var e=this.P[a];b=ho(e,b,c,d);return-1<b?(Yn(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.P[a],this.Yc--),!0):!1};
function io(a,b){var c=b.type;if(c in a.P){var d=a.P[c],e=fo(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(Yn(b),0==a.P[c].length&&(delete a.P[c],a.Yc--))}}go.prototype.Ne=function(a,b,c,d){a=this.P[a.toString()];var e=-1;a&&(e=ho(a,b,c,d));return-1<e?a[e]:null};go.prototype.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():aa,e=void 0!==b;return Zn(this.P,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].zc!=b))return!0;return!1})};
function ho(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.fc&&f.listener==b&&f.zc==!!c&&f.Dd==d)return e}return-1};var jo;a:{var ko=vk.navigator;if(ko){var lo=ko.userAgent;if(lo){jo=lo;break a}}jo=aa};var mo=-1!=jo.indexOf('Opera'),no=-1!=jo.indexOf('Trident')||-1!=jo.indexOf('MSIE'),oo=-1!=jo.indexOf('Edge'),po=-1!=jo.indexOf('Gecko')&&!(-1!=jo.toLowerCase().indexOf('webkit')&&-1==jo.indexOf('Edge'))&&!(-1!=jo.indexOf('Trident')||-1!=jo.indexOf('MSIE'))&&-1==jo.indexOf('Edge'),qo=-1!=jo.toLowerCase().indexOf('webkit')&&-1==jo.indexOf('Edge');function ro(){var a=vk.document;return a?a.documentMode:void 0}var so;
a:{var to=aa,uo=function(){var a=jo;if(po)return/rv\:([^\);]+)(\)|;)/.exec(a);if(oo)return/Edge\/([\d\.]+)/.exec(a);if(no)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(qo)return/WebKit\/(\S+)/.exec(a);if(mo)return/(?:Version)[ \/]?(\S+)/.exec(a)}();uo&&(to=uo?uo[1]:aa);if(no){var vo=ro();if(null!=vo&&vo>parseFloat(to)){so=String(vo);break a}}so=to}var wo={};
function xo(a){var b;if(!(b=wo[a])){b=0;for(var c=co(String(so)).split(lb),d=co(String(a)).split(lb),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||aa,k=d[f]||aa,m=/(\d*)(\D*)/g,r=/(\d*)(\D*)/g;do{var t=m.exec(g)||[aa,aa,aa],w=r.exec(k)||[aa,aa,aa];if(0==t[0].length&&0==w[0].length)break;b=eo(0==t[1].length?0:parseInt(t[1],10),0==w[1].length?0:parseInt(w[1],10))||eo(0==t[2].length,0==w[2].length)||eo(t[2],w[2])}while(0==b)}b=wo[a]=0<=b}return b}
var yo=vk.document,zo=yo&&no?ro()||('CSS1Compat'==yo.compatMode?parseInt(so,10):5):void 0;var Ao;(Ao=!no)||(Ao=9<=Number(zo));var Bo=Ao,Co=no&&!xo('9');!qo||xo('528');po&&xo('1.9b')||no&&xo('8')||mo&&xo('9.5')||qo&&xo('528');po&&!xo('8')||no&&xo('9');function Do(a,b){Un.call(this,a?a.type:aa);this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Gc=this.state=null;a&&this.ma(a,b)}Ck(Do,Un);
Do.prototype.ma=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(po){var f;a:{try{bo(e.nodeName);f=!0;break a}catch(g){}f=!1}f||(e=null)}}else c==Ch?e=a.fromElement:c==Bh&&(e=a.toElement);this.relatedTarget=e;null===d?(this.offsetX=qo||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=qo||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=
void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c==Zg?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Gc=a;a.defaultPrevented&&this.preventDefault()};
Do.prototype.stopPropagation=function(){Do.Z.stopPropagation.call(this);this.Gc.stopPropagation?this.Gc.stopPropagation():this.Gc.cancelBubble=!0};Do.prototype.preventDefault=function(){Do.Z.preventDefault.call(this);var a=this.Gc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Co)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Eo='closure_lm_'+(1E6*Math.random()|0),Fo={},Go=0;
function Ho(a,b,c,d,e){if(wk(b)==hc)for(var f=0;f<b.length;f++)Ho(a,b[f],c,d,e);else if(c=Io(c),a&&a[Vn])a.Ra.add(String(b),c,!1,d,e);else{if(!b)throw Error('Invalid event type');var f=!!d,g=Jo(a);g||(a[Eo]=g=new go(a));c=g.add(b,c,!1,d,e);if(!c.Nd){d=Ko();c.Nd=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(Lo(b.toString()),d);else throw Error('addEventListener and attachEvent are unavailable.');Go++}}}
function Ko(){var a=Mo,b=Bo?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function No(a,b,c,d,e){if(wk(b)==hc)for(var f=0;f<b.length;f++)No(a,b[f],c,d,e);else c=Io(c),a&&a[Vn]?a.Ra.remove(String(b),c,d,e):a&&(a=Jo(a))&&(b=a.Ne(b,c,!!d,e))&&Oo(b)}
function Oo(a){if(typeof a!=Vh&&a&&!a.fc){var b=a.src;if(b&&b[Vn])io(b.Ra,a);else{var c=a.type,d=a.Nd;b.removeEventListener?b.removeEventListener(c,d,a.zc):b.detachEvent&&b.detachEvent(Lo(c),d);Go--;(c=Jo(b))?(io(c,a),0==c.Yc&&(c.src=null,b[Eo]=null)):Yn(a)}}}function Lo(a){return a in Fo?Fo[a]:Fo[a]=Yh+a}function Po(a,b,c,d){var e=!0;if(a=Jo(a))if(b=a.P[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.zc==c&&!f.fc&&(f=Qo(f,d),e=e&&!1!==f)}return e}
function Qo(a,b){var c=a.listener,d=a.Dd||a.src;a.pd&&Oo(a);return c.call(d,b)}
function Mo(a,b){if(a.fc)return!0;if(!Bo){var c;if(!(c=b))a:{c=[nk,te];for(var d=vk,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Do(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(m){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,g=e.length-1;!c.Cb&&0<=g;g--){c.currentTarget=e[g];var k=Po(e[g],f,!0,c),d=d&&k}for(g=0;!c.Cb&&g<e.length;g++)c.currentTarget=
e[g],k=Po(e[g],f,!1,c),d=d&&k}return d}return Qo(a,new Do(b,this))}function Jo(a){a=a[Eo];return a instanceof go?a:null}var Ro='__closure_events_fn_'+(1E9*Math.random()>>>0);function Io(a){if(wk(a)==dg)return a;a[Ro]||(a[Ro]=function(b){return a.handleEvent(b)});return a[Ro]};function So(){Rn.call(this);this.Ra=new go(this);this.tg=this;this.kf=null}Ck(So,Rn);So.prototype[Vn]=!0;q=So.prototype;q.addEventListener=function(a,b,c,d){Ho(this,a,b,c,d)};q.removeEventListener=function(a,b,c,d){No(this,a,b,c,d)};
q.dispatchEvent=function(a){var b,c=this.kf;if(c)for(b=[];c;c=c.kf)b.push(c);var c=this.tg,d=a.type||a;if(typeof a==ej)a=new Un(a,c);else if(a instanceof Un)a.target=a.target||c;else{var e=a;a=new Un(d,c);ao(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Cb&&0<=g;g--)f=a.currentTarget=b[g],e=To(f,d,!0,a)&&e;a.Cb||(f=a.currentTarget=c,e=To(f,d,!0,a)&&e,a.Cb||(e=To(f,d,!1,a)&&e));if(b)for(g=0;!a.Cb&&g<b.length;g++)f=a.currentTarget=b[g],e=To(f,d,!1,a)&&e;return e};
q.Ee=function(){So.Z.Ee.call(this);if(this.Ra){var a=this.Ra,b=0,c;for(c in a.P){for(var d=a.P[c],e=0;e<d.length;e++)++b,Yn(d[e]);delete a.P[c];a.Yc--}}this.kf=null};function To(a,b,c,d){b=a.Ra.P[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.fc&&g.zc==c){var k=g.listener,m=g.Dd||g.src;g.pd&&io(a.Ra,g);e=!1!==k.call(m,d)&&e}}return e&&0!=d.ti}q.Ne=function(a,b,c,d){return this.Ra.Ne(String(a),b,c,d)};
q.hasListener=function(a,b){return this.Ra.hasListener(void 0!==a?String(a):void 0,b)};function Uo(a){So.call(this);a='undefined'!==typeof a?a:null;null!=a&&(this.tg=a)}Ck(Uo,So);Uo.prototype.Fa=function(a){if(this&&this[Vn])a=this.hasListener(a,void 0);else{var b=Jo(this);a=!!b&&b.hasListener(a,void 0)}return a};Uo.prototype.hasEventListener=Uo.prototype.Fa;Uo.prototype.dispatchEvent=function(a){try{return Uo.Z.dispatchEvent.call(this,a)}catch(b){if(b.name!=dj)throw b;}return!1};Uo.prototype.dispatchEvent=Uo.prototype.dispatchEvent;Uo.prototype.g={names:[{name:Ab,h:ei}],ja:[pm]};
u(ei,Uo);function Vo(){Uo.call(this);this.za={}}Ck(Vo,Uo);Vo.prototype.Pe=function(a){return this.za[a]};Vo.prototype.getProperty=Vo.prototype.Pe;Vo.prototype.setProperty=function(a,b){this.za[a]=b};Vo.prototype.setProperty=Vo.prototype.setProperty;Vo.prototype.Qe=function(a){return this.za.hasOwnProperty(a)};Vo.prototype.hasProperty=Vo.prototype.Qe;Vo.prototype.Be=function(a){delete this.za[a]};Vo.prototype.deleteProperty=Vo.prototype.Be;Vo.prototype.He=function(){var a=[],b;for(b in this.za)a.push(b);return a};
Vo.prototype.elementNames=Vo.prototype.He;Vo.prototype.g={names:[{name:'Proxy',h:gi}]};u(gi,Vo);function Wo(a){a='undefined'!==typeof a?a:!1;Vo.call(this);this.ma(a)}Ck(Wo,Vo);Wo.prototype.ma=h();Wo.prototype.g={names:[{name:'Dictionary',h:Mf}]};u(Mf,Wo);function Xo(a){this.version='undefined'!==typeof a?a:1}Ck(Xo,mm);var Yo=!1;Xo.prototype.fb=!1;Xo.prototype.verbose=Xo.prototype.fb;
Xo.prototype.Pa=function(a){Yo||(Yo=!0,Zo.mov=new $o(Fh,2,0,0),Zo.add=new $o($b,3,1,0),Zo.sub=new $o(fj,3,2,0),Zo.mul=new $o(Gh,3,3,0),Zo.div=new $o(Xd,3,4,0),Zo.rcp=new $o(pi,2,5,0),Zo.min=new $o(nh,3,6,0),Zo.max=new $o(mh,3,7,0),Zo.frc=new $o(Yf,2,8,0),Zo.sqt=new $o(Vi,2,9,0),Zo.rsq=new $o(Ai,2,10,0),Zo.pow=new $o(ji,3,11,0),Zo.log=new $o(hh,2,12,0),Zo.exp=new $o(ue,2,13,0),Zo.nrm=new $o(Th,2,14,0),Zo.sin=new $o(Li,2,15,0),Zo.cos=new $o(Pd,2,16,0),Zo.crs=new $o(Qd,3,17,0),Zo.dp3=new $o(Zd,3,18,
0),Zo.dp4=new $o($d,3,19,0),Zo.abs=new $o(Yb,2,20,0),Zo.neg=new $o(Kh,2,21,0),Zo.sat=new $o(Di,2,22,0),Zo.m33=new $o(ih,3,23,16),Zo.m44=new $o(kh,3,24,16),Zo.m34=new $o(jh,3,25,16),Zo.ddx=new $o(Td,2,26,288),Zo.ddy=new $o(Ud,2,27,288),Zo.ife=new $o(Og,2,28,897),Zo.ine=new $o(Sg,2,29,897),Zo.ifg=new $o(Pg,2,30,897),Zo.ifl=new $o(Qg,2,31,897),Zo.els=new $o(de,0,32,1921),Zo.eif=new $o(ce,0,33,1409),Zo.kil=new $o(ah,1,39,160),Zo.tex=new $o(ij,3,40,40),Zo.sge=new $o(Hi,3,41,0),Zo.slt=new $o(Oi,3,42,0),
Zo.sgn=new $o(Ii,2,43,0),Zo.seq=new $o(Gi,3,44,0),Zo.sne=new $o(Pi,3,45,0),ap.rgba=new bp(vi,8,0),ap.dxt1=new bp(ae,8,1),ap.dxt5=new bp(be,8,2),ap.video=new bp(dk,8,3),ap[nb]=new bp(nb,12,0),ap[ob]=new bp(ob,12,2),ap.cube=new bp(Rd,12,1),ap.mipnearest=new bp(ph,24,1),ap.miplinear=new bp(oh,24,2),ap.mipnone=new bp(qh,24,0),ap.nomip=new bp(Oh,24,0),ap.nearest=new bp(Jh,28,0),ap.linear=new bp(fh,28,1),ap.anisotropic2x=new bp(ec,28,2),ap.anisotropic4x=new bp(fc,28,3),ap.anisotropic8x=new bp(gc,28,4),
ap.anisotropic16x=new bp(dc,28,5),ap.centroid=new bp(Dd,16,1),ap.single=new bp(Mi,16,2),ap.ignoresampler=new bp(Rg,16,4),ap.repeat=new bp(ri,20,1),ap.wrap=new bp(pk,20,1),ap.clamp=new bp(Ed,20,0),ap.clamp_u_repeat_v=new bp(Fd,20,2),ap.repeat_u_clamp_v=new bp(si,20,3),cp(1),cp(2));var b=1==this.version?dp:ep,c=a.programType==Uf,d;d=a.programType==Xj?Qj:we;var e=new L;this.data=e;e.endian=gh;e.ga(160);e.ed(this.version);e.ga(161);e.ga(c?1:0);a=a.lines;for(var f=0,g=0;g<a.length;g++){var k=a[g],m=k[0];
1!=this.version||m!=Td&&m!=Ud||(m=Fh);var m=Zo[m],r=k.flag;if(null==m)3<=k.length&&Mk(kk+g+rb+a[g]);else{if(m.flags&256&&2>this.version){this._error=ne;break}if(m.flags&64&&c){this._error=me;break}if(m.flags&32&&!c){this._error=le;break}this.fb&&Mk(ee+m);e.ed(m.emitCode);f++;if(2048<f){this._error=qe;break}for(var t=!1,w=160,H=k.length-1,E=0;E<H;E++){var z=k[E+1],K=z.index,J=x(z.component,om);this.fb&&J&&Mk(Cb);var O=b[d+z.type];if(null==O){this._error=je+E+ma+z.type+Ma;t=!0;break}if(c){if(!(O.flags&
32)){this._error=oe+E+ma+z.type+Ka;t=!0;break}if(J){this._error=oe+E+ma+z.type+La;t=!0;break}}else if(!(O.flags&64)){this._error=oe+E+ma+z.type+Ja;t=!0;break}if(O.range<K){this._error=oe+E+ma+z.type+Ia+(O.range+1)+lb;t=!0;break}var W=0,ka=null;x(z.component,String)&&(ka=v(z.component,String));var pa=0==E&&!(m.flags&128),ua=2==E&&m.flags&8,Aa=0,sa=0,Da=0;if(pa&&J){this._error=pe;t=!0;break}if(ka){for(var W=0,Ea,kb=ka.length,da=1;da<=kb;da++)Ea=ka.charCodeAt(da-1)-120,2<Ea&&(Ea=3),W=pa?W|1<<Ea:W|Ea<<
(da-1<<1);if(!pa)for(;4>=da;da++)W|=Ea<<(da-1<<1)}else W=pa?15:228;if(J){da=v(z.component,om);K=da.index;Aa=b[d+da.type];if(null==Aa){this._error=ie;t=!0;break}Aa=Aa.emitCode;sa=v(da.component,String).charCodeAt(0)-120;2<sa&&(sa=3);Da=z.index+z.componentOffset;if(0>Da||255<Da){this._error=ke+Da+ra;t=!0;break}this.fb&&Mk(Eb+Aa+vb+sa+ub+K+oa+Da)}this.fb&&Mk(ja+O+Kb+K+Sb+W+Rb);if(pa)e.pc(K),e.ga(W),e.ga(O.emitCode),w-=32;else{if(ua){this.fb&&Mk(la);z=5;J=null==r?0:r.length;for(da=O=0;da<J;da++)this.fb&&
Mk(ia+r[da]),W=ap[r[da]],null==W?(O=Number(r[da]),this.fb&&Mk(ga+O)):(16!=W.flag&&(z&=~(15<<W.flag)),z|=W.mask>>>0<<(W.flag>>>0));e.pc(K);e.ga(8*O>>0);e.ga(0);e.ed(z);this.fb&&Mk(ha+(z-5))}else 0==E&&(e.ed(0),w-=32),e.pc(K),e.ga(Da),e.ga(W),e.ga(O.emitCode),e.ga(Aa),e.pc(J?sa|32768:0);w-=64}}for(E=0;E<w;E+=8)e.ga(0);if(t)break}}};Xo.prototype.creat=Xo.prototype.Pa;
function cp(a){var b=1==a?dp:ep;b.v3=new fp(Rj,Yj,0,7,66);b.v1=new fp(Vj,Zj,1,1==a?127:249,66);b.v2=new fp(hk,bk,2,1==a?7:25,67);b.v7=new fp(fk,ak,3,0,65);b.v4=b.f4=new fp(ck,Tj,4,1==a?7:9,99);b.f1=new fp(xe,Vf,1,1==a?27:63,34);b.f2=new fp(bg,Xf,2,1==a?7:25,35);b.f5=new fp(ag,jj,5,7,34);b.f6=new fp(Tf,Wf,3,1==a?0:3,33)}var Zo=new Wo,dp=new Wo,ep=new Wo,ap=new Wo;Xo.prototype.g={names:[{name:'AGALByteCreator',h:ic}]};u(ic,Xo);function $o(a,b,c,d){this.Da=a;this.jg=b;this.tc=c;this.uc=d}
$o.prototype.toString=function(){return Lb+this.Da+ya+this.jg+Za+this.tc+$a+this.uc+Rb};$o.prototype.toString=$o.prototype.toString;Object.defineProperties($o.prototype,{emitCode:{get:n('tc')},flags:{get:n('uc')},name:{get:n('Da')},numRegister:{get:n('jg')}});$o.prototype.g={names:[{name:'OpCode',h:jc}]};u(jc,$o);function fp(a,b,c,d,e){this.Da=a;this.gg=b;this.tc=c;this.kg=d;this.uc=e}fp.prototype.toString=function(){return Mb+this.Da+wa+this.gg+ta+this.tc+db+this.kg+$a+this.uc+Rb};
fp.prototype.toString=fp.prototype.toString;Object.defineProperties(fp.prototype,{emitCode:{get:n('tc')},longName:{get:n('gg')},name:{get:n('Da')},flags:{get:n('uc')},range:{get:n('kg')}});fp.prototype.g={names:[{name:'Register',h:kc}]};u(kc,fp);function bp(a,b,c){this.Da=a;this.cg=b;this.wj=c}bp.prototype.toString=function(){return Nb+this.Da+va+this.cg+xa+this.mask+Rb};bp.prototype.toString=bp.prototype.toString;Object.defineProperties(bp.prototype,{flag:{get:n('cg')},mask:{get:n('wj')},name:{get:n('Da')}});
bp.prototype.g={names:[{name:'Sampler',h:lc}]};u(lc,bp);function gp(){this.textureSets=[];this.textureSets=[];this.buffSets=[]}gp.prototype.m=!0;gp.prototype.invalid=gp.prototype.m;gp.prototype.debug=!0;gp.prototype.debug=gp.prototype.debug;var hp={};u('gl3d.core.shaders.GLShader.PROGRAM_POOL',hp);
gp.prototype.Gh=function(a){this.vs=this.Ad(a);this.fs=this.zd(a);if(this.vs&&this.fs){wm.playerType==Ui?(this.vs.creator=new rm,this.fs.creator=new rm):(this.vs.creator=new Xo(a.view.renderer.agalVersion),this.fs.creator=new Xo(a.view.renderer.agalVersion));var b;a:{b=this.vs.code;var c=this.fs.code;a=this+pb+a.view.id;var d=hp[a];if(d)var e=v(d,Array);if(e){a=e;for(var f in a)if(d=a[f],x(d.vcode,String)){if(d.vcode==b&&d.fcode==c){b=d;break a}}else if(d.vcode.length==b.length&&d.fcode.length==c.length){for(var g=
!1,k=d.vcode.length-1;0<=k;k--)if(d.vcode[k]!=b[k]){g=!0;break}if(!g){g=!1;for(k=d.fcode.length-1;0<=k;k--)if(d.fcode[k]!=c[k]){g=!0;break}if(!g){b=d;break a}}}}else e=hp[a]=[];e.push(new xm(b,c));this.debug&&this.vs&&this.fs&&(Mk(this),this.Fe(this.vs),this.Fe(this.fs),Mk());b=e[e.length-1]}this.programSet=b}return this.programSet};gp.prototype.getProgram=gp.prototype.Gh;
gp.prototype.Fe=function(a){a.creator=new qm;var b=v(a.code,String);Mk(b);Mk(Ld,a.Oa);Mk(Kd,a.constPoolVec);for(var c in a.namedVars)b=a.namedVars[c],b.o&&Mk(b.index,c);a.creator=new rm;Mk(a.code);Mk()};gp.prototype.doDebug=gp.prototype.Fe;gp.prototype.Ad=p(null);gp.prototype.getVertexShader=gp.prototype.Ad;gp.prototype.zd=p(null);gp.prototype.getFragmentShader=gp.prototype.zd;
gp.prototype.update=function(a){this.m&&(this.programSet=this.Gh(a),this.m=!1);this.programSet&&(this.programSet.update(a.view.renderer.gl3d),a.view.renderer.gl3d.Eb(this.programSet.program),a.view.renderer.gl3d.Sc(a.depthMask,a.passCompareMode),a.view.renderer.gl3d.hc(a.sourceFactor,a.destinationFactor),a.view.renderer.gl3d.ic(a.culling));this.vs&&this.fs&&(this.vs.bind(this,a),this.fs.bind(this,a),a.view.renderer.gl3d.ab(Xj,this.vs.Oa,this.vs.constPoolVec),a.view.renderer.gl3d.ab(Uf,this.fs.Oa,
this.fs.constPoolVec));var b=!0;if(this.textureSets)for(var c=0;c<this.textureSets.length;c++){var d=this.textureSets[c];d&&(d.update(a.view),d.ready||(b=!1))}if(b){if(this.textureSets)for(c=0;c<this.textureSets.length;c++)(d=this.textureSets[c])&&d.bind(a.view.renderer.gl3d,c);if(this.buffSets)for(c=0;c<this.buffSets.length;c++)if(b=this.buffSets[c])b.update(a.view.renderer.gl3d),b.bind(a.view.renderer.gl3d,c);this.programSet&&a.view.renderer.gl3d.na(a.node.drawable.index,0,a.node.drawable.index.cc)}};
gp.prototype.update=gp.prototype.update;gp.prototype.g={names:[{name:'GLShader',h:ug}]};u(ug,gp);function ip(){gp.call(this)}Ck(ip,gp);ip.prototype.Ad=function(a){return new rn(a)};ip.prototype.getVertexShader=ip.prototype.Ad;ip.prototype.zd=function(a){return new pn(a,v(this.vs,rn))};ip.prototype.getFragmentShader=ip.prototype.zd;ip.prototype.g={names:[{name:'PhongGLShader',h:zg}]};u(zg,ip);function zn(a){R.call(this);this.shader=('undefined'!==typeof a?a:null)||new ip}Ck(zn,R);zn.prototype.Yh=-1;zn.prototype.G=function(a,b){this.view=b;this.camera=this.materialCamera||b.camera;this.node=a;if(a.drawable&&this.shader){var c=a.skin&&a.skin.Ci&&!a.skin.aj;this.Cd!=c&&(this.m=!0,this.Cd=c);this.Va&&this.Yh!=b.lights.length&&(this.m=!0,this.Yh=b.lights.length);this.m&&(this.shader.m=!0,this.m=!1);this.shader.update(this)}};zn.prototype.draw=zn.prototype.G;
zn.prototype.g={names:[{name:'Material',h:ig}]};u(ig,zn);function jp(){km.call(this);this.Ka=new An(0);this.Ka.ob=this.Ka.mc=400;this.gb(this.Ka);this.addEventListener(fe,y(this.jk,this,fe));this.kb=new dn;this.kb.drawable=Qn(1,1,1);this.kb.material=new zn;this.kb.material.Va=!1;this.Ka.scene.gb(this.kb);this.Ka.camera.perspective.gi(Math.PI/4,this.Ka.ob/this.Ka.mc,.1,4E3);this.Ka.camera.z=-10;this.Ka.scene.gb(this.kb)}Ck(jp,km);jp.prototype.jk=function(){this.kb.matrix.nd(1,Hl);this.kb.matrix.nd(2,Il);this.kb.I();this.Ka.lb()};
jp.prototype.g={names:[{name:Hb,h:Hb}]};u(Hb,jp);
//# sourceMappingURL=./TestEngine3D.js.map